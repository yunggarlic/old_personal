import b,{createContext as G,useState as l,useRef as d,useMemo as Z,useEffect as c,useContext as X,useLayoutEffect as u,Suspense as W}from"react";import{useThree as L,useFrame as m}from"react-three-fiber";import{Object3D as p,MathUtils as a,InstancedMesh as s,DynamicDrawUsage as y,Vector3 as V}from"three";const h=G({});function x(b,G,l){var d=void 0===G?null:G,Z=function(b,G){var l=atob(b);if(G){for(var d=new Uint8Array(l.length),Z=0,c=l.length;Z<c;++Z)d[Z]=l.charCodeAt(Z);return String.fromCharCode.apply(null,new Uint16Array(d.buffer))}return l}(b,void 0!==l&&l),c=Z.indexOf("\n",10)+1,X=Z.substring(c)+(d?"//# sourceMappingURL="+d:""),u=new Blob([X],{type:"application/javascript"});return URL.createObjectURL(u)}var Y,z,R,n,S=(Y="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0PVswLDAsMCwwLDAsMCwwLDAsMF0pe3RoaXMuZWxlbWVudHM9dH1pZGVudGl0eSgpe2NvbnN0IHQ9dGhpcy5lbGVtZW50czt0WzBdPTEsdFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0xLHRbNV09MCx0WzZdPTAsdFs3XT0wLHRbOF09MX1zZXRaZXJvKCl7Y29uc3QgdD10aGlzLmVsZW1lbnRzO3RbMF09MCx0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs1XT0wLHRbNl09MCx0WzddPTAsdFs4XT0wfXNldFRyYWNlKHQpe2NvbnN0IGU9dGhpcy5lbGVtZW50cztlWzBdPXQueCxlWzRdPXQueSxlWzhdPXQuen1nZXRUcmFjZSh0PW5ldyBlKXtjb25zdCBzPXRoaXMuZWxlbWVudHM7cmV0dXJuIHQueD1zWzBdLHQueT1zWzRdLHQuej1zWzhdLHR9dm11bHQodCxzPW5ldyBlKXtjb25zdCBpPXRoaXMuZWxlbWVudHMsbz10Lngsbj10Lnkscj10Lno7cmV0dXJuIHMueD1pWzBdKm8raVsxXSpuK2lbMl0qcixzLnk9aVszXSpvK2lbNF0qbitpWzVdKnIscy56PWlbNl0qbytpWzddKm4raVs4XSpyLHN9c211bHQodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLmVsZW1lbnRzLmxlbmd0aDtlKyspdGhpcy5lbGVtZW50c1tlXSo9dH1tbXVsdChlLHM9bmV3IHQpe2NvbnN0IGk9dGhpcy5lbGVtZW50cyxvPWUuZWxlbWVudHMsbj1zLmVsZW1lbnRzLHI9aVswXSxhPWlbMV0sbD1pWzJdLGM9aVszXSxoPWlbNF0sdT1pWzVdLGQ9aVs2XSxwPWlbN10seT1pWzhdLG09b1swXSx2PW9bMV0sdz1vWzJdLGY9b1szXSxnPW9bNF0seD1vWzVdLGI9b1s2XSxBPW9bN10sQj1vWzhdO3JldHVybiBuWzBdPXIqbSthKmYrbCpiLG5bMV09cip2K2EqZytsKkEsblsyXT1yKncrYSp4K2wqQixuWzNdPWMqbStoKmYrdSpiLG5bNF09Yyp2K2gqZyt1KkEsbls1XT1jKncraCp4K3UqQixuWzZdPWQqbStwKmYreSpiLG5bN109ZCp2K3AqZyt5KkEsbls4XT1kKncrcCp4K3kqQixzfXNjYWxlKGUscz1uZXcgdCl7Y29uc3QgaT10aGlzLmVsZW1lbnRzLG89cy5lbGVtZW50cztmb3IobGV0IHQ9MDszIT09dDt0Kyspb1szKnQrMF09ZS54KmlbMyp0KzBdLG9bMyp0KzFdPWUueSppWzMqdCsxXSxvWzMqdCsyXT1lLnoqaVszKnQrMl07cmV0dXJuIHN9c29sdmUodCxzPW5ldyBlKXtjb25zdCBpPVtdO2xldCBvLG47Zm9yKG89MDtvPDEyO28rKylpLnB1c2goMCk7Zm9yKG89MDtvPDM7bysrKWZvcihuPTA7bjwzO24rKylpW28rNCpuXT10aGlzLmVsZW1lbnRzW28rMypuXTtpWzNdPXQueCxpWzddPXQueSxpWzExXT10Lno7bGV0IHI9Mztjb25zdCBhPXI7bGV0IGw7bGV0IGM7ZG97aWYobz1hLXIsMD09PWlbbys0Km9dKWZvcihuPW8rMTtuPGE7bisrKWlmKDAhPT1pW28rNCpuXSl7bD00O2Rve2M9NC1sLGlbYys0Km9dKz1pW2MrNCpuXX13aGlsZSgtLWwpO2JyZWFrfWlmKDAhPT1pW28rNCpvXSlmb3Iobj1vKzE7bjxhO24rKyl7Y29uc3QgdD1pW28rNCpuXS9pW28rNCpvXTtsPTQ7ZG97Yz00LWwsaVtjKzQqbl09Yzw9bz8wOmlbYys0Km5dLWlbYys0Km9dKnR9d2hpbGUoLS1sKX19d2hpbGUoLS1yKTtpZihzLno9aVsxMV0vaVsxMF0scy55PShpWzddLWlbNl0qcy56KS9pWzVdLHMueD0oaVszXS1pWzJdKnMuei1pWzFdKnMueSkvaVswXSxpc05hTihzLngpfHxpc05hTihzLnkpfHxpc05hTihzLnopfHxzLng9PT0xLzB8fHMueT09PTEvMHx8cy56PT09MS8wKXRocm93IkNvdWxkIG5vdCBzb2x2ZSBlcXVhdGlvbiEgR290IHg9WyIrcy50b1N0cmluZygpKyJdLCBiPVsiK3QudG9TdHJpbmcoKSsiXSwgQT1bIit0aGlzLnRvU3RyaW5nKCkrIl0iO3JldHVybiBzfWUodCxlLHMpe2lmKHZvaWQgMD09PXMpcmV0dXJuIHRoaXMuZWxlbWVudHNbZSszKnRdO3RoaXMuZWxlbWVudHNbZSszKnRdPXN9Y29weSh0KXtmb3IobGV0IGU9MDtlPHQuZWxlbWVudHMubGVuZ3RoO2UrKyl0aGlzLmVsZW1lbnRzW2VdPXQuZWxlbWVudHNbZV07cmV0dXJuIHRoaXN9dG9TdHJpbmcoKXtsZXQgdD0iIjtmb3IobGV0IGU9MDtlPDk7ZSsrKXQrPXRoaXMuZWxlbWVudHNbZV0rIiwiO3JldHVybiB0fXJldmVyc2UoZT1uZXcgdCl7Y29uc3Qgcz1bXTtsZXQgaSxvO2ZvcihpPTA7aTwxODtpKyspcy5wdXNoKDApO2ZvcihpPTA7aTwzO2krKylmb3Iobz0wO288MztvKyspc1tpKzYqb109dGhpcy5lbGVtZW50c1tpKzMqb107c1szXT0xLHNbOV09MCxzWzE1XT0wLHNbNF09MCxzWzEwXT0xLHNbMTZdPTAsc1s1XT0wLHNbMTFdPTAsc1sxN109MTtsZXQgbj0zO2NvbnN0IHI9bjtsZXQgYTtsZXQgbDtkb3tpZihpPXItbiwwPT09c1tpKzYqaV0pZm9yKG89aSsxO288cjtvKyspaWYoMCE9PXNbaSs2Km9dKXthPTY7ZG97bD02LWEsc1tsKzYqaV0rPXNbbCs2Km9dfXdoaWxlKC0tYSk7YnJlYWt9aWYoMCE9PXNbaSs2KmldKWZvcihvPWkrMTtvPHI7bysrKXtjb25zdCB0PXNbaSs2Km9dL3NbaSs2KmldO2E9Njtkb3tsPTYtYSxzW2wrNipvXT1sPD1pPzA6c1tsKzYqb10tc1tsKzYqaV0qdH13aGlsZSgtLWEpfX13aGlsZSgtLW4pO2k9Mjtkb3tvPWktMTtkb3tjb25zdCB0PXNbaSs2Km9dL3NbaSs2KmldO2E9Njtkb3tsPTYtYSxzW2wrNipvXT1zW2wrNipvXS1zW2wrNippXSp0fXdoaWxlKC0tYSl9d2hpbGUoby0tKX13aGlsZSgtLWkpO2k9Mjtkb3tjb25zdCB0PTEvc1tpKzYqaV07YT02O2Rve2w9Ni1hLHNbbCs2KmldPXNbbCs2KmldKnR9d2hpbGUoLS1hKX13aGlsZShpLS0pO2k9Mjtkb3tvPTI7ZG97aWYobD1zWzMrbys2KmldLGlzTmFOKGwpfHxsPT09MS8wKXRocm93IkNvdWxkIG5vdCByZXZlcnNlISBBPVsiK3RoaXMudG9TdHJpbmcoKSsiXSI7ZS5lKGksbyxsKX13aGlsZShvLS0pfXdoaWxlKGktLSk7cmV0dXJuIGV9c2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbih0KXtjb25zdCBlPXQueCxzPXQueSxpPXQueixvPXQudyxuPWUrZSxyPXMrcyxhPWkraSxsPWUqbixjPWUqcixoPWUqYSx1PXMqcixkPXMqYSxwPWkqYSx5PW8qbixtPW8qcix2PW8qYSx3PXRoaXMuZWxlbWVudHM7cmV0dXJuIHdbMF09MS0odStwKSx3WzFdPWMtdix3WzJdPWgrbSx3WzNdPWMrdix3WzRdPTEtKGwrcCksd1s1XT1kLXksd1s2XT1oLW0sd1s3XT1kK3ksd1s4XT0xLShsK3UpLHRoaXN9dHJhbnNwb3NlKGU9bmV3IHQpe2NvbnN0IHM9dGhpcy5lbGVtZW50cyxpPWUuZWxlbWVudHM7bGV0IG87cmV0dXJuIGlbMF09c1swXSxpWzRdPXNbNF0saVs4XT1zWzhdLG89c1sxXSxpWzFdPXNbM10saVszXT1vLG89c1syXSxpWzJdPXNbNl0saVs2XT1vLG89c1s1XSxpWzVdPXNbN10saVs3XT1vLGV9fWNsYXNzIGV7Y29uc3RydWN0b3IodD0wLGU9MCxzPTApe3RoaXMueD10LHRoaXMueT1lLHRoaXMuej1zfWNyb3NzKHQscz1uZXcgZSl7Y29uc3QgaT10Lngsbz10Lnksbj10Lnoscj10aGlzLngsYT10aGlzLnksbD10aGlzLno7cmV0dXJuIHMueD1hKm4tbCpvLHMueT1sKmktcipuLHMuej1yKm8tYSppLHN9c2V0KHQsZSxzKXtyZXR1cm4gdGhpcy54PXQsdGhpcy55PWUsdGhpcy56PXMsdGhpc31zZXRaZXJvKCl7dGhpcy54PXRoaXMueT10aGlzLno9MH12YWRkKHQscyl7aWYoIXMpcmV0dXJuIG5ldyBlKHRoaXMueCt0LngsdGhpcy55K3QueSx0aGlzLnordC56KTtzLng9dC54K3RoaXMueCxzLnk9dC55K3RoaXMueSxzLno9dC56K3RoaXMuen12c3ViKHQscyl7aWYoIXMpcmV0dXJuIG5ldyBlKHRoaXMueC10LngsdGhpcy55LXQueSx0aGlzLnotdC56KTtzLng9dGhpcy54LXQueCxzLnk9dGhpcy55LXQueSxzLno9dGhpcy56LXQuen1jcm9zc21hdCgpe3JldHVybiBuZXcgdChbMCwtdGhpcy56LHRoaXMueSx0aGlzLnosMCwtdGhpcy54LC10aGlzLnksdGhpcy54LDBdKX1ub3JtYWxpemUoKXtjb25zdCB0PXRoaXMueCxlPXRoaXMueSxzPXRoaXMueixpPU1hdGguc3FydCh0KnQrZSplK3Mqcyk7aWYoaT4wKXtjb25zdCB0PTEvaTt0aGlzLngqPXQsdGhpcy55Kj10LHRoaXMueio9dH1lbHNlIHRoaXMueD0wLHRoaXMueT0wLHRoaXMuej0wO3JldHVybiBpfXVuaXQodD1uZXcgZSl7Y29uc3Qgcz10aGlzLngsaT10aGlzLnksbz10aGlzLno7bGV0IG49TWF0aC5zcXJ0KHMqcytpKmkrbypvKTtyZXR1cm4gbj4wPyhuPTEvbix0Lng9cypuLHQueT1pKm4sdC56PW8qbik6KHQueD0xLHQueT0wLHQuej0wKSx0fWxlbmd0aCgpe2NvbnN0IHQ9dGhpcy54LGU9dGhpcy55LHM9dGhpcy56O3JldHVybiBNYXRoLnNxcnQodCp0K2UqZStzKnMpfWxlbmd0aFNxdWFyZWQoKXtyZXR1cm4gdGhpcy5kb3QodGhpcyl9ZGlzdGFuY2VUbyh0KXtjb25zdCBlPXRoaXMueCxzPXRoaXMueSxpPXRoaXMueixvPXQueCxuPXQueSxyPXQuejtyZXR1cm4gTWF0aC5zcXJ0KChvLWUpKihvLWUpKyhuLXMpKihuLXMpKyhyLWkpKihyLWkpKX1kaXN0YW5jZVNxdWFyZWQodCl7Y29uc3QgZT10aGlzLngscz10aGlzLnksaT10aGlzLnosbz10Lngsbj10Lnkscj10Lno7cmV0dXJuKG8tZSkqKG8tZSkrKG4tcykqKG4tcykrKHItaSkqKHItaSl9c2NhbGUodCxzPW5ldyBlKXtjb25zdCBpPXRoaXMueCxvPXRoaXMueSxuPXRoaXMuejtyZXR1cm4gcy54PXQqaSxzLnk9dCpvLHMuej10Km4sc312bXVsKHQscz1uZXcgZSl7cmV0dXJuIHMueD10LngqdGhpcy54LHMueT10LnkqdGhpcy55LHMuej10LnoqdGhpcy56LHN9YWRkU2NhbGVkVmVjdG9yKHQscyxpPW5ldyBlKXtyZXR1cm4gaS54PXRoaXMueCt0KnMueCxpLnk9dGhpcy55K3Qqcy55LGkuej10aGlzLnordCpzLnosaX1kb3QodCl7cmV0dXJuIHRoaXMueCp0LngrdGhpcy55KnQueSt0aGlzLnoqdC56fWlzWmVybygpe3JldHVybiAwPT09dGhpcy54JiYwPT09dGhpcy55JiYwPT09dGhpcy56fW5lZ2F0ZSh0PW5ldyBlKXtyZXR1cm4gdC54PS10aGlzLngsdC55PS10aGlzLnksdC56PS10aGlzLnosdH10YW5nZW50cyh0LGUpe2NvbnN0IG89dGhpcy5sZW5ndGgoKTtpZihvPjApe2NvbnN0IG49cyxyPTEvbztuLnNldCh0aGlzLngqcix0aGlzLnkqcix0aGlzLnoqcik7Y29uc3QgYT1pO01hdGguYWJzKG4ueCk8Ljk/KGEuc2V0KDEsMCwwKSxuLmNyb3NzKGEsdCkpOihhLnNldCgwLDEsMCksbi5jcm9zcyhhLHQpKSxuLmNyb3NzKHQsZSl9ZWxzZSB0LnNldCgxLDAsMCksZS5zZXQoMCwxLDApfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMueCsiLCIrdGhpcy55KyIsIit0aGlzLnp9dG9BcnJheSgpe3JldHVyblt0aGlzLngsdGhpcy55LHRoaXMuel19Y29weSh0KXtyZXR1cm4gdGhpcy54PXQueCx0aGlzLnk9dC55LHRoaXMuej10LnosdGhpc31sZXJwKHQsZSxzKXtjb25zdCBpPXRoaXMueCxvPXRoaXMueSxuPXRoaXMuejtzLng9aSsodC54LWkpKmUscy55PW8rKHQueS1vKSplLHMuej1uKyh0LnotbikqZX1hbG1vc3RFcXVhbHModCxlPTFlLTYpe3JldHVybiEoTWF0aC5hYnModGhpcy54LXQueCk+ZXx8TWF0aC5hYnModGhpcy55LXQueSk+ZXx8TWF0aC5hYnModGhpcy56LXQueik+ZSl9YWxtb3N0WmVybyh0PTFlLTYpe3JldHVybiEoTWF0aC5hYnModGhpcy54KT50fHxNYXRoLmFicyh0aGlzLnkpPnR8fE1hdGguYWJzKHRoaXMueik+dCl9aXNBbnRpcGFyYWxsZWxUbyh0LGUpe3JldHVybiB0aGlzLm5lZ2F0ZShvKSxvLmFsbW9zdEVxdWFscyh0LGUpfWNsb25lKCl7cmV0dXJuIG5ldyBlKHRoaXMueCx0aGlzLnksdGhpcy56KX19ZS5aRVJPPW5ldyBlKDAsMCwwKSxlLlVOSVRfWD1uZXcgZSgxLDAsMCksZS5VTklUX1k9bmV3IGUoMCwxLDApLGUuVU5JVF9aPW5ldyBlKDAsMCwxKTtjb25zdCBzPW5ldyBlLGk9bmV3IGUsbz1uZXcgZTtjbGFzcyBue2NvbnN0cnVjdG9yKHQ9e30pe3RoaXMubG93ZXJCb3VuZD1uZXcgZSx0aGlzLnVwcGVyQm91bmQ9bmV3IGUsdC5sb3dlckJvdW5kJiZ0aGlzLmxvd2VyQm91bmQuY29weSh0Lmxvd2VyQm91bmQpLHQudXBwZXJCb3VuZCYmdGhpcy51cHBlckJvdW5kLmNvcHkodC51cHBlckJvdW5kKX1zZXRGcm9tUG9pbnRzKHQsZSxzLGkpe2NvbnN0IG89dGhpcy5sb3dlckJvdW5kLG49dGhpcy51cHBlckJvdW5kLGE9cztvLmNvcHkodFswXSksYSYmYS52bXVsdChvLG8pLG4uY29weShvKTtmb3IobGV0IGU9MTtlPHQubGVuZ3RoO2UrKyl7bGV0IHM9dFtlXTthJiYoYS52bXVsdChzLHIpLHM9cikscy54Pm4ueCYmKG4ueD1zLngpLHMueDxvLngmJihvLng9cy54KSxzLnk+bi55JiYobi55PXMueSkscy55PG8ueSYmKG8ueT1zLnkpLHMuej5uLnomJihuLno9cy56KSxzLno8by56JiYoby56PXMueil9cmV0dXJuIGUmJihlLnZhZGQobyxvKSxlLnZhZGQobixuKSksaSYmKG8ueC09aSxvLnktPWksby56LT1pLG4ueCs9aSxuLnkrPWksbi56Kz1pKSx0aGlzfWNvcHkodCl7cmV0dXJuIHRoaXMubG93ZXJCb3VuZC5jb3B5KHQubG93ZXJCb3VuZCksdGhpcy51cHBlckJvdW5kLmNvcHkodC51cHBlckJvdW5kKSx0aGlzfWNsb25lKCl7cmV0dXJuKG5ldyBuKS5jb3B5KHRoaXMpfWV4dGVuZCh0KXt0aGlzLmxvd2VyQm91bmQueD1NYXRoLm1pbih0aGlzLmxvd2VyQm91bmQueCx0Lmxvd2VyQm91bmQueCksdGhpcy51cHBlckJvdW5kLng9TWF0aC5tYXgodGhpcy51cHBlckJvdW5kLngsdC51cHBlckJvdW5kLngpLHRoaXMubG93ZXJCb3VuZC55PU1hdGgubWluKHRoaXMubG93ZXJCb3VuZC55LHQubG93ZXJCb3VuZC55KSx0aGlzLnVwcGVyQm91bmQueT1NYXRoLm1heCh0aGlzLnVwcGVyQm91bmQueSx0LnVwcGVyQm91bmQueSksdGhpcy5sb3dlckJvdW5kLno9TWF0aC5taW4odGhpcy5sb3dlckJvdW5kLnosdC5sb3dlckJvdW5kLnopLHRoaXMudXBwZXJCb3VuZC56PU1hdGgubWF4KHRoaXMudXBwZXJCb3VuZC56LHQudXBwZXJCb3VuZC56KX1vdmVybGFwcyh0KXtjb25zdCBlPXRoaXMubG93ZXJCb3VuZCxzPXRoaXMudXBwZXJCb3VuZCxpPXQubG93ZXJCb3VuZCxvPXQudXBwZXJCb3VuZCxuPWkueDw9cy54JiZzLng8PW8ueHx8ZS54PD1vLngmJm8ueDw9cy54LHI9aS55PD1zLnkmJnMueTw9by55fHxlLnk8PW8ueSYmby55PD1zLnksYT1pLno8PXMueiYmcy56PD1vLnp8fGUuejw9by56JiZvLno8PXMuejtyZXR1cm4gbiYmciYmYX12b2x1bWUoKXtjb25zdCB0PXRoaXMubG93ZXJCb3VuZCxlPXRoaXMudXBwZXJCb3VuZDtyZXR1cm4oZS54LXQueCkqKGUueS10LnkpKihlLnotdC56KX1jb250YWlucyh0KXtjb25zdCBlPXRoaXMubG93ZXJCb3VuZCxzPXRoaXMudXBwZXJCb3VuZCxpPXQubG93ZXJCb3VuZCxvPXQudXBwZXJCb3VuZDtyZXR1cm4gZS54PD1pLngmJnMueD49by54JiZlLnk8PWkueSYmcy55Pj1vLnkmJmUuejw9aS56JiZzLno+PW8uen1nZXRDb3JuZXJzKHQsZSxzLGksbyxuLHIsYSl7Y29uc3QgbD10aGlzLmxvd2VyQm91bmQsYz10aGlzLnVwcGVyQm91bmQ7dC5jb3B5KGwpLGUuc2V0KGMueCxsLnksbC56KSxzLnNldChjLngsYy55LGwueiksaS5zZXQobC54LGMueSxjLnopLG8uc2V0KGMueCxsLnksYy56KSxuLnNldChsLngsYy55LGwueiksci5zZXQobC54LGwueSxjLnopLGEuY29weShjKX10b0xvY2FsRnJhbWUodCxlKXtjb25zdCBzPWEsaT1zWzBdLG89c1sxXSxuPXNbMl0scj1zWzNdLGw9c1s0XSxjPXNbNV0saD1zWzZdLHU9c1s3XTt0aGlzLmdldENvcm5lcnMoaSxvLG4scixsLGMsaCx1KTtmb3IobGV0IGU9MDs4IT09ZTtlKyspe2NvbnN0IGk9c1tlXTt0LnBvaW50VG9Mb2NhbChpLGkpfXJldHVybiBlLnNldEZyb21Qb2ludHMocyl9dG9Xb3JsZEZyYW1lKHQsZSl7Y29uc3Qgcz1hLGk9c1swXSxvPXNbMV0sbj1zWzJdLHI9c1szXSxsPXNbNF0sYz1zWzVdLGg9c1s2XSx1PXNbN107dGhpcy5nZXRDb3JuZXJzKGksbyxuLHIsbCxjLGgsdSk7Zm9yKGxldCBlPTA7OCE9PWU7ZSsrKXtjb25zdCBpPXNbZV07dC5wb2ludFRvV29ybGQoaSxpKX1yZXR1cm4gZS5zZXRGcm9tUG9pbnRzKHMpfW92ZXJsYXBzUmF5KHQpe2NvbnN0e2RpcmVjdGlvbjplLGZyb206c309dCxpPTEvZS54LG89MS9lLnksbj0xL2UueixyPSh0aGlzLmxvd2VyQm91bmQueC1zLngpKmksYT0odGhpcy51cHBlckJvdW5kLngtcy54KSppLGw9KHRoaXMubG93ZXJCb3VuZC55LXMueSkqbyxjPSh0aGlzLnVwcGVyQm91bmQueS1zLnkpKm8saD0odGhpcy5sb3dlckJvdW5kLnotcy56KSpuLHU9KHRoaXMudXBwZXJCb3VuZC56LXMueikqbixkPU1hdGgubWF4KE1hdGgubWF4KE1hdGgubWluKHIsYSksTWF0aC5taW4obCxjKSksTWF0aC5taW4oaCx1KSkscD1NYXRoLm1pbihNYXRoLm1pbihNYXRoLm1heChyLGEpLE1hdGgubWF4KGwsYykpLE1hdGgubWF4KGgsdSkpO3JldHVybiEocDwwKSYmIShkPnApfX1jb25zdCByPW5ldyBlLGE9W25ldyBlLG5ldyBlLG5ldyBlLG5ldyBlLG5ldyBlLG5ldyBlLG5ldyBlLG5ldyBlXTtjbGFzcyBse2NvbnN0cnVjdG9yKCl7dGhpcy5tYXRyaXg9W119Z2V0KHQsZSl7bGV0e2luZGV4OnN9PXQse2luZGV4Oml9PWU7aWYoaT5zKXtjb25zdCB0PWk7aT1zLHM9dH1yZXR1cm4gdGhpcy5tYXRyaXhbKHMqKHMrMSk+PjEpK2ktMV19c2V0KHQsZSxzKXtsZXR7aW5kZXg6aX09dCx7aW5kZXg6b309ZTtpZihvPmkpe2NvbnN0IHQ9bztvPWksaT10fXRoaXMubWF0cml4WyhpKihpKzEpPj4xKStvLTFdPXM/MTowfXJlc2V0KCl7Zm9yKGxldCB0PTAsZT10aGlzLm1hdHJpeC5sZW5ndGg7dCE9PWU7dCsrKXRoaXMubWF0cml4W3RdPTB9c2V0TnVtT2JqZWN0cyh0KXt0aGlzLm1hdHJpeC5sZW5ndGg9dCoodC0xKT4+MX19Y2xhc3MgY3tjb25zdHJ1Y3Rvcigpe31hZGRFdmVudExpc3RlbmVyKHQsZSl7dm9pZCAwPT09dGhpcy5fbGlzdGVuZXJzJiYodGhpcy5fbGlzdGVuZXJzPXt9KTtjb25zdCBzPXRoaXMuX2xpc3RlbmVycztyZXR1cm4gdm9pZCAwPT09c1t0XSYmKHNbdF09W10pLHNbdF0uaW5jbHVkZXMoZSl8fHNbdF0ucHVzaChlKSx0aGlzfWhhc0V2ZW50TGlzdGVuZXIodCxlKXtpZih2b2lkIDA9PT10aGlzLl9saXN0ZW5lcnMpcmV0dXJuITE7Y29uc3Qgcz10aGlzLl9saXN0ZW5lcnM7cmV0dXJuISh2b2lkIDA9PT1zW3RdfHwhc1t0XS5pbmNsdWRlcyhlKSl9aGFzQW55RXZlbnRMaXN0ZW5lcih0KXtpZih2b2lkIDA9PT10aGlzLl9saXN0ZW5lcnMpcmV0dXJuITE7cmV0dXJuIHZvaWQgMCE9PXRoaXMuX2xpc3RlbmVyc1t0XX1yZW1vdmVFdmVudExpc3RlbmVyKHQsZSl7aWYodm9pZCAwPT09dGhpcy5fbGlzdGVuZXJzKXJldHVybiB0aGlzO2NvbnN0IHM9dGhpcy5fbGlzdGVuZXJzO2lmKHZvaWQgMD09PXNbdF0pcmV0dXJuIHRoaXM7Y29uc3QgaT1zW3RdLmluZGV4T2YoZSk7cmV0dXJuLTEhPT1pJiZzW3RdLnNwbGljZShpLDEpLHRoaXN9ZGlzcGF0Y2hFdmVudCh0KXtpZih2b2lkIDA9PT10aGlzLl9saXN0ZW5lcnMpcmV0dXJuIHRoaXM7Y29uc3QgZT10aGlzLl9saXN0ZW5lcnNbdC50eXBlXTtpZih2b2lkIDAhPT1lKXt0LnRhcmdldD10aGlzO2ZvcihsZXQgcz0wLGk9ZS5sZW5ndGg7czxpO3MrKyllW3NdLmNhbGwodGhpcyx0KX1yZXR1cm4gdGhpc319Y2xhc3MgaHtjb25zdHJ1Y3Rvcih0PTAsZT0wLHM9MCxpPTEpe3RoaXMueD10LHRoaXMueT1lLHRoaXMuej1zLHRoaXMudz1pfXNldCh0LGUscyxpKXtyZXR1cm4gdGhpcy54PXQsdGhpcy55PWUsdGhpcy56PXMsdGhpcy53PWksdGhpc310b1N0cmluZygpe3JldHVybiB0aGlzLngrIiwiK3RoaXMueSsiLCIrdGhpcy56KyIsIit0aGlzLnd9dG9BcnJheSgpe3JldHVyblt0aGlzLngsdGhpcy55LHRoaXMueix0aGlzLnddfXNldEZyb21BeGlzQW5nbGUodCxlKXtjb25zdCBzPU1hdGguc2luKC41KmUpO3JldHVybiB0aGlzLng9dC54KnMsdGhpcy55PXQueSpzLHRoaXMuej10Lnoqcyx0aGlzLnc9TWF0aC5jb3MoLjUqZSksdGhpc310b0F4aXNBbmdsZSh0PW5ldyBlKXt0aGlzLm5vcm1hbGl6ZSgpO2NvbnN0IHM9MipNYXRoLmFjb3ModGhpcy53KSxpPU1hdGguc3FydCgxLXRoaXMudyp0aGlzLncpO3JldHVybiBpPC4wMDE/KHQueD10aGlzLngsdC55PXRoaXMueSx0Lno9dGhpcy56KToodC54PXRoaXMueC9pLHQueT10aGlzLnkvaSx0Lno9dGhpcy56L2kpLFt0LHNdfXNldEZyb21WZWN0b3JzKHQsZSl7aWYodC5pc0FudGlwYXJhbGxlbFRvKGUpKXtjb25zdCBlPXUscz1kO3QudGFuZ2VudHMoZSxzKSx0aGlzLnNldEZyb21BeGlzQW5nbGUoZSxNYXRoLlBJKX1lbHNle2NvbnN0IHM9dC5jcm9zcyhlKTt0aGlzLng9cy54LHRoaXMueT1zLnksdGhpcy56PXMueix0aGlzLnc9TWF0aC5zcXJ0KHQubGVuZ3RoKCkqKjIqZS5sZW5ndGgoKSoqMikrdC5kb3QoZSksdGhpcy5ub3JtYWxpemUoKX1yZXR1cm4gdGhpc31tdWx0KHQsZT1uZXcgaCl7Y29uc3Qgcz10aGlzLngsaT10aGlzLnksbz10aGlzLnosbj10aGlzLncscj10LngsYT10LnksbD10LnosYz10Lnc7cmV0dXJuIGUueD1zKmMrbipyK2kqbC1vKmEsZS55PWkqYytuKmErbypyLXMqbCxlLno9bypjK24qbCtzKmEtaSpyLGUudz1uKmMtcypyLWkqYS1vKmwsZX1pbnZlcnNlKHQ9bmV3IGgpe2NvbnN0IGU9dGhpcy54LHM9dGhpcy55LGk9dGhpcy56LG89dGhpcy53O3RoaXMuY29uanVnYXRlKHQpO2NvbnN0IG49MS8oZSplK3MqcytpKmkrbypvKTtyZXR1cm4gdC54Kj1uLHQueSo9bix0LnoqPW4sdC53Kj1uLHR9Y29uanVnYXRlKHQ9bmV3IGgpe3JldHVybiB0Lng9LXRoaXMueCx0Lnk9LXRoaXMueSx0Lno9LXRoaXMueix0Lnc9dGhpcy53LHR9bm9ybWFsaXplKCl7bGV0IHQ9TWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56K3RoaXMudyp0aGlzLncpO3JldHVybiAwPT09dD8odGhpcy54PTAsdGhpcy55PTAsdGhpcy56PTAsdGhpcy53PTApOih0PTEvdCx0aGlzLngqPXQsdGhpcy55Kj10LHRoaXMueio9dCx0aGlzLncqPXQpLHRoaXN9bm9ybWFsaXplRmFzdCgpe2NvbnN0IHQ9KDMtKHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56K3RoaXMudyp0aGlzLncpKS8yO3JldHVybiAwPT09dD8odGhpcy54PTAsdGhpcy55PTAsdGhpcy56PTAsdGhpcy53PTApOih0aGlzLngqPXQsdGhpcy55Kj10LHRoaXMueio9dCx0aGlzLncqPXQpLHRoaXN9dm11bHQodCxzPW5ldyBlKXtjb25zdCBpPXQueCxvPXQueSxuPXQueixyPXRoaXMueCxhPXRoaXMueSxsPXRoaXMueixjPXRoaXMudyxoPWMqaSthKm4tbCpvLHU9YypvK2wqaS1yKm4sZD1jKm4rcipvLWEqaSxwPS1yKmktYSpvLWwqbjtyZXR1cm4gcy54PWgqYytwKi1yK3UqLWwtZCotYSxzLnk9dSpjK3AqLWErZCotci1oKi1sLHMuej1kKmMrcCotbCtoKi1hLXUqLXIsc31jb3B5KHQpe3JldHVybiB0aGlzLng9dC54LHRoaXMueT10LnksdGhpcy56PXQueix0aGlzLnc9dC53LHRoaXN9dG9FdWxlcih0LGU9IllaWCIpe2xldCBzLGksbztjb25zdCBuPXRoaXMueCxyPXRoaXMueSxhPXRoaXMueixsPXRoaXMudztzd2l0Y2goZSl7Y2FzZSJZWlgiOmNvbnN0IHQ9bipyK2EqbDtpZih0Pi40OTkmJihzPTIqTWF0aC5hdGFuMihuLGwpLGk9TWF0aC5QSS8yLG89MCksdDwtLjQ5OSYmKHM9LTIqTWF0aC5hdGFuMihuLGwpLGk9LU1hdGguUEkvMixvPTApLHZvaWQgMD09PXMpe2NvbnN0IGU9bipuLGM9cipyLGg9YSphO3M9TWF0aC5hdGFuMigyKnIqbC0yKm4qYSwxLTIqYy0yKmgpLGk9TWF0aC5hc2luKDIqdCksbz1NYXRoLmF0YW4yKDIqbipsLTIqciphLDEtMiplLTIqaCl9YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoIkV1bGVyIG9yZGVyICIrZSsiIG5vdCBzdXBwb3J0ZWQgeWV0LiIpfXQueT1zLHQuej1pLHQueD1vfXNldEZyb21FdWxlcih0LGUscyxpPSJYWVoiKXtjb25zdCBvPU1hdGguY29zKHQvMiksbj1NYXRoLmNvcyhlLzIpLHI9TWF0aC5jb3Mocy8yKSxhPU1hdGguc2luKHQvMiksbD1NYXRoLnNpbihlLzIpLGM9TWF0aC5zaW4ocy8yKTtyZXR1cm4iWFlaIj09PWk/KHRoaXMueD1hKm4qcitvKmwqYyx0aGlzLnk9bypsKnItYSpuKmMsdGhpcy56PW8qbipjK2EqbCpyLHRoaXMudz1vKm4qci1hKmwqYyk6IllYWiI9PT1pPyh0aGlzLng9YSpuKnIrbypsKmMsdGhpcy55PW8qbCpyLWEqbipjLHRoaXMuej1vKm4qYy1hKmwqcix0aGlzLnc9bypuKnIrYSpsKmMpOiJaWFkiPT09aT8odGhpcy54PWEqbipyLW8qbCpjLHRoaXMueT1vKmwqcithKm4qYyx0aGlzLno9bypuKmMrYSpsKnIsdGhpcy53PW8qbipyLWEqbCpjKToiWllYIj09PWk/KHRoaXMueD1hKm4qci1vKmwqYyx0aGlzLnk9bypsKnIrYSpuKmMsdGhpcy56PW8qbipjLWEqbCpyLHRoaXMudz1vKm4qcithKmwqYyk6IllaWCI9PT1pPyh0aGlzLng9YSpuKnIrbypsKmMsdGhpcy55PW8qbCpyK2EqbipjLHRoaXMuej1vKm4qYy1hKmwqcix0aGlzLnc9bypuKnItYSpsKmMpOiJYWlkiPT09aSYmKHRoaXMueD1hKm4qci1vKmwqYyx0aGlzLnk9bypsKnItYSpuKmMsdGhpcy56PW8qbipjK2EqbCpyLHRoaXMudz1vKm4qcithKmwqYyksdGhpc31jbG9uZSgpe3JldHVybiBuZXcgaCh0aGlzLngsdGhpcy55LHRoaXMueix0aGlzLncpfXNsZXJwKHQsZSxzPW5ldyBoKXtjb25zdCBpPXRoaXMueCxvPXRoaXMueSxuPXRoaXMueixyPXRoaXMudztsZXQgYSxsLGMsdSxkLHA9dC54LHk9dC55LG09dC56LHY9dC53O3JldHVybiBsPWkqcCtvKnkrbiptK3IqdixsPDAmJihsPS1sLHA9LXAseT0teSxtPS1tLHY9LXYpLDEtbD4xZS02PyhhPU1hdGguYWNvcyhsKSxjPU1hdGguc2luKGEpLHU9TWF0aC5zaW4oKDEtZSkqYSkvYyxkPU1hdGguc2luKGUqYSkvYyk6KHU9MS1lLGQ9ZSkscy54PXUqaStkKnAscy55PXUqbytkKnkscy56PXUqbitkKm0scy53PXUqcitkKnYsc31pbnRlZ3JhdGUodCxlLHMsaT1uZXcgaCl7Y29uc3Qgbz10Lngqcy54LG49dC55KnMueSxyPXQueipzLnosYT10aGlzLngsbD10aGlzLnksYz10aGlzLnosdT10aGlzLncsZD0uNSplO3JldHVybiBpLngrPWQqKG8qdStuKmMtcipsKSxpLnkrPWQqKG4qdStyKmEtbypjKSxpLnorPWQqKHIqdStvKmwtbiphKSxpLncrPWQqKC1vKmEtbipsLXIqYyksaX19Y29uc3QgdT1uZXcgZSxkPW5ldyBlO2NsYXNzIHB7Y29uc3RydWN0b3IodD17fSl7dGhpcy5pZD1wLmlkQ291bnRlcisrLHRoaXMudHlwZT10LnR5cGV8fDAsdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cz0wLHRoaXMuY29sbGlzaW9uUmVzcG9uc2U9IXQuY29sbGlzaW9uUmVzcG9uc2V8fHQuY29sbGlzaW9uUmVzcG9uc2UsdGhpcy5jb2xsaXNpb25GaWx0ZXJHcm91cD12b2lkIDAhPT10LmNvbGxpc2lvbkZpbHRlckdyb3VwP3QuY29sbGlzaW9uRmlsdGVyR3JvdXA6MSx0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2s9dm9pZCAwIT09dC5jb2xsaXNpb25GaWx0ZXJNYXNrP3QuY29sbGlzaW9uRmlsdGVyTWFzazotMSx0aGlzLm1hdGVyaWFsPXQubWF0ZXJpYWw/dC5tYXRlcmlhbDpudWxsLHRoaXMuYm9keT1udWxsfXVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCl7dGhyb3ciY29tcHV0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkgbm90IGltcGxlbWVudGVkIGZvciBzaGFwZSB0eXBlICIrdGhpcy50eXBlfXZvbHVtZSgpe3Rocm93InZvbHVtZSgpIG5vdCBpbXBsZW1lbnRlZCBmb3Igc2hhcGUgdHlwZSAiK3RoaXMudHlwZX1jYWxjdWxhdGVMb2NhbEluZXJ0aWEodCxlKXt0aHJvdyJjYWxjdWxhdGVMb2NhbEluZXJ0aWEoKSBub3QgaW1wbGVtZW50ZWQgZm9yIHNoYXBlIHR5cGUgIit0aGlzLnR5cGV9Y2FsY3VsYXRlV29ybGRBQUJCKHQsZSxzLGkpe3Rocm93ImNhbGN1bGF0ZVdvcmxkQUFCQigpIG5vdCBpbXBsZW1lbnRlZCBmb3Igc2hhcGUgdHlwZSAiK3RoaXMudHlwZX19cC5pZENvdW50ZXI9MCxwLnR5cGVzPXtTUEhFUkU6MSxQTEFORToyLEJPWDo0LENPTVBPVU5EOjgsQ09OVkVYUE9MWUhFRFJPTjoxNixIRUlHSFRGSUVMRDozMixQQVJUSUNMRTo2NCxDWUxJTkRFUjoxMjgsVFJJTUVTSDoyNTZ9O2NsYXNzIHl7Y29uc3RydWN0b3IodD17fSl7dGhpcy5wb3NpdGlvbj1uZXcgZSx0aGlzLnF1YXRlcm5pb249bmV3IGgsdC5wb3NpdGlvbiYmdGhpcy5wb3NpdGlvbi5jb3B5KHQucG9zaXRpb24pLHQucXVhdGVybmlvbiYmdGhpcy5xdWF0ZXJuaW9uLmNvcHkodC5xdWF0ZXJuaW9uKX1wb2ludFRvTG9jYWwodCxlKXtyZXR1cm4geS5wb2ludFRvTG9jYWxGcmFtZSh0aGlzLnBvc2l0aW9uLHRoaXMucXVhdGVybmlvbix0LGUpfXBvaW50VG9Xb3JsZCh0LGUpe3JldHVybiB5LnBvaW50VG9Xb3JsZEZyYW1lKHRoaXMucG9zaXRpb24sdGhpcy5xdWF0ZXJuaW9uLHQsZSl9dmVjdG9yVG9Xb3JsZEZyYW1lKHQscz1uZXcgZSl7cmV0dXJuIHRoaXMucXVhdGVybmlvbi52bXVsdCh0LHMpLHN9c3RhdGljIHBvaW50VG9Mb2NhbEZyYW1lKHQscyxpLG89bmV3IGUpe3JldHVybiBpLnZzdWIodCxvKSxzLmNvbmp1Z2F0ZShtKSxtLnZtdWx0KG8sbyksb31zdGF0aWMgcG9pbnRUb1dvcmxkRnJhbWUodCxzLGksbz1uZXcgZSl7cmV0dXJuIHMudm11bHQoaSxvKSxvLnZhZGQodCxvKSxvfXN0YXRpYyB2ZWN0b3JUb1dvcmxkRnJhbWUodCxzLGk9bmV3IGUpe3JldHVybiB0LnZtdWx0KHMsaSksaX1zdGF0aWMgdmVjdG9yVG9Mb2NhbEZyYW1lKHQscyxpLG89bmV3IGUpe3JldHVybiBzLncqPS0xLHMudm11bHQoaSxvKSxzLncqPS0xLG99fWNvbnN0IG09bmV3IGg7Y2xhc3MgdiBleHRlbmRzIHB7Y29uc3RydWN0b3IodD17fSl7Y29uc3R7dmVydGljZXM6ZT1bXSxmYWNlczpzPVtdLG5vcm1hbHM6aT1bXSxheGVzOm8sYm91bmRpbmdTcGhlcmVSYWRpdXM6bn09dDtzdXBlcih7dHlwZTpwLnR5cGVzLkNPTlZFWFBPTFlIRURST059KSx0aGlzLnZlcnRpY2VzPWUsdGhpcy5mYWNlcz1zLHRoaXMuZmFjZU5vcm1hbHM9aSwwPT09dGhpcy5mYWNlTm9ybWFscy5sZW5ndGgmJnRoaXMuY29tcHV0ZU5vcm1hbHMoKSxuP3RoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXM9bjp0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCksdGhpcy53b3JsZFZlcnRpY2VzPVtdLHRoaXMud29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlPSEwLHRoaXMud29ybGRGYWNlTm9ybWFscz1bXSx0aGlzLndvcmxkRmFjZU5vcm1hbHNOZWVkc1VwZGF0ZT0hMCx0aGlzLnVuaXF1ZUF4ZXM9bz9vLnNsaWNlKCk6bnVsbCx0aGlzLnVuaXF1ZUVkZ2VzPVtdLHRoaXMuY29tcHV0ZUVkZ2VzKCl9Y29tcHV0ZUVkZ2VzKCl7Y29uc3QgdD10aGlzLmZhY2VzLHM9dGhpcy52ZXJ0aWNlcyxpPXRoaXMudW5pcXVlRWRnZXM7aS5sZW5ndGg9MDtjb25zdCBvPW5ldyBlO2ZvcihsZXQgZT0wO2UhPT10Lmxlbmd0aDtlKyspe2NvbnN0IG49dFtlXSxyPW4ubGVuZ3RoO2ZvcihsZXQgdD0wO3QhPT1yO3QrKyl7Y29uc3QgZT0odCsxKSVyO3Nbblt0XV0udnN1YihzW25bZV1dLG8pLG8ubm9ybWFsaXplKCk7bGV0IGE9ITE7Zm9yKGxldCB0PTA7dCE9PWkubGVuZ3RoO3QrKylpZihpW3RdLmFsbW9zdEVxdWFscyhvKXx8aVt0XS5hbG1vc3RFcXVhbHMobykpe2E9ITA7YnJlYWt9YXx8aS5wdXNoKG8uY2xvbmUoKSl9fX1jb21wdXRlTm9ybWFscygpe3RoaXMuZmFjZU5vcm1hbHMubGVuZ3RoPXRoaXMuZmFjZXMubGVuZ3RoO2ZvcihsZXQgdD0wO3Q8dGhpcy5mYWNlcy5sZW5ndGg7dCsrKXtmb3IobGV0IGU9MDtlPHRoaXMuZmFjZXNbdF0ubGVuZ3RoO2UrKylpZighdGhpcy52ZXJ0aWNlc1t0aGlzLmZhY2VzW3RdW2VdXSl0aHJvdyBuZXcgRXJyb3IoIlZlcnRleCAiK3RoaXMuZmFjZXNbdF1bZV0rIiBub3QgZm91bmQhIik7Y29uc3Qgcz10aGlzLmZhY2VOb3JtYWxzW3RdfHxuZXcgZTt0aGlzLmdldEZhY2VOb3JtYWwodCxzKSxzLm5lZ2F0ZShzKSx0aGlzLmZhY2VOb3JtYWxzW3RdPXM7Y29uc3QgaT10aGlzLnZlcnRpY2VzW3RoaXMuZmFjZXNbdF1bMF1dO2lmKHMuZG90KGkpPDApe2NvbnNvbGUuZXJyb3IoIi5mYWNlTm9ybWFsc1siK3QrIl0gPSBWZWMzKCIrcy50b1N0cmluZygpKyIpIGxvb2tzIGxpa2UgaXQgcG9pbnRzIGludG8gdGhlIHNoYXBlPyBUaGUgdmVydGljZXMgZm9sbG93LiBNYWtlIHN1cmUgdGhleSBhcmUgb3JkZXJlZCBDQ1cgYXJvdW5kIHRoZSBub3JtYWwsIHVzaW5nIHRoZSByaWdodCBoYW5kIHJ1bGUuIik7Zm9yKGxldCBlPTA7ZTx0aGlzLmZhY2VzW3RdLmxlbmd0aDtlKyspY29uc29sZS53YXJuKCIudmVydGljZXNbIit0aGlzLmZhY2VzW3RdW2VdKyJdID0gVmVjMygiK3RoaXMudmVydGljZXNbdGhpcy5mYWNlc1t0XVtlXV0udG9TdHJpbmcoKSsiKSIpfX19Z2V0RmFjZU5vcm1hbCh0LGUpe2NvbnN0IHM9dGhpcy5mYWNlc1t0XSxpPXRoaXMudmVydGljZXNbc1swXV0sbz10aGlzLnZlcnRpY2VzW3NbMV1dLG49dGhpcy52ZXJ0aWNlc1tzWzJdXTt2LmNvbXB1dGVOb3JtYWwoaSxvLG4sZSl9c3RhdGljIGNvbXB1dGVOb3JtYWwodCxzLGksbyl7Y29uc3Qgbj1uZXcgZSxyPW5ldyBlO3MudnN1Yih0LHIpLGkudnN1YihzLG4pLG4uY3Jvc3MocixvKSxvLmlzWmVybygpfHxvLm5vcm1hbGl6ZSgpfWNsaXBBZ2FpbnN0SHVsbCh0LHMsaSxvLG4scixhLGwsYyl7Y29uc3QgaD1uZXcgZTtsZXQgdT0tMSxkPS1OdW1iZXIuTUFYX1ZBTFVFO2ZvcihsZXQgdD0wO3Q8aS5mYWNlcy5sZW5ndGg7dCsrKXtoLmNvcHkoaS5mYWNlTm9ybWFsc1t0XSksbi52bXVsdChoLGgpO2NvbnN0IGU9aC5kb3Qocik7ZT5kJiYoZD1lLHU9dCl9Y29uc3QgcD1bXTtmb3IobGV0IHQ9MDt0PGkuZmFjZXNbdV0ubGVuZ3RoO3QrKyl7Y29uc3Qgcz1pLnZlcnRpY2VzW2kuZmFjZXNbdV1bdF1dLHI9bmV3IGU7ci5jb3B5KHMpLG4udm11bHQocixyKSxvLnZhZGQocixyKSxwLnB1c2gocil9dT49MCYmdGhpcy5jbGlwRmFjZUFnYWluc3RIdWxsKHIsdCxzLHAsYSxsLGMpfWZpbmRTZXBhcmF0aW5nQXhpcyh0LHMsaSxvLG4scixhLGwpe2NvbnN0IGM9bmV3IGUsaD1uZXcgZSx1PW5ldyBlLGQ9bmV3IGUscD1uZXcgZSx5PW5ldyBlO2xldCBtPU51bWJlci5NQVhfVkFMVUU7Y29uc3Qgdj10aGlzO2lmKHYudW5pcXVlQXhlcylmb3IobGV0IGU9MDtlIT09di51bmlxdWVBeGVzLmxlbmd0aDtlKyspe2kudm11bHQodi51bmlxdWVBeGVzW2VdLGMpO2NvbnN0IGE9di50ZXN0U2VwQXhpcyhjLHQscyxpLG8sbik7aWYoITE9PT1hKXJldHVybiExO2E8bSYmKG09YSxyLmNvcHkoYykpfWVsc2V7Y29uc3QgZT1hP2EubGVuZ3RoOnYuZmFjZXMubGVuZ3RoO2ZvcihsZXQgbD0wO2w8ZTtsKyspe2NvbnN0IGU9YT9hW2xdOmw7Yy5jb3B5KHYuZmFjZU5vcm1hbHNbZV0pLGkudm11bHQoYyxjKTtjb25zdCBoPXYudGVzdFNlcEF4aXMoYyx0LHMsaSxvLG4pO2lmKCExPT09aClyZXR1cm4hMTtoPG0mJihtPWgsci5jb3B5KGMpKX19aWYodC51bmlxdWVBeGVzKWZvcihsZXQgZT0wO2UhPT10LnVuaXF1ZUF4ZXMubGVuZ3RoO2UrKyl7bi52bXVsdCh0LnVuaXF1ZUF4ZXNbZV0saCk7Y29uc3QgYT12LnRlc3RTZXBBeGlzKGgsdCxzLGksbyxuKTtpZighMT09PWEpcmV0dXJuITE7YTxtJiYobT1hLHIuY29weShoKSl9ZWxzZXtjb25zdCBlPWw/bC5sZW5ndGg6dC5mYWNlcy5sZW5ndGg7Zm9yKGxldCBhPTA7YTxlO2ErKyl7Y29uc3QgZT1sP2xbYV06YTtoLmNvcHkodC5mYWNlTm9ybWFsc1tlXSksbi52bXVsdChoLGgpO2NvbnN0IGM9di50ZXN0U2VwQXhpcyhoLHQscyxpLG8sbik7aWYoITE9PT1jKXJldHVybiExO2M8bSYmKG09YyxyLmNvcHkoaCkpfX1mb3IobGV0IGU9MDtlIT09di51bmlxdWVFZGdlcy5sZW5ndGg7ZSsrKXtpLnZtdWx0KHYudW5pcXVlRWRnZXNbZV0sZCk7Zm9yKGxldCBlPTA7ZSE9PXQudW5pcXVlRWRnZXMubGVuZ3RoO2UrKylpZihuLnZtdWx0KHQudW5pcXVlRWRnZXNbZV0scCksZC5jcm9zcyhwLHkpLCF5LmFsbW9zdFplcm8oKSl7eS5ub3JtYWxpemUoKTtjb25zdCBlPXYudGVzdFNlcEF4aXMoeSx0LHMsaSxvLG4pO2lmKCExPT09ZSlyZXR1cm4hMTtlPG0mJihtPWUsci5jb3B5KHkpKX19cmV0dXJuIG8udnN1YihzLHUpLHUuZG90KHIpPjAmJnIubmVnYXRlKHIpLCEwfXRlc3RTZXBBeGlzKHQsZSxzLGksbyxuKXt2LnByb2plY3QodGhpcyx0LHMsaSx3KSx2LnByb2plY3QoZSx0LG8sbixmKTtjb25zdCByPXdbMF0sYT13WzFdLGw9ZlswXSxjPWZbMV07aWYocjxjfHxsPGEpcmV0dXJuITE7Y29uc3QgaD1yLWMsdT1sLWE7cmV0dXJuIGg8dT9oOnV9Y2FsY3VsYXRlTG9jYWxJbmVydGlhKHQscyl7Y29uc3QgaT1uZXcgZSxvPW5ldyBlO3RoaXMuY29tcHV0ZUxvY2FsQUFCQihvLGkpO2NvbnN0IG49aS54LW8ueCxyPWkueS1vLnksYT1pLnotby56O3MueD0xLzEyKnQqKDIqcioyKnIrMiphKjIqYSkscy55PTEvMTIqdCooMipuKjIqbisyKmEqMiphKSxzLno9MS8xMip0KigyKnIqMipyKzIqbioyKm4pfWdldFBsYW5lQ29uc3RhbnRPZkZhY2UodCl7Y29uc3QgZT10aGlzLmZhY2VzW3RdLHM9dGhpcy5mYWNlTm9ybWFsc1t0XSxpPXRoaXMudmVydGljZXNbZVswXV07cmV0dXJuLXMuZG90KGkpfWNsaXBGYWNlQWdhaW5zdEh1bGwodCxzLGksbyxuLHIsYSl7Y29uc3QgbD1uZXcgZSxjPW5ldyBlLGg9bmV3IGUsdT1uZXcgZSxkPW5ldyBlLHA9bmV3IGUseT1uZXcgZSxtPW5ldyBlLHY9dGhpcyx3PW8sZj1bXTtsZXQgZz0tMSx4PU51bWJlci5NQVhfVkFMVUU7Zm9yKGxldCBlPTA7ZTx2LmZhY2VzLmxlbmd0aDtlKyspe2wuY29weSh2LmZhY2VOb3JtYWxzW2VdKSxpLnZtdWx0KGwsbCk7Y29uc3Qgcz1sLmRvdCh0KTtzPHgmJih4PXMsZz1lKX1pZihnPDApcmV0dXJuO2NvbnN0IGI9di5mYWNlc1tnXTtiLmNvbm5lY3RlZEZhY2VzPVtdO2ZvcihsZXQgdD0wO3Q8di5mYWNlcy5sZW5ndGg7dCsrKWZvcihsZXQgZT0wO2U8di5mYWNlc1t0XS5sZW5ndGg7ZSsrKS0xIT09Yi5pbmRleE9mKHYuZmFjZXNbdF1bZV0pJiZ0IT09ZyYmLTE9PT1iLmNvbm5lY3RlZEZhY2VzLmluZGV4T2YodCkmJmIuY29ubmVjdGVkRmFjZXMucHVzaCh0KTtjb25zdCBBPWIubGVuZ3RoO2ZvcihsZXQgdD0wO3Q8QTt0Kyspe2NvbnN0IGU9di52ZXJ0aWNlc1tiW3RdXSxvPXYudmVydGljZXNbYlsodCsxKSVBXV07ZS52c3ViKG8sYyksaC5jb3B5KGMpLGkudm11bHQoaCxoKSxzLnZhZGQoaCxoKSx1LmNvcHkodGhpcy5mYWNlTm9ybWFsc1tnXSksaS52bXVsdCh1LHUpLHMudmFkZCh1LHUpLGguY3Jvc3ModSxkKSxkLm5lZ2F0ZShkKSxwLmNvcHkoZSksaS52bXVsdChwLHApLHMudmFkZChwLHApO2NvbnN0IG49Yi5jb25uZWN0ZWRGYWNlc1t0XTt5LmNvcHkodGhpcy5mYWNlTm9ybWFsc1tuXSk7Y29uc3Qgcj10aGlzLmdldFBsYW5lQ29uc3RhbnRPZkZhY2Uobik7bS5jb3B5KHkpLGkudm11bHQobSxtKTtjb25zdCBhPXItbS5kb3Qocyk7Zm9yKHRoaXMuY2xpcEZhY2VBZ2FpbnN0UGxhbmUodyxmLG0sYSk7dy5sZW5ndGg7KXcuc2hpZnQoKTtmb3IoO2YubGVuZ3RoOyl3LnB1c2goZi5zaGlmdCgpKX15LmNvcHkodGhpcy5mYWNlTm9ybWFsc1tnXSk7Y29uc3QgQj10aGlzLmdldFBsYW5lQ29uc3RhbnRPZkZhY2UoZyk7bS5jb3B5KHkpLGkudm11bHQobSxtKTtjb25zdCBFPUItbS5kb3Qocyk7Zm9yKGxldCB0PTA7dDx3Lmxlbmd0aDt0Kyspe2xldCBlPW0uZG90KHdbdF0pK0U7aWYoZTw9biYmKGNvbnNvbGUubG9nKCJjbGFtcGVkOiBkZXB0aD0iK2UrIiB0byBtaW5EaXN0PSIrbiksZT1uKSxlPD1yKXtjb25zdCBzPXdbdF07aWYoZTw9MWUtNil7Y29uc3QgdD17cG9pbnQ6cyxub3JtYWw6bSxkZXB0aDplfTthLnB1c2godCl9fX19Y2xpcEZhY2VBZ2FpbnN0UGxhbmUodCxzLGksbyl7bGV0IG4scjtjb25zdCBhPXQubGVuZ3RoO2lmKGE8MilyZXR1cm4gcztsZXQgbD10W3QubGVuZ3RoLTFdLGM9dFswXTtuPWkuZG90KGwpK287Zm9yKGxldCBoPTA7aDxhO2grKyl7aWYoYz10W2hdLHI9aS5kb3QoYykrbyxuPDApaWYocjwwKXtjb25zdCB0PW5ldyBlO3QuY29weShjKSxzLnB1c2godCl9ZWxzZXtjb25zdCB0PW5ldyBlO2wubGVycChjLG4vKG4tciksdCkscy5wdXNoKHQpfWVsc2UgaWYocjwwKXtjb25zdCB0PW5ldyBlO2wubGVycChjLG4vKG4tciksdCkscy5wdXNoKHQpLHMucHVzaChjKX1sPWMsbj1yfXJldHVybiBzfWNvbXB1dGVXb3JsZFZlcnRpY2VzKHQscyl7Zm9yKDt0aGlzLndvcmxkVmVydGljZXMubGVuZ3RoPHRoaXMudmVydGljZXMubGVuZ3RoOyl0aGlzLndvcmxkVmVydGljZXMucHVzaChuZXcgZSk7Y29uc3QgaT10aGlzLnZlcnRpY2VzLG89dGhpcy53b3JsZFZlcnRpY2VzO2ZvcihsZXQgZT0wO2UhPT10aGlzLnZlcnRpY2VzLmxlbmd0aDtlKyspcy52bXVsdChpW2VdLG9bZV0pLHQudmFkZChvW2VdLG9bZV0pO3RoaXMud29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlPSExfWNvbXB1dGVMb2NhbEFBQkIodCxlKXtjb25zdCBzPXRoaXMudmVydGljZXM7dC5zZXQoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLGUuc2V0KC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFKTtmb3IobGV0IGk9MDtpPHRoaXMudmVydGljZXMubGVuZ3RoO2krKyl7Y29uc3Qgbz1zW2ldO28ueDx0Lng/dC54PW8ueDpvLng+ZS54JiYoZS54PW8ueCksby55PHQueT90Lnk9by55Om8ueT5lLnkmJihlLnk9by55KSxvLno8dC56P3Quej1vLno6by56PmUueiYmKGUuej1vLnopfX1jb21wdXRlV29ybGRGYWNlTm9ybWFscyh0KXtjb25zdCBzPXRoaXMuZmFjZU5vcm1hbHMubGVuZ3RoO2Zvcig7dGhpcy53b3JsZEZhY2VOb3JtYWxzLmxlbmd0aDxzOyl0aGlzLndvcmxkRmFjZU5vcm1hbHMucHVzaChuZXcgZSk7Y29uc3QgaT10aGlzLmZhY2VOb3JtYWxzLG89dGhpcy53b3JsZEZhY2VOb3JtYWxzO2ZvcihsZXQgZT0wO2UhPT1zO2UrKyl0LnZtdWx0KGlbZV0sb1tlXSk7dGhpcy53b3JsZEZhY2VOb3JtYWxzTmVlZHNVcGRhdGU9ITF9dXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKXtsZXQgdD0wO2NvbnN0IGU9dGhpcy52ZXJ0aWNlcztmb3IobGV0IHM9MDtzIT09ZS5sZW5ndGg7cysrKXtjb25zdCBpPWVbc10ubGVuZ3RoU3F1YXJlZCgpO2k+dCYmKHQ9aSl9dGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cz1NYXRoLnNxcnQodCl9Y2FsY3VsYXRlV29ybGRBQUJCKHQscyxpLG8pe2NvbnN0IG49dGhpcy52ZXJ0aWNlcztsZXQgcixhLGwsYyxoLHUsZD1uZXcgZTtmb3IobGV0IGU9MDtlPG4ubGVuZ3RoO2UrKyl7ZC5jb3B5KG5bZV0pLHMudm11bHQoZCxkKSx0LnZhZGQoZCxkKTtjb25zdCBpPWQ7KHZvaWQgMD09PXJ8fGkueDxyKSYmKHI9aS54KSwodm9pZCAwPT09Y3x8aS54PmMpJiYoYz1pLngpLCh2b2lkIDA9PT1hfHxpLnk8YSkmJihhPWkueSksKHZvaWQgMD09PWh8fGkueT5oKSYmKGg9aS55KSwodm9pZCAwPT09bHx8aS56PGwpJiYobD1pLnopLCh2b2lkIDA9PT11fHxpLno+dSkmJih1PWkueil9aS5zZXQocixhLGwpLG8uc2V0KGMsaCx1KX12b2x1bWUoKXtyZXR1cm4gNCpNYXRoLlBJKnRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMvM31nZXRBdmVyYWdlUG9pbnRMb2NhbCh0PW5ldyBlKXtjb25zdCBzPXRoaXMudmVydGljZXM7Zm9yKGxldCBlPTA7ZTxzLmxlbmd0aDtlKyspdC52YWRkKHNbZV0sdCk7cmV0dXJuIHQuc2NhbGUoMS9zLmxlbmd0aCx0KSx0fXRyYW5zZm9ybUFsbFBvaW50cyh0LGUpe2NvbnN0IHM9dGhpcy52ZXJ0aWNlcy5sZW5ndGgsaT10aGlzLnZlcnRpY2VzO2lmKGUpe2ZvcihsZXQgdD0wO3Q8czt0Kyspe2NvbnN0IHM9aVt0XTtlLnZtdWx0KHMscyl9Zm9yKGxldCB0PTA7dDx0aGlzLmZhY2VOb3JtYWxzLmxlbmd0aDt0Kyspe2NvbnN0IHM9dGhpcy5mYWNlTm9ybWFsc1t0XTtlLnZtdWx0KHMscyl9fWlmKHQpZm9yKGxldCBlPTA7ZTxzO2UrKyl7Y29uc3Qgcz1pW2VdO3MudmFkZCh0LHMpfX1wb2ludElzSW5zaWRlKHQpe2NvbnN0IHM9dGhpcy52ZXJ0aWNlcyxpPXRoaXMuZmFjZXMsbz10aGlzLmZhY2VOb3JtYWxzLG49bmV3IGU7dGhpcy5nZXRBdmVyYWdlUG9pbnRMb2NhbChuKTtmb3IobGV0IHI9MDtyPHRoaXMuZmFjZXMubGVuZ3RoO3IrKyl7bGV0IGE9b1tyXTtjb25zdCBsPXNbaVtyXVswXV0sYz1uZXcgZTt0LnZzdWIobCxjKTtjb25zdCBoPWEuZG90KGMpLHU9bmV3IGU7bi52c3ViKGwsdSk7Y29uc3QgZD1hLmRvdCh1KTtpZihoPDAmJmQ+MHx8aD4wJiZkPDApcmV0dXJuITF9cmV0dXJuLTF9c3RhdGljIHByb2plY3QodCxlLHMsaSxvKXtjb25zdCBuPXQudmVydGljZXMubGVuZ3RoLHI9ZztsZXQgYT0wLGw9MDtjb25zdCBjPXgsaD10LnZlcnRpY2VzO2Muc2V0WmVybygpLHkudmVjdG9yVG9Mb2NhbEZyYW1lKHMsaSxlLHIpLHkucG9pbnRUb0xvY2FsRnJhbWUocyxpLGMsYyk7Y29uc3QgdT1jLmRvdChyKTtsPWE9aFswXS5kb3Qocik7Zm9yKGxldCB0PTE7dDxuO3QrKyl7Y29uc3QgZT1oW3RdLmRvdChyKTtlPmEmJihhPWUpLGU8bCYmKGw9ZSl9aWYobC09dSxhLT11LGw+YSl7Y29uc3QgdD1sO2w9YSxhPXR9b1swXT1hLG9bMV09bH19Y29uc3Qgdz1bXSxmPVtdLGc9bmV3IGUseD1uZXcgZTtjbGFzcyBiIGV4dGVuZHMgcHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih7dHlwZTpwLnR5cGVzLkJPWH0pLHRoaXMuaGFsZkV4dGVudHM9dCx0aGlzLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbj1udWxsLHRoaXMudXBkYXRlQ29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uKCksdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpfXVwZGF0ZUNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbigpe2NvbnN0IHQ9dGhpcy5oYWxmRXh0ZW50cy54LHM9dGhpcy5oYWxmRXh0ZW50cy55LGk9dGhpcy5oYWxmRXh0ZW50cy56LG89ZSxuPVtuZXcgbygtdCwtcywtaSksbmV3IG8odCwtcywtaSksbmV3IG8odCxzLC1pKSxuZXcgbygtdCxzLC1pKSxuZXcgbygtdCwtcyxpKSxuZXcgbyh0LC1zLGkpLG5ldyBvKHQscyxpKSxuZXcgbygtdCxzLGkpXSxyPVtuZXcgbygwLDAsMSksbmV3IG8oMCwxLDApLG5ldyBvKDEsMCwwKV0sYT1uZXcgdih7dmVydGljZXM6bixmYWNlczpbWzMsMiwxLDBdLFs0LDUsNiw3XSxbNSw0LDAsMV0sWzIsMyw3LDZdLFswLDQsNywzXSxbMSwyLDYsNV1dLGF4ZXM6cn0pO3RoaXMuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uPWEsYS5tYXRlcmlhbD10aGlzLm1hdGVyaWFsfWNhbGN1bGF0ZUxvY2FsSW5lcnRpYSh0LHM9bmV3IGUpe3JldHVybiBiLmNhbGN1bGF0ZUluZXJ0aWEodGhpcy5oYWxmRXh0ZW50cyx0LHMpLHN9c3RhdGljIGNhbGN1bGF0ZUluZXJ0aWEodCxlLHMpe2NvbnN0IGk9dDtzLng9MS8xMiplKigyKmkueSoyKmkueSsyKmkueioyKmkueikscy55PTEvMTIqZSooMippLngqMippLngrMippLnoqMippLnopLHMuej0xLzEyKmUqKDIqaS55KjIqaS55KzIqaS54KjIqaS54KX1nZXRTaWRlTm9ybWFscyh0LGUpe2NvbnN0IHM9dCxpPXRoaXMuaGFsZkV4dGVudHM7aWYoc1swXS5zZXQoaS54LDAsMCksc1sxXS5zZXQoMCxpLnksMCksc1syXS5zZXQoMCwwLGkueiksc1szXS5zZXQoLWkueCwwLDApLHNbNF0uc2V0KDAsLWkueSwwKSxzWzVdLnNldCgwLDAsLWkueiksdm9pZCAwIT09ZSlmb3IobGV0IHQ9MDt0IT09cy5sZW5ndGg7dCsrKWUudm11bHQoc1t0XSxzW3RdKTtyZXR1cm4gc312b2x1bWUoKXtyZXR1cm4gOCp0aGlzLmhhbGZFeHRlbnRzLngqdGhpcy5oYWxmRXh0ZW50cy55KnRoaXMuaGFsZkV4dGVudHMuen11cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpe3RoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXM9dGhpcy5oYWxmRXh0ZW50cy5sZW5ndGgoKX1mb3JFYWNoV29ybGRDb3JuZXIodCxlLHMpe2NvbnN0IGk9dGhpcy5oYWxmRXh0ZW50cyxvPVtbaS54LGkueSxpLnpdLFstaS54LGkueSxpLnpdLFstaS54LC1pLnksaS56XSxbLWkueCwtaS55LC1pLnpdLFtpLngsLWkueSwtaS56XSxbaS54LGkueSwtaS56XSxbLWkueCxpLnksLWkuel0sW2kueCwtaS55LGkuel1dO2ZvcihsZXQgaT0wO2k8by5sZW5ndGg7aSsrKUEuc2V0KG9baV1bMF0sb1tpXVsxXSxvW2ldWzJdKSxlLnZtdWx0KEEsQSksdC52YWRkKEEsQSkscyhBLngsQS55LEEueil9Y2FsY3VsYXRlV29ybGRBQUJCKHQsZSxzLGkpe2NvbnN0IG89dGhpcy5oYWxmRXh0ZW50cztCWzBdLnNldChvLngsby55LG8ueiksQlsxXS5zZXQoLW8ueCxvLnksby56KSxCWzJdLnNldCgtby54LC1vLnksby56KSxCWzNdLnNldCgtby54LC1vLnksLW8ueiksQls0XS5zZXQoby54LC1vLnksLW8ueiksQls1XS5zZXQoby54LG8ueSwtby56KSxCWzZdLnNldCgtby54LG8ueSwtby56KSxCWzddLnNldChvLngsLW8ueSxvLnopO2NvbnN0IG49QlswXTtlLnZtdWx0KG4sbiksdC52YWRkKG4sbiksaS5jb3B5KG4pLHMuY29weShuKTtmb3IobGV0IG89MTtvPDg7bysrKXtjb25zdCBuPUJbb107ZS52bXVsdChuLG4pLHQudmFkZChuLG4pO2NvbnN0IHI9bi54LGE9bi55LGw9bi56O3I+aS54JiYoaS54PXIpLGE+aS55JiYoaS55PWEpLGw+aS56JiYoaS56PWwpLHI8cy54JiYocy54PXIpLGE8cy55JiYocy55PWEpLGw8cy56JiYocy56PWwpfX19Y29uc3QgQT1uZXcgZSxCPVtuZXcgZSxuZXcgZSxuZXcgZSxuZXcgZSxuZXcgZSxuZXcgZSxuZXcgZSxuZXcgZV0sRT0wLFM9MSx6PTI7Y2xhc3MgRiBleHRlbmRzIGN7Y29uc3RydWN0b3Iocz17fSl7c3VwZXIoKSx0aGlzLmlkPUYuaWRDb3VudGVyKyssdGhpcy5pbmRleD0tMSx0aGlzLndvcmxkPW51bGwsdGhpcy5wcmVTdGVwPW51bGwsdGhpcy5wb3N0U3RlcD1udWxsLHRoaXMudmxhbWJkYT1uZXcgZSx0aGlzLmNvbGxpc2lvbkZpbHRlckdyb3VwPSJudW1iZXIiPT10eXBlb2Ygcy5jb2xsaXNpb25GaWx0ZXJHcm91cD9zLmNvbGxpc2lvbkZpbHRlckdyb3VwOjEsdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrPSJudW1iZXIiPT10eXBlb2Ygcy5jb2xsaXNpb25GaWx0ZXJNYXNrP3MuY29sbGlzaW9uRmlsdGVyTWFzazotMSx0aGlzLmNvbGxpc2lvblJlc3BvbnNlPSJib29sZWFuIiE9dHlwZW9mIHMuY29sbGlzaW9uUmVzcG9uc2V8fHMuY29sbGlzaW9uUmVzcG9uc2UsdGhpcy5wb3NpdGlvbj1uZXcgZSx0aGlzLnByZXZpb3VzUG9zaXRpb249bmV3IGUsdGhpcy5pbnRlcnBvbGF0ZWRQb3NpdGlvbj1uZXcgZSx0aGlzLmluaXRQb3NpdGlvbj1uZXcgZSxzLnBvc2l0aW9uJiYodGhpcy5wb3NpdGlvbi5jb3B5KHMucG9zaXRpb24pLHRoaXMucHJldmlvdXNQb3NpdGlvbi5jb3B5KHMucG9zaXRpb24pLHRoaXMuaW50ZXJwb2xhdGVkUG9zaXRpb24uY29weShzLnBvc2l0aW9uKSx0aGlzLmluaXRQb3NpdGlvbi5jb3B5KHMucG9zaXRpb24pKSx0aGlzLnZlbG9jaXR5PW5ldyBlLHMudmVsb2NpdHkmJnRoaXMudmVsb2NpdHkuY29weShzLnZlbG9jaXR5KSx0aGlzLmluaXRWZWxvY2l0eT1uZXcgZSx0aGlzLmZvcmNlPW5ldyBlO2NvbnN0IGk9Im51bWJlciI9PXR5cGVvZiBzLm1hc3M/cy5tYXNzOjA7dGhpcy5tYXNzPWksdGhpcy5pbnZNYXNzPWk+MD8xL2k6MCx0aGlzLm1hdGVyaWFsPXMubWF0ZXJpYWx8fG51bGwsdGhpcy5saW5lYXJEYW1waW5nPSJudW1iZXIiPT10eXBlb2Ygcy5saW5lYXJEYW1waW5nP3MubGluZWFyRGFtcGluZzouMDEsdGhpcy50eXBlPWk8PTA/Ri5TVEFUSUM6Ri5EWU5BTUlDLHR5cGVvZiBzLnR5cGU9PXR5cGVvZiBGLlNUQVRJQyYmKHRoaXMudHlwZT1zLnR5cGUpLHRoaXMuYWxsb3dTbGVlcD12b2lkIDA9PT1zLmFsbG93U2xlZXB8fHMuYWxsb3dTbGVlcCx0aGlzLnNsZWVwU3RhdGU9Ri5BV0FLRSx0aGlzLnNsZWVwU3BlZWRMaW1pdD12b2lkIDAhPT1zLnNsZWVwU3BlZWRMaW1pdD9zLnNsZWVwU3BlZWRMaW1pdDouMSx0aGlzLnNsZWVwVGltZUxpbWl0PXZvaWQgMCE9PXMuc2xlZXBUaW1lTGltaXQ/cy5zbGVlcFRpbWVMaW1pdDoxLHRoaXMudGltZUxhc3RTbGVlcHk9MCx0aGlzLndha2VVcEFmdGVyTmFycm93cGhhc2U9ITEsdGhpcy50b3JxdWU9bmV3IGUsdGhpcy5xdWF0ZXJuaW9uPW5ldyBoLHRoaXMuaW5pdFF1YXRlcm5pb249bmV3IGgsdGhpcy5wcmV2aW91c1F1YXRlcm5pb249bmV3IGgsdGhpcy5pbnRlcnBvbGF0ZWRRdWF0ZXJuaW9uPW5ldyBoLHMucXVhdGVybmlvbiYmKHRoaXMucXVhdGVybmlvbi5jb3B5KHMucXVhdGVybmlvbiksdGhpcy5pbml0UXVhdGVybmlvbi5jb3B5KHMucXVhdGVybmlvbiksdGhpcy5wcmV2aW91c1F1YXRlcm5pb24uY29weShzLnF1YXRlcm5pb24pLHRoaXMuaW50ZXJwb2xhdGVkUXVhdGVybmlvbi5jb3B5KHMucXVhdGVybmlvbikpLHRoaXMuYW5ndWxhclZlbG9jaXR5PW5ldyBlLHMuYW5ndWxhclZlbG9jaXR5JiZ0aGlzLmFuZ3VsYXJWZWxvY2l0eS5jb3B5KHMuYW5ndWxhclZlbG9jaXR5KSx0aGlzLmluaXRBbmd1bGFyVmVsb2NpdHk9bmV3IGUsdGhpcy5zaGFwZXM9W10sdGhpcy5zaGFwZU9mZnNldHM9W10sdGhpcy5zaGFwZU9yaWVudGF0aW9ucz1bXSx0aGlzLmluZXJ0aWE9bmV3IGUsdGhpcy5pbnZJbmVydGlhPW5ldyBlLHRoaXMuaW52SW5lcnRpYVdvcmxkPW5ldyB0LHRoaXMuaW52TWFzc1NvbHZlPTAsdGhpcy5pbnZJbmVydGlhU29sdmU9bmV3IGUsdGhpcy5pbnZJbmVydGlhV29ybGRTb2x2ZT1uZXcgdCx0aGlzLmZpeGVkUm90YXRpb249dm9pZCAwIT09cy5maXhlZFJvdGF0aW9uJiZzLmZpeGVkUm90YXRpb24sdGhpcy5hbmd1bGFyRGFtcGluZz12b2lkIDAhPT1zLmFuZ3VsYXJEYW1waW5nP3MuYW5ndWxhckRhbXBpbmc6LjAxLHRoaXMubGluZWFyRmFjdG9yPW5ldyBlKDEsMSwxKSxzLmxpbmVhckZhY3RvciYmdGhpcy5saW5lYXJGYWN0b3IuY29weShzLmxpbmVhckZhY3RvciksdGhpcy5hbmd1bGFyRmFjdG9yPW5ldyBlKDEsMSwxKSxzLmFuZ3VsYXJGYWN0b3ImJnRoaXMuYW5ndWxhckZhY3Rvci5jb3B5KHMuYW5ndWxhckZhY3RvciksdGhpcy5hYWJiPW5ldyBuLHRoaXMuYWFiYk5lZWRzVXBkYXRlPSEwLHRoaXMuYm91bmRpbmdSYWRpdXM9MCx0aGlzLndsYW1iZGE9bmV3IGUscy5zaGFwZSYmdGhpcy5hZGRTaGFwZShzLnNoYXBlKSx0aGlzLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCl9d2FrZVVwKCl7Y29uc3QgdD10aGlzLnNsZWVwU3RhdGU7dGhpcy5zbGVlcFN0YXRlPUYuQVdBS0UsdGhpcy53YWtlVXBBZnRlck5hcnJvd3BoYXNlPSExLHQ9PT1GLlNMRUVQSU5HJiZ0aGlzLmRpc3BhdGNoRXZlbnQoRi53YWtldXBFdmVudCl9c2xlZXAoKXt0aGlzLnNsZWVwU3RhdGU9Ri5TTEVFUElORyx0aGlzLnZlbG9jaXR5LnNldCgwLDAsMCksdGhpcy5hbmd1bGFyVmVsb2NpdHkuc2V0KDAsMCwwKSx0aGlzLndha2VVcEFmdGVyTmFycm93cGhhc2U9ITF9c2xlZXBUaWNrKHQpe2lmKHRoaXMuYWxsb3dTbGVlcCl7Y29uc3QgZT10aGlzLnNsZWVwU3RhdGUscz10aGlzLnZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKSt0aGlzLmFuZ3VsYXJWZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCksaT10aGlzLnNsZWVwU3BlZWRMaW1pdCoqMjtlPT09Ri5BV0FLRSYmczxpPyh0aGlzLnNsZWVwU3RhdGU9Ri5TTEVFUFksdGhpcy50aW1lTGFzdFNsZWVweT10LHRoaXMuZGlzcGF0Y2hFdmVudChGLnNsZWVweUV2ZW50KSk6ZT09PUYuU0xFRVBZJiZzPmk/dGhpcy53YWtlVXAoKTplPT09Ri5TTEVFUFkmJnQtdGhpcy50aW1lTGFzdFNsZWVweT50aGlzLnNsZWVwVGltZUxpbWl0JiYodGhpcy5zbGVlcCgpLHRoaXMuZGlzcGF0Y2hFdmVudChGLnNsZWVwRXZlbnQpKX19dXBkYXRlU29sdmVNYXNzUHJvcGVydGllcygpe3RoaXMuc2xlZXBTdGF0ZT09PUYuU0xFRVBJTkd8fHRoaXMudHlwZT09PUYuS0lORU1BVElDPyh0aGlzLmludk1hc3NTb2x2ZT0wLHRoaXMuaW52SW5lcnRpYVNvbHZlLnNldFplcm8oKSx0aGlzLmludkluZXJ0aWFXb3JsZFNvbHZlLnNldFplcm8oKSk6KHRoaXMuaW52TWFzc1NvbHZlPXRoaXMuaW52TWFzcyx0aGlzLmludkluZXJ0aWFTb2x2ZS5jb3B5KHRoaXMuaW52SW5lcnRpYSksdGhpcy5pbnZJbmVydGlhV29ybGRTb2x2ZS5jb3B5KHRoaXMuaW52SW5lcnRpYVdvcmxkKSl9cG9pbnRUb0xvY2FsRnJhbWUodCxzPW5ldyBlKXtyZXR1cm4gdC52c3ViKHRoaXMucG9zaXRpb24scyksdGhpcy5xdWF0ZXJuaW9uLmNvbmp1Z2F0ZSgpLnZtdWx0KHMscyksc312ZWN0b3JUb0xvY2FsRnJhbWUodCxzPW5ldyBlKXtyZXR1cm4gdGhpcy5xdWF0ZXJuaW9uLmNvbmp1Z2F0ZSgpLnZtdWx0KHQscyksc31wb2ludFRvV29ybGRGcmFtZSh0LHM9bmV3IGUpe3JldHVybiB0aGlzLnF1YXRlcm5pb24udm11bHQodCxzKSxzLnZhZGQodGhpcy5wb3NpdGlvbixzKSxzfXZlY3RvclRvV29ybGRGcmFtZSh0LHM9bmV3IGUpe3JldHVybiB0aGlzLnF1YXRlcm5pb24udm11bHQodCxzKSxzfWFkZFNoYXBlKHQscyxpKXtjb25zdCBvPW5ldyBlLG49bmV3IGg7cmV0dXJuIHMmJm8uY29weShzKSxpJiZuLmNvcHkoaSksdGhpcy5zaGFwZXMucHVzaCh0KSx0aGlzLnNoYXBlT2Zmc2V0cy5wdXNoKG8pLHRoaXMuc2hhcGVPcmllbnRhdGlvbnMucHVzaChuKSx0aGlzLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCksdGhpcy51cGRhdGVCb3VuZGluZ1JhZGl1cygpLHRoaXMuYWFiYk5lZWRzVXBkYXRlPSEwLHQuYm9keT10aGlzLHRoaXN9cmVtb3ZlU2hhcGUodCl7Y29uc3QgZT10aGlzLnNoYXBlcy5pbmRleE9mKHQpO3JldHVybi0xPT09ZT8oY29uc29sZS53YXJuKCJTaGFwZSBkb2VzIG5vdCBiZWxvbmcgdG8gdGhlIGJvZHkiKSx0aGlzKToodGhpcy5zaGFwZXMuc3BsaWNlKGUsMSksdGhpcy5zaGFwZU9mZnNldHMuc3BsaWNlKGUsMSksdGhpcy5zaGFwZU9yaWVudGF0aW9ucy5zcGxpY2UoZSwxKSx0aGlzLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCksdGhpcy51cGRhdGVCb3VuZGluZ1JhZGl1cygpLHRoaXMuYWFiYk5lZWRzVXBkYXRlPSEwLHQuYm9keT1udWxsLHRoaXMpfXVwZGF0ZUJvdW5kaW5nUmFkaXVzKCl7Y29uc3QgdD10aGlzLnNoYXBlcyxlPXRoaXMuc2hhcGVPZmZzZXRzLHM9dC5sZW5ndGg7bGV0IGk9MDtmb3IobGV0IG89MDtvIT09cztvKyspe2NvbnN0IHM9dFtvXTtzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7Y29uc3Qgbj1lW29dLmxlbmd0aCgpLHI9cy5ib3VuZGluZ1NwaGVyZVJhZGl1cztuK3I+aSYmKGk9bityKX10aGlzLmJvdW5kaW5nUmFkaXVzPWl9dXBkYXRlQUFCQigpe2NvbnN0IHQ9dGhpcy5zaGFwZXMsZT10aGlzLnNoYXBlT2Zmc2V0cyxzPXRoaXMuc2hhcGVPcmllbnRhdGlvbnMsaT10Lmxlbmd0aCxvPUMsbj1NLHI9dGhpcy5xdWF0ZXJuaW9uLGE9dGhpcy5hYWJiLGw9Ujtmb3IobGV0IGM9MDtjIT09aTtjKyspe2NvbnN0IGk9dFtjXTtyLnZtdWx0KGVbY10sbyksby52YWRkKHRoaXMucG9zaXRpb24sbyksci5tdWx0KHNbY10sbiksaS5jYWxjdWxhdGVXb3JsZEFBQkIobyxuLGwubG93ZXJCb3VuZCxsLnVwcGVyQm91bmQpLDA9PT1jP2EuY29weShsKTphLmV4dGVuZChsKX10aGlzLmFhYmJOZWVkc1VwZGF0ZT0hMX11cGRhdGVJbmVydGlhV29ybGQodCl7Y29uc3QgZT10aGlzLmludkluZXJ0aWE7aWYoZS54IT09ZS55fHxlLnkhPT1lLnp8fHQpe2NvbnN0IHQ9SSxzPVQ7dC5zZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHRoaXMucXVhdGVybmlvbiksdC50cmFuc3Bvc2UocyksdC5zY2FsZShlLHQpLHQubW11bHQocyx0aGlzLmludkluZXJ0aWFXb3JsZCl9ZWxzZTt9YXBwbHlGb3JjZSh0LHM9bmV3IGUpe2lmKHRoaXMudHlwZSE9PUYuRFlOQU1JQylyZXR1cm47dGhpcy5zbGVlcFN0YXRlPT09Ri5TTEVFUElORyYmdGhpcy53YWtlVXAoKTtjb25zdCBpPUw7cy5jcm9zcyh0LGkpLHRoaXMuZm9yY2UudmFkZCh0LHRoaXMuZm9yY2UpLHRoaXMudG9ycXVlLnZhZGQoaSx0aGlzLnRvcnF1ZSl9YXBwbHlMb2NhbEZvcmNlKHQscz1uZXcgZSl7aWYodGhpcy50eXBlIT09Ri5EWU5BTUlDKXJldHVybjtjb25zdCBpPXEsbz1QO3RoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKHQsaSksdGhpcy52ZWN0b3JUb1dvcmxkRnJhbWUocyxvKSx0aGlzLmFwcGx5Rm9yY2UoaSxvKX1hcHBseVRvcnF1ZSh0KXt0aGlzLnR5cGU9PT1GLkRZTkFNSUMmJih0aGlzLnNsZWVwU3RhdGU9PT1GLlNMRUVQSU5HJiZ0aGlzLndha2VVcCgpLHRoaXMudG9ycXVlLnZhZGQodCx0aGlzLnRvcnF1ZSkpfWFwcGx5SW1wdWxzZSh0LHM9bmV3IGUpe2lmKHRoaXMudHlwZSE9PUYuRFlOQU1JQylyZXR1cm47dGhpcy5zbGVlcFN0YXRlPT09Ri5TTEVFUElORyYmdGhpcy53YWtlVXAoKTtjb25zdCBpPXMsbz1OO28uY29weSh0KSxvLnNjYWxlKHRoaXMuaW52TWFzcyxvKSx0aGlzLnZlbG9jaXR5LnZhZGQobyx0aGlzLnZlbG9jaXR5KTtjb25zdCBuPVc7aS5jcm9zcyh0LG4pLHRoaXMuaW52SW5lcnRpYVdvcmxkLnZtdWx0KG4sbiksdGhpcy5hbmd1bGFyVmVsb2NpdHkudmFkZChuLHRoaXMuYW5ndWxhclZlbG9jaXR5KX1hcHBseUxvY2FsSW1wdWxzZSh0LHM9bmV3IGUpe2lmKHRoaXMudHlwZSE9PUYuRFlOQU1JQylyZXR1cm47Y29uc3QgaT1WLG89azt0aGlzLnZlY3RvclRvV29ybGRGcmFtZSh0LGkpLHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKHMsbyksdGhpcy5hcHBseUltcHVsc2UoaSxvKX11cGRhdGVNYXNzUHJvcGVydGllcygpe2NvbnN0IHQ9ajt0aGlzLmludk1hc3M9dGhpcy5tYXNzPjA/MS90aGlzLm1hc3M6MDtjb25zdCBlPXRoaXMuaW5lcnRpYSxzPXRoaXMuZml4ZWRSb3RhdGlvbjt0aGlzLnVwZGF0ZUFBQkIoKSx0LnNldCgodGhpcy5hYWJiLnVwcGVyQm91bmQueC10aGlzLmFhYmIubG93ZXJCb3VuZC54KS8yLCh0aGlzLmFhYmIudXBwZXJCb3VuZC55LXRoaXMuYWFiYi5sb3dlckJvdW5kLnkpLzIsKHRoaXMuYWFiYi51cHBlckJvdW5kLnotdGhpcy5hYWJiLmxvd2VyQm91bmQueikvMiksYi5jYWxjdWxhdGVJbmVydGlhKHQsdGhpcy5tYXNzLGUpLHRoaXMuaW52SW5lcnRpYS5zZXQoZS54PjAmJiFzPzEvZS54OjAsZS55PjAmJiFzPzEvZS55OjAsZS56PjAmJiFzPzEvZS56OjApLHRoaXMudXBkYXRlSW5lcnRpYVdvcmxkKCEwKX1nZXRWZWxvY2l0eUF0V29ybGRQb2ludCh0LHMpe2NvbnN0IGk9bmV3IGU7cmV0dXJuIHQudnN1Yih0aGlzLnBvc2l0aW9uLGkpLHRoaXMuYW5ndWxhclZlbG9jaXR5LmNyb3NzKGkscyksdGhpcy52ZWxvY2l0eS52YWRkKHMscyksc31pbnRlZ3JhdGUodCxlLHMpe2lmKHRoaXMucHJldmlvdXNQb3NpdGlvbi5jb3B5KHRoaXMucG9zaXRpb24pLHRoaXMucHJldmlvdXNRdWF0ZXJuaW9uLmNvcHkodGhpcy5xdWF0ZXJuaW9uKSx0aGlzLnR5cGUhPT1GLkRZTkFNSUMmJnRoaXMudHlwZSE9PUYuS0lORU1BVElDfHx0aGlzLnNsZWVwU3RhdGU9PT1GLlNMRUVQSU5HKXJldHVybjtjb25zdCBpPXRoaXMudmVsb2NpdHksbz10aGlzLmFuZ3VsYXJWZWxvY2l0eSxuPXRoaXMucG9zaXRpb24scj10aGlzLmZvcmNlLGE9dGhpcy50b3JxdWUsbD10aGlzLnF1YXRlcm5pb24sYz10aGlzLmludk1hc3MsaD10aGlzLmludkluZXJ0aWFXb3JsZCx1PXRoaXMubGluZWFyRmFjdG9yLGQ9Yyp0O2kueCs9ci54KmQqdS54LGkueSs9ci55KmQqdS55LGkueis9ci56KmQqdS56O2NvbnN0IHA9aC5lbGVtZW50cyx5PXRoaXMuYW5ndWxhckZhY3RvcixtPWEueCp5Lngsdj1hLnkqeS55LHc9YS56KnkuejtvLngrPXQqKHBbMF0qbStwWzFdKnYrcFsyXSp3KSxvLnkrPXQqKHBbM10qbStwWzRdKnYrcFs1XSp3KSxvLnorPXQqKHBbNl0qbStwWzddKnYrcFs4XSp3KSxuLngrPWkueCp0LG4ueSs9aS55KnQsbi56Kz1pLnoqdCxsLmludGVncmF0ZSh0aGlzLmFuZ3VsYXJWZWxvY2l0eSx0LHRoaXMuYW5ndWxhckZhY3RvcixsKSxlJiYocz9sLm5vcm1hbGl6ZUZhc3QoKTpsLm5vcm1hbGl6ZSgpKSx0aGlzLmFhYmJOZWVkc1VwZGF0ZT0hMCx0aGlzLnVwZGF0ZUluZXJ0aWFXb3JsZCgpfX1GLkNPTExJREVfRVZFTlRfTkFNRT0iY29sbGlkZSIsRi5EWU5BTUlDPTEsRi5TVEFUSUM9MixGLktJTkVNQVRJQz00LEYuQVdBS0U9RSxGLlNMRUVQWT1TLEYuU0xFRVBJTkc9eixGLmlkQ291bnRlcj0wLEYud2FrZXVwRXZlbnQ9e3R5cGU6Indha2V1cCJ9LEYuc2xlZXB5RXZlbnQ9e3R5cGU6InNsZWVweSJ9LEYuc2xlZXBFdmVudD17dHlwZToic2xlZXAifTtjb25zdCBDPW5ldyBlLE09bmV3IGgsUj1uZXcgbixJPW5ldyB0LFQ9bmV3IHQsTD1uZXcgZSxxPW5ldyBlLFA9bmV3IGUsTj1uZXcgZSxXPW5ldyBlLFY9bmV3IGUsaz1uZXcgZSxqPW5ldyBlO2NsYXNzIE97Y29uc3RydWN0b3IoKXt0aGlzLndvcmxkPW51bGwsdGhpcy51c2VCb3VuZGluZ0JveGVzPSExLHRoaXMuZGlydHk9ITB9Y29sbGlzaW9uUGFpcnModCxlLHMpe3Rocm93IG5ldyBFcnJvcigiY29sbGlzaW9uUGFpcnMgbm90IGltcGxlbWVudGVkIGZvciB0aGlzIEJyb2FkUGhhc2UgY2xhc3MhIil9bmVlZEJyb2FkcGhhc2VDb2xsaXNpb24odCxlKXtyZXR1cm4gMCE9KHQuY29sbGlzaW9uRmlsdGVyR3JvdXAmZS5jb2xsaXNpb25GaWx0ZXJNYXNrKSYmMCE9KGUuY29sbGlzaW9uRmlsdGVyR3JvdXAmdC5jb2xsaXNpb25GaWx0ZXJNYXNrKSYmKDA9PSh0LnR5cGUmRi5TVEFUSUMpJiZ0LnNsZWVwU3RhdGUhPT1GLlNMRUVQSU5HfHwwPT0oZS50eXBlJkYuU1RBVElDKSYmZS5zbGVlcFN0YXRlIT09Ri5TTEVFUElORyl9aW50ZXJzZWN0aW9uVGVzdCh0LGUscyxpKXt0aGlzLnVzZUJvdW5kaW5nQm94ZXM/dGhpcy5kb0JvdW5kaW5nQm94QnJvYWRwaGFzZSh0LGUscyxpKTp0aGlzLmRvQm91bmRpbmdTcGhlcmVCcm9hZHBoYXNlKHQsZSxzLGkpfWRvQm91bmRpbmdTcGhlcmVCcm9hZHBoYXNlKHQsZSxzLGkpe2NvbnN0IG89XztlLnBvc2l0aW9uLnZzdWIodC5wb3NpdGlvbixvKTtjb25zdCBuPSh0LmJvdW5kaW5nUmFkaXVzK2UuYm91bmRpbmdSYWRpdXMpKioyO28ubGVuZ3RoU3F1YXJlZCgpPG4mJihzLnB1c2godCksaS5wdXNoKGUpKX1kb0JvdW5kaW5nQm94QnJvYWRwaGFzZSh0LGUscyxpKXt0LmFhYmJOZWVkc1VwZGF0ZSYmdC51cGRhdGVBQUJCKCksZS5hYWJiTmVlZHNVcGRhdGUmJmUudXBkYXRlQUFCQigpLHQuYWFiYi5vdmVybGFwcyhlLmFhYmIpJiYocy5wdXNoKHQpLGkucHVzaChlKSl9bWFrZVBhaXJzVW5pcXVlKHQsZSl7Y29uc3Qgcz1ELGk9SCxvPVUsbj10Lmxlbmd0aDtmb3IobGV0IHM9MDtzIT09bjtzKyspaVtzXT10W3NdLG9bc109ZVtzXTt0Lmxlbmd0aD0wLGUubGVuZ3RoPTA7Zm9yKGxldCB0PTA7dCE9PW47dCsrKXtjb25zdCBlPWlbdF0uaWQsbj1vW3RdLmlkLHI9ZTxuP2UrIiwiK246bisiLCIrZTtzW3JdPXQscy5rZXlzLnB1c2gocil9Zm9yKGxldCBuPTA7biE9PXMua2V5cy5sZW5ndGg7bisrKXtjb25zdCBuPXMua2V5cy5wb3AoKSxyPXNbbl07dC5wdXNoKGlbcl0pLGUucHVzaChvW3JdKSxkZWxldGUgc1tuXX19c2V0V29ybGQodCl7fXN0YXRpYyBib3VuZGluZ1NwaGVyZUNoZWNrKHQscyl7Y29uc3QgaT1uZXcgZTt0LnBvc2l0aW9uLnZzdWIocy5wb3NpdGlvbixpKTtjb25zdCBvPXQuc2hhcGVzWzBdLG49cy5zaGFwZXNbMF07cmV0dXJuIE1hdGgucG93KG8uYm91bmRpbmdTcGhlcmVSYWRpdXMrbi5ib3VuZGluZ1NwaGVyZVJhZGl1cywyKT5pLmxlbmd0aFNxdWFyZWQoKX1hYWJiUXVlcnkodCxlLHMpe3JldHVybiBjb25zb2xlLndhcm4oIi5hYWJiUXVlcnkgaXMgbm90IGltcGxlbWVudGVkIGluIHRoaXMgQnJvYWRwaGFzZSBzdWJjbGFzcy4iKSxbXX19Y29uc3QgXz1uZXcgZSxEPXtrZXlzOltdfSxIPVtdLFU9W107Y2xhc3MgRyBleHRlbmRzIE97Y29uc3RydWN0b3IoKXtzdXBlcigpfWNvbGxpc2lvblBhaXJzKHQsZSxzKXtjb25zdCBpPXQuYm9kaWVzLG89aS5sZW5ndGg7bGV0IG4scjtmb3IobGV0IHQ9MDt0IT09bzt0KyspZm9yKGxldCBvPTA7byE9PXQ7bysrKW49aVt0XSxyPWlbb10sdGhpcy5uZWVkQnJvYWRwaGFzZUNvbGxpc2lvbihuLHIpJiZ0aGlzLmludGVyc2VjdGlvblRlc3QobixyLGUscyl9YWFiYlF1ZXJ5KHQsZSxzPVtdKXtmb3IobGV0IGk9MDtpPHQuYm9kaWVzLmxlbmd0aDtpKyspe2NvbnN0IG89dC5ib2RpZXNbaV07by5hYWJiTmVlZHNVcGRhdGUmJm8udXBkYXRlQUFCQigpLG8uYWFiYi5vdmVybGFwcyhlKSYmcy5wdXNoKG8pfXJldHVybiBzfX1jbGFzcyBYe2NvbnN0cnVjdG9yKCl7dGhpcy5yYXlGcm9tV29ybGQ9bmV3IGUsdGhpcy5yYXlUb1dvcmxkPW5ldyBlLHRoaXMuaGl0Tm9ybWFsV29ybGQ9bmV3IGUsdGhpcy5oaXRQb2ludFdvcmxkPW5ldyBlLHRoaXMuaGFzSGl0PSExLHRoaXMuc2hhcGU9bnVsbCx0aGlzLmJvZHk9bnVsbCx0aGlzLmhpdEZhY2VJbmRleD0tMSx0aGlzLmRpc3RhbmNlPS0xLHRoaXMuc2hvdWxkU3RvcD0hMX1yZXNldCgpe3RoaXMucmF5RnJvbVdvcmxkLnNldFplcm8oKSx0aGlzLnJheVRvV29ybGQuc2V0WmVybygpLHRoaXMuaGl0Tm9ybWFsV29ybGQuc2V0WmVybygpLHRoaXMuaGl0UG9pbnRXb3JsZC5zZXRaZXJvKCksdGhpcy5oYXNIaXQ9ITEsdGhpcy5zaGFwZT1udWxsLHRoaXMuYm9keT1udWxsLHRoaXMuaGl0RmFjZUluZGV4PS0xLHRoaXMuZGlzdGFuY2U9LTEsdGhpcy5zaG91bGRTdG9wPSExfWFib3J0KCl7dGhpcy5zaG91bGRTdG9wPSEwfXNldCh0LGUscyxpLG8sbixyKXt0aGlzLnJheUZyb21Xb3JsZC5jb3B5KHQpLHRoaXMucmF5VG9Xb3JsZC5jb3B5KGUpLHRoaXMuaGl0Tm9ybWFsV29ybGQuY29weShzKSx0aGlzLmhpdFBvaW50V29ybGQuY29weShpKSx0aGlzLnNoYXBlPW8sdGhpcy5ib2R5PW4sdGhpcy5kaXN0YW5jZT1yfX1jbGFzcyBZe2NvbnN0cnVjdG9yKHQ9bmV3IGUscz1uZXcgZSl7dGhpcy5mcm9tPXQuY2xvbmUoKSx0aGlzLnRvPXMuY2xvbmUoKSx0aGlzLmRpcmVjdGlvbj1uZXcgZSx0aGlzLnByZWNpc2lvbj0xZS00LHRoaXMuY2hlY2tDb2xsaXNpb25SZXNwb25zZT0hMCx0aGlzLnNraXBCYWNrZmFjZXM9ITEsdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrPS0xLHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXA9LTEsdGhpcy5tb2RlPVkuQU5ZLHRoaXMucmVzdWx0PW5ldyBYLHRoaXMuaGFzSGl0PSExLHRoaXMuY2FsbGJhY2s9dD0+e319aW50ZXJzZWN0V29ybGQodCxlKXtyZXR1cm4gdGhpcy5tb2RlPWUubW9kZXx8WS5BTlksdGhpcy5yZXN1bHQ9ZS5yZXN1bHR8fG5ldyBYLHRoaXMuc2tpcEJhY2tmYWNlcz0hIWUuc2tpcEJhY2tmYWNlcyx0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2s9dm9pZCAwIT09ZS5jb2xsaXNpb25GaWx0ZXJNYXNrP2UuY29sbGlzaW9uRmlsdGVyTWFzazotMSx0aGlzLmNvbGxpc2lvbkZpbHRlckdyb3VwPXZvaWQgMCE9PWUuY29sbGlzaW9uRmlsdGVyR3JvdXA/ZS5jb2xsaXNpb25GaWx0ZXJHcm91cDotMSx0aGlzLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2U9dm9pZCAwPT09ZS5jaGVja0NvbGxpc2lvblJlc3BvbnNlfHxlLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UsZS5mcm9tJiZ0aGlzLmZyb20uY29weShlLmZyb20pLGUudG8mJnRoaXMudG8uY29weShlLnRvKSx0aGlzLmNhbGxiYWNrPWUuY2FsbGJhY2t8fCgoKT0+e30pLHRoaXMuaGFzSGl0PSExLHRoaXMucmVzdWx0LnJlc2V0KCksdGhpcy51cGRhdGVEaXJlY3Rpb24oKSx0aGlzLmdldEFBQkIoWiksSy5sZW5ndGg9MCx0LmJyb2FkcGhhc2UuYWFiYlF1ZXJ5KHQsWixLKSx0aGlzLmludGVyc2VjdEJvZGllcyhLKSx0aGlzLmhhc0hpdH1pbnRlcnNlY3RCb2R5KHQsZSl7ZSYmKHRoaXMucmVzdWx0PWUsdGhpcy51cGRhdGVEaXJlY3Rpb24oKSk7Y29uc3Qgcz10aGlzLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2U7aWYocyYmIXQuY29sbGlzaW9uUmVzcG9uc2UpcmV0dXJuO2lmKDA9PSh0aGlzLmNvbGxpc2lvbkZpbHRlckdyb3VwJnQuY29sbGlzaW9uRmlsdGVyTWFzayl8fDA9PSh0LmNvbGxpc2lvbkZpbHRlckdyb3VwJnRoaXMuY29sbGlzaW9uRmlsdGVyTWFzaykpcmV0dXJuO2NvbnN0IGk9dHQsbz1ldDtmb3IobGV0IGU9MCxuPXQuc2hhcGVzLmxlbmd0aDtlPG47ZSsrKXtjb25zdCBuPXQuc2hhcGVzW2VdO2lmKCghc3x8bi5jb2xsaXNpb25SZXNwb25zZSkmJih0LnF1YXRlcm5pb24ubXVsdCh0LnNoYXBlT3JpZW50YXRpb25zW2VdLG8pLHQucXVhdGVybmlvbi52bXVsdCh0LnNoYXBlT2Zmc2V0c1tlXSxpKSxpLnZhZGQodC5wb3NpdGlvbixpKSx0aGlzLmludGVyc2VjdFNoYXBlKG4sbyxpLHQpLHRoaXMucmVzdWx0LnNob3VsZFN0b3ApKWJyZWFrfX1pbnRlcnNlY3RCb2RpZXModCxlKXtlJiYodGhpcy5yZXN1bHQ9ZSx0aGlzLnVwZGF0ZURpcmVjdGlvbigpKTtmb3IobGV0IGU9MCxzPXQubGVuZ3RoOyF0aGlzLnJlc3VsdC5zaG91bGRTdG9wJiZlPHM7ZSsrKXRoaXMuaW50ZXJzZWN0Qm9keSh0W2VdKX11cGRhdGVEaXJlY3Rpb24oKXt0aGlzLnRvLnZzdWIodGhpcy5mcm9tLHRoaXMuZGlyZWN0aW9uKSx0aGlzLmRpcmVjdGlvbi5ub3JtYWxpemUoKX1pbnRlcnNlY3RTaGFwZSh0LGUscyxpKXtpZihmdW5jdGlvbih0LGUscyl7cy52c3ViKHQsQXQpO2NvbnN0IGk9QXQuZG90KGUpO2Uuc2NhbGUoaSxCdCksQnQudmFkZCh0LEJ0KTtyZXR1cm4gcy5kaXN0YW5jZVRvKEJ0KX0odGhpcy5mcm9tLHRoaXMuZGlyZWN0aW9uLHMpPnQuYm91bmRpbmdTcGhlcmVSYWRpdXMpcmV0dXJuO2NvbnN0IG89dGhpc1t0LnR5cGVdO28mJm8uY2FsbCh0aGlzLHQsZSxzLGksdCl9X2ludGVyc2VjdEJveCh0LGUscyxpLG8pe3JldHVybiB0aGlzLl9pbnRlcnNlY3RDb252ZXgodC5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sZSxzLGksbyl9X2ludGVyc2VjdFBsYW5lKHQscyxpLG8sbil7Y29uc3Qgcj10aGlzLmZyb20sYT10aGlzLnRvLGw9dGhpcy5kaXJlY3Rpb24sYz1uZXcgZSgwLDAsMSk7cy52bXVsdChjLGMpO2NvbnN0IGg9bmV3IGU7ci52c3ViKGksaCk7Y29uc3QgdT1oLmRvdChjKTthLnZzdWIoaSxoKTtpZih1KmguZG90KGMpPjApcmV0dXJuO2lmKHIuZGlzdGFuY2VUbyhhKTx1KXJldHVybjtjb25zdCBkPWMuZG90KGwpO2lmKE1hdGguYWJzKGQpPHRoaXMucHJlY2lzaW9uKXJldHVybjtjb25zdCBwPW5ldyBlLHk9bmV3IGUsbT1uZXcgZTtyLnZzdWIoaSxwKTtjb25zdCB2PS1jLmRvdChwKS9kO2wuc2NhbGUodix5KSxyLnZhZGQoeSxtKSx0aGlzLnJlcG9ydEludGVyc2VjdGlvbihjLG0sbixvLC0xKX1nZXRBQUJCKHQpe2NvbnN0e2xvd2VyQm91bmQ6ZSx1cHBlckJvdW5kOnN9PXQsaT10aGlzLnRvLG89dGhpcy5mcm9tO2UueD1NYXRoLm1pbihpLngsby54KSxlLnk9TWF0aC5taW4oaS55LG8ueSksZS56PU1hdGgubWluKGkueixvLnopLHMueD1NYXRoLm1heChpLngsby54KSxzLnk9TWF0aC5tYXgoaS55LG8ueSkscy56PU1hdGgubWF4KGkueixvLnopfV9pbnRlcnNlY3RIZWlnaHRmaWVsZCh0LGUscyxpLG8pe3QuZGF0YSx0LmVsZW1lbnRTaXplO2NvbnN0IHI9bHQ7ci5mcm9tLmNvcHkodGhpcy5mcm9tKSxyLnRvLmNvcHkodGhpcy50bykseS5wb2ludFRvTG9jYWxGcmFtZShzLGUsci5mcm9tLHIuZnJvbSkseS5wb2ludFRvTG9jYWxGcmFtZShzLGUsci50byxyLnRvKSxyLnVwZGF0ZURpcmVjdGlvbigpO2NvbnN0IGE9Y3Q7bGV0IGwsYyxoLHU7bD1jPTAsaD11PXQuZGF0YS5sZW5ndGgtMTtjb25zdCBkPW5ldyBuO3IuZ2V0QUFCQihkKSx0LmdldEluZGV4T2ZQb3NpdGlvbihkLmxvd2VyQm91bmQueCxkLmxvd2VyQm91bmQueSxhLCEwKSxsPU1hdGgubWF4KGwsYVswXSksYz1NYXRoLm1heChjLGFbMV0pLHQuZ2V0SW5kZXhPZlBvc2l0aW9uKGQudXBwZXJCb3VuZC54LGQudXBwZXJCb3VuZC55LGEsITApLGg9TWF0aC5taW4oaCxhWzBdKzEpLHU9TWF0aC5taW4odSxhWzFdKzEpO2ZvcihsZXQgbj1sO248aDtuKyspZm9yKGxldCBhPWM7YTx1O2ErKyl7aWYodGhpcy5yZXN1bHQuc2hvdWxkU3RvcClyZXR1cm47aWYodC5nZXRBYWJiQXRJbmRleChuLGEsZCksZC5vdmVybGFwc1JheShyKSl7aWYodC5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihuLGEsITEpLHkucG9pbnRUb1dvcmxkRnJhbWUocyxlLHQucGlsbGFyT2Zmc2V0LGF0KSx0aGlzLl9pbnRlcnNlY3RDb252ZXgodC5waWxsYXJDb252ZXgsZSxhdCxpLG8scnQpLHRoaXMucmVzdWx0LnNob3VsZFN0b3ApcmV0dXJuO3QuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIobixhLCEwKSx5LnBvaW50VG9Xb3JsZEZyYW1lKHMsZSx0LnBpbGxhck9mZnNldCxhdCksdGhpcy5faW50ZXJzZWN0Q29udmV4KHQucGlsbGFyQ29udmV4LGUsYXQsaSxvLHJ0KX19fV9pbnRlcnNlY3RTcGhlcmUodCxlLHMsaSxvKXtjb25zdCBuPXRoaXMuZnJvbSxyPXRoaXMudG8sYT10LnJhZGl1cyxsPShyLngtbi54KSoqMisoci55LW4ueSkqKjIrKHIuei1uLnopKioyLGM9MiooKHIueC1uLngpKihuLngtcy54KSsoci55LW4ueSkqKG4ueS1zLnkpKyhyLnotbi56KSoobi56LXMueikpLGg9YyoqMi00KmwqKChuLngtcy54KSoqMisobi55LXMueSkqKjIrKG4uei1zLnopKioyLWEqKjIpLHU9aHQsZD11dDtpZighKGg8MCkpaWYoMD09PWgpbi5sZXJwKHIsaCx1KSx1LnZzdWIocyxkKSxkLm5vcm1hbGl6ZSgpLHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKGQsdSxvLGksLTEpO2Vsc2V7Y29uc3QgdD0oLWMtTWF0aC5zcXJ0KGgpKS8oMipsKSxlPSgtYytNYXRoLnNxcnQoaCkpLygyKmwpO2lmKHQ+PTAmJnQ8PTEmJihuLmxlcnAocix0LHUpLHUudnN1YihzLGQpLGQubm9ybWFsaXplKCksdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24oZCx1LG8saSwtMSkpLHRoaXMucmVzdWx0LnNob3VsZFN0b3ApcmV0dXJuO2U+PTAmJmU8PTEmJihuLmxlcnAocixlLHUpLHUudnN1YihzLGQpLGQubm9ybWFsaXplKCksdGhpcy5yZXBvcnRJbnRlcnNlY3Rpb24oZCx1LG8saSwtMSkpfX1faW50ZXJzZWN0Q29udmV4KHQsZSxzLGksbyxuKXtjb25zdCByPWR0LGE9cHQsbD1uJiZuLmZhY2VMaXN0fHxudWxsLGM9dC5mYWNlcyxoPXQudmVydGljZXMsdT10LmZhY2VOb3JtYWxzLGQ9dGhpcy5kaXJlY3Rpb24scD10aGlzLmZyb20seT10aGlzLnRvLG09cC5kaXN0YW5jZVRvKHkpLHY9bD9sLmxlbmd0aDpjLmxlbmd0aCx3PXRoaXMucmVzdWx0O2ZvcihsZXQgdD0wOyF3LnNob3VsZFN0b3AmJnQ8djt0Kyspe2NvbnN0IG49bD9sW3RdOnQseT1jW25dLHY9dVtuXSxmPWUsZz1zO2EuY29weShoW3lbMF1dKSxmLnZtdWx0KGEsYSksYS52YWRkKGcsYSksYS52c3ViKHAsYSksZi52bXVsdCh2LHIpO2NvbnN0IHg9ZC5kb3Qocik7aWYoTWF0aC5hYnMoeCk8dGhpcy5wcmVjaXNpb24pY29udGludWU7Y29uc3QgYj1yLmRvdChhKS94O2lmKCEoYjwwKSl7ZC5zY2FsZShiLHN0KSxzdC52YWRkKHAsc3QpLGl0LmNvcHkoaFt5WzBdXSksZi52bXVsdChpdCxpdCksZy52YWRkKGl0LGl0KTtmb3IobGV0IHQ9MTshdy5zaG91bGRTdG9wJiZ0PHkubGVuZ3RoLTE7dCsrKXtvdC5jb3B5KGhbeVt0XV0pLG50LmNvcHkoaFt5W3QrMV1dKSxmLnZtdWx0KG90LG90KSxmLnZtdWx0KG50LG50KSxnLnZhZGQob3Qsb3QpLGcudmFkZChudCxudCk7Y29uc3QgZT1zdC5kaXN0YW5jZVRvKHApOyEkKHN0LGl0LG90LG50KSYmISQoc3Qsb3QsaXQsbnQpfHxlPm18fHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKHIsc3QsbyxpLG4pfX19fV9pbnRlcnNlY3RUcmltZXNoKHQsZSxzLGksbyxuKXtjb25zdCByPXl0LGE9eHQsbD1idCxjPXB0LGg9bXQsdT12dCxkPXd0LHA9Z3QsbT1mdDtuJiZuLmZhY2VMaXN0O2NvbnN0IHY9dC5pbmRpY2VzO3QudmVydGljZXM7Y29uc3Qgdz10aGlzLmZyb20sZj10aGlzLnRvLGc9dGhpcy5kaXJlY3Rpb247bC5wb3NpdGlvbi5jb3B5KHMpLGwucXVhdGVybmlvbi5jb3B5KGUpLHkudmVjdG9yVG9Mb2NhbEZyYW1lKHMsZSxnLGgpLHkucG9pbnRUb0xvY2FsRnJhbWUocyxlLHcsdSkseS5wb2ludFRvTG9jYWxGcmFtZShzLGUsZixkKSxkLngqPXQuc2NhbGUueCxkLnkqPXQuc2NhbGUueSxkLnoqPXQuc2NhbGUueix1LngqPXQuc2NhbGUueCx1LnkqPXQuc2NhbGUueSx1LnoqPXQuc2NhbGUueixkLnZzdWIodSxoKSxoLm5vcm1hbGl6ZSgpO2NvbnN0IHg9dS5kaXN0YW5jZVNxdWFyZWQoZCk7dC50cmVlLnJheVF1ZXJ5KHRoaXMsbCxhKTtmb3IobGV0IG49MCxsPWEubGVuZ3RoOyF0aGlzLnJlc3VsdC5zaG91bGRTdG9wJiZuIT09bDtuKyspe2NvbnN0IGw9YVtuXTt0LmdldE5vcm1hbChsLHIpLHQuZ2V0VmVydGV4KHZbMypsXSxpdCksaXQudnN1Yih1LGMpO2NvbnN0IGQ9aC5kb3Qociksdz1yLmRvdChjKS9kO2lmKHc8MCljb250aW51ZTtoLnNjYWxlKHcsc3QpLHN0LnZhZGQodSxzdCksdC5nZXRWZXJ0ZXgodlszKmwrMV0sb3QpLHQuZ2V0VmVydGV4KHZbMypsKzJdLG50KTtjb25zdCBmPXN0LmRpc3RhbmNlU3F1YXJlZCh1KTshJChzdCxvdCxpdCxudCkmJiEkKHN0LGl0LG90LG50KXx8Zj54fHwoeS52ZWN0b3JUb1dvcmxkRnJhbWUoZSxyLG0pLHkucG9pbnRUb1dvcmxkRnJhbWUocyxlLHN0LHApLHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKG0scCxvLGksbCkpfWEubGVuZ3RoPTB9cmVwb3J0SW50ZXJzZWN0aW9uKHQsZSxzLGksbyl7Y29uc3Qgbj10aGlzLmZyb20scj10aGlzLnRvLGE9bi5kaXN0YW5jZVRvKGUpLGw9dGhpcy5yZXN1bHQ7aWYoISh0aGlzLnNraXBCYWNrZmFjZXMmJnQuZG90KHRoaXMuZGlyZWN0aW9uKT4wKSlzd2l0Y2gobC5oaXRGYWNlSW5kZXg9dm9pZCAwIT09bz9vOi0xLHRoaXMubW9kZSl7Y2FzZSBZLkFMTDp0aGlzLmhhc0hpdD0hMCxsLnNldChuLHIsdCxlLHMsaSxhKSxsLmhhc0hpdD0hMCx0aGlzLmNhbGxiYWNrKGwpO2JyZWFrO2Nhc2UgWS5DTE9TRVNUOihhPGwuZGlzdGFuY2V8fCFsLmhhc0hpdCkmJih0aGlzLmhhc0hpdD0hMCxsLmhhc0hpdD0hMCxsLnNldChuLHIsdCxlLHMsaSxhKSk7YnJlYWs7Y2FzZSBZLkFOWTp0aGlzLmhhc0hpdD0hMCxsLmhhc0hpdD0hMCxsLnNldChuLHIsdCxlLHMsaSxhKSxsLnNob3VsZFN0b3A9ITB9fX1ZLkNMT1NFU1Q9MSxZLkFOWT0yLFkuQUxMPTQ7Y29uc3QgWj1uZXcgbixLPVtdLFE9bmV3IGUsSj1uZXcgZTtmdW5jdGlvbiAkKHQsZSxzLGkpe2kudnN1YihlLEF0KSxzLnZzdWIoZSxRKSx0LnZzdWIoZSxKKTtjb25zdCBvPUF0LmRvdChBdCksbj1BdC5kb3QoUSkscj1BdC5kb3QoSiksYT1RLmRvdChRKSxsPVEuZG90KEopO2xldCBjLGg7cmV0dXJuKGM9YSpyLW4qbCk+PTAmJihoPW8qbC1uKnIpPj0wJiZjK2g8byphLW4qbn1ZLnBvaW50SW5UcmlhbmdsZT0kO2NvbnN0IHR0PW5ldyBlLGV0PW5ldyBoLHN0PW5ldyBlLGl0PW5ldyBlLG90PW5ldyBlLG50PW5ldyBlO1kucHJvdG90eXBlW3AudHlwZXMuQk9YXT1ZLnByb3RvdHlwZS5faW50ZXJzZWN0Qm94LFkucHJvdG90eXBlW3AudHlwZXMuUExBTkVdPVkucHJvdG90eXBlLl9pbnRlcnNlY3RQbGFuZTtjb25zdCBydD17ZmFjZUxpc3Q6WzBdfSxhdD1uZXcgZSxsdD1uZXcgWSxjdD1bXTtZLnByb3RvdHlwZVtwLnR5cGVzLkhFSUdIVEZJRUxEXT1ZLnByb3RvdHlwZS5faW50ZXJzZWN0SGVpZ2h0ZmllbGQ7Y29uc3QgaHQ9bmV3IGUsdXQ9bmV3IGU7WS5wcm90b3R5cGVbcC50eXBlcy5TUEhFUkVdPVkucHJvdG90eXBlLl9pbnRlcnNlY3RTcGhlcmU7Y29uc3QgZHQ9bmV3IGUscHQ9bmV3IGU7WS5wcm90b3R5cGVbcC50eXBlcy5DWUxJTkRFUl09WS5wcm90b3R5cGUuX2ludGVyc2VjdENvbnZleCxZLnByb3RvdHlwZVtwLnR5cGVzLkNPTlZFWFBPTFlIRURST05dPVkucHJvdG90eXBlLl9pbnRlcnNlY3RDb252ZXg7Y29uc3QgeXQ9bmV3IGUsbXQ9bmV3IGUsdnQ9bmV3IGUsd3Q9bmV3IGUsZnQ9bmV3IGUsZ3Q9bmV3IGU7bmV3IG47Y29uc3QgeHQ9W10sYnQ9bmV3IHk7WS5wcm90b3R5cGVbcC50eXBlcy5UUklNRVNIXT1ZLnByb3RvdHlwZS5faW50ZXJzZWN0VHJpbWVzaDtjb25zdCBBdD1uZXcgZSxCdD1uZXcgZTtjbGFzcyBFdCBleHRlbmRzIE97Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLmF4aXNMaXN0PVtdLHRoaXMud29ybGQ9bnVsbCx0aGlzLmF4aXNJbmRleD0wO2NvbnN0IGU9dGhpcy5heGlzTGlzdDt0aGlzLl9hZGRCb2R5SGFuZGxlcj10PT57ZS5wdXNoKHQuYm9keSl9LHRoaXMuX3JlbW92ZUJvZHlIYW5kbGVyPXQ9Pntjb25zdCBzPWUuaW5kZXhPZih0LmJvZHkpOy0xIT09cyYmZS5zcGxpY2UocywxKX0sdCYmdGhpcy5zZXRXb3JsZCh0KX1zZXRXb3JsZCh0KXt0aGlzLmF4aXNMaXN0Lmxlbmd0aD0wO2ZvcihsZXQgZT0wO2U8dC5ib2RpZXMubGVuZ3RoO2UrKyl0aGlzLmF4aXNMaXN0LnB1c2godC5ib2RpZXNbZV0pO3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYWRkQm9keSIsdGhpcy5fYWRkQm9keUhhbmRsZXIpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVtb3ZlQm9keSIsdGhpcy5fcmVtb3ZlQm9keUhhbmRsZXIpLHQuYWRkRXZlbnRMaXN0ZW5lcigiYWRkQm9keSIsdGhpcy5fYWRkQm9keUhhbmRsZXIpLHQuYWRkRXZlbnRMaXN0ZW5lcigicmVtb3ZlQm9keSIsdGhpcy5fcmVtb3ZlQm9keUhhbmRsZXIpLHRoaXMud29ybGQ9dCx0aGlzLmRpcnR5PSEwfWNvbGxpc2lvblBhaXJzKHQsZSxzKXtjb25zdCBpPXRoaXMuYXhpc0xpc3Qsbz1pLmxlbmd0aCxuPXRoaXMuYXhpc0luZGV4O2xldCByLGE7Zm9yKHRoaXMuZGlydHkmJih0aGlzLnNvcnRMaXN0KCksdGhpcy5kaXJ0eT0hMSkscj0wO3IhPT1vO3IrKyl7Y29uc3QgdD1pW3JdO2ZvcihhPXIrMTthPG87YSsrKXtjb25zdCBvPWlbYV07aWYodGhpcy5uZWVkQnJvYWRwaGFzZUNvbGxpc2lvbih0LG8pKXtpZighRXQuY2hlY2tCb3VuZHModCxvLG4pKWJyZWFrO3RoaXMuaW50ZXJzZWN0aW9uVGVzdCh0LG8sZSxzKX19fX1zb3J0TGlzdCgpe2NvbnN0IHQ9dGhpcy5heGlzTGlzdCxlPXRoaXMuYXhpc0luZGV4LHM9dC5sZW5ndGg7Zm9yKGxldCBlPTA7ZSE9PXM7ZSsrKXtjb25zdCBzPXRbZV07cy5hYWJiTmVlZHNVcGRhdGUmJnMudXBkYXRlQUFCQigpfTA9PT1lP0V0Lmluc2VydGlvblNvcnRYKHQpOjE9PT1lP0V0Lmluc2VydGlvblNvcnRZKHQpOjI9PT1lJiZFdC5pbnNlcnRpb25Tb3J0Wih0KX1hdXRvRGV0ZWN0QXhpcygpe2xldCB0PTAsZT0wLHM9MCxpPTAsbz0wLG49MDtjb25zdCByPXRoaXMuYXhpc0xpc3QsYT1yLmxlbmd0aCxsPTEvYTtmb3IobGV0IGw9MDtsIT09YTtsKyspe2NvbnN0IGE9cltsXSxjPWEucG9zaXRpb24ueDt0Kz1jLGUrPWMqYztjb25zdCBoPWEucG9zaXRpb24ueTtzKz1oLGkrPWgqaDtjb25zdCB1PWEucG9zaXRpb24uejtvKz11LG4rPXUqdX1jb25zdCBjPWUtdCp0KmwsaD1pLXMqcypsLHU9bi1vKm8qbDt0aGlzLmF4aXNJbmRleD1jPmg/Yz51PzA6MjpoPnU/MToyfWFhYmJRdWVyeSh0LGUscz1bXSl7dGhpcy5kaXJ0eSYmKHRoaXMuc29ydExpc3QoKSx0aGlzLmRpcnR5PSExKTtjb25zdCBpPXRoaXMuYXhpc0luZGV4O2xldCBvPSJ4IjsxPT09aSYmKG89InkiKSwyPT09aSYmKG89InoiKTtjb25zdCBuPXRoaXMuYXhpc0xpc3Q7ZS5sb3dlckJvdW5kW29dLGUudXBwZXJCb3VuZFtvXTtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKyl7Y29uc3QgaT1uW3RdO2kuYWFiYk5lZWRzVXBkYXRlJiZpLnVwZGF0ZUFBQkIoKSxpLmFhYmIub3ZlcmxhcHMoZSkmJnMucHVzaChpKX1yZXR1cm4gc319RXQuaW5zZXJ0aW9uU29ydFg9dD0+e2ZvcihsZXQgZT0xLHM9dC5sZW5ndGg7ZTxzO2UrKyl7Y29uc3Qgcz10W2VdO2xldCBpO2ZvcihpPWUtMTtpPj0wJiYhKHRbaV0uYWFiYi5sb3dlckJvdW5kLng8PXMuYWFiYi5sb3dlckJvdW5kLngpO2ktLSl0W2krMV09dFtpXTt0W2krMV09c31yZXR1cm4gdH0sRXQuaW5zZXJ0aW9uU29ydFk9dD0+e2ZvcihsZXQgZT0xLHM9dC5sZW5ndGg7ZTxzO2UrKyl7Y29uc3Qgcz10W2VdO2xldCBpO2ZvcihpPWUtMTtpPj0wJiYhKHRbaV0uYWFiYi5sb3dlckJvdW5kLnk8PXMuYWFiYi5sb3dlckJvdW5kLnkpO2ktLSl0W2krMV09dFtpXTt0W2krMV09c31yZXR1cm4gdH0sRXQuaW5zZXJ0aW9uU29ydFo9dD0+e2ZvcihsZXQgZT0xLHM9dC5sZW5ndGg7ZTxzO2UrKyl7Y29uc3Qgcz10W2VdO2xldCBpO2ZvcihpPWUtMTtpPj0wJiYhKHRbaV0uYWFiYi5sb3dlckJvdW5kLno8PXMuYWFiYi5sb3dlckJvdW5kLnopO2ktLSl0W2krMV09dFtpXTt0W2krMV09c31yZXR1cm4gdH0sRXQuY2hlY2tCb3VuZHM9KHQsZSxzKT0+e2xldCBpLG87MD09PXM/KGk9dC5wb3NpdGlvbi54LG89ZS5wb3NpdGlvbi54KToxPT09cz8oaT10LnBvc2l0aW9uLnksbz1lLnBvc2l0aW9uLnkpOjI9PT1zJiYoaT10LnBvc2l0aW9uLnosbz1lLnBvc2l0aW9uLnopO2NvbnN0IG49dC5ib3VuZGluZ1JhZGl1cztyZXR1cm4gby1lLmJvdW5kaW5nUmFkaXVzPGkrbn07Y2xhc3MgU3R7c3RhdGljIGRlZmF1bHRzKHQ9e30sZSl7Zm9yKGxldCBzIGluIGUpcyBpbiB0fHwodFtzXT1lW3NdKTtyZXR1cm4gdH19Y2xhc3MgenR7Y29uc3RydWN0b3IodCxlLHM9e30pe3M9U3QuZGVmYXVsdHMocyx7Y29sbGlkZUNvbm5lY3RlZDohMCx3YWtlVXBCb2RpZXM6ITB9KSx0aGlzLmVxdWF0aW9ucz1bXSx0aGlzLmJvZHlBPXQsdGhpcy5ib2R5Qj1lLHRoaXMuaWQ9enQuaWRDb3VudGVyKyssdGhpcy5jb2xsaWRlQ29ubmVjdGVkPXMuY29sbGlkZUNvbm5lY3RlZCxzLndha2VVcEJvZGllcyYmKHQmJnQud2FrZVVwKCksZSYmZS53YWtlVXAoKSl9dXBkYXRlKCl7dGhyb3cgbmV3IEVycm9yKCJtZXRob2QgdXBkYXRlKCkgbm90IGltcGxtZW1lbnRlZCBpbiB0aGlzIENvbnN0cmFpbnQgc3ViY2xhc3MhIil9ZW5hYmxlKCl7Y29uc3QgdD10aGlzLmVxdWF0aW9ucztmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdLmVuYWJsZWQ9ITB9ZGlzYWJsZSgpe2NvbnN0IHQ9dGhpcy5lcXVhdGlvbnM7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspdFtlXS5lbmFibGVkPSExfX16dC5pZENvdW50ZXI9MDtjbGFzcyBGdHtjb25zdHJ1Y3Rvcigpe3RoaXMuc3BhdGlhbD1uZXcgZSx0aGlzLnJvdGF0aW9uYWw9bmV3IGV9bXVsdGlwbHlFbGVtZW50KHQpe3JldHVybiB0LnNwYXRpYWwuZG90KHRoaXMuc3BhdGlhbCkrdC5yb3RhdGlvbmFsLmRvdCh0aGlzLnJvdGF0aW9uYWwpfW11bHRpcGx5VmVjdG9ycyh0LGUpe3JldHVybiB0LmRvdCh0aGlzLnNwYXRpYWwpK2UuZG90KHRoaXMucm90YXRpb25hbCl9fWNsYXNzIEN0e2NvbnN0cnVjdG9yKHQsZSxzPS0xZTYsaT0xZTYpe3RoaXMuaWQ9Q3QuaWQrKyx0aGlzLm1pbkZvcmNlPXMsdGhpcy5tYXhGb3JjZT1pLHRoaXMuYmk9dCx0aGlzLmJqPWUsdGhpcy5hPTAsdGhpcy5iPTAsdGhpcy5lcHM9MCx0aGlzLmphY29iaWFuRWxlbWVudEE9bmV3IEZ0LHRoaXMuamFjb2JpYW5FbGVtZW50Qj1uZXcgRnQsdGhpcy5lbmFibGVkPSEwLHRoaXMubXVsdGlwbGllcj0wLHRoaXMuc2V0U3Bvb2tQYXJhbXMoMWU3LDQsMS82MCl9c2V0U3Bvb2tQYXJhbXModCxlLHMpe2NvbnN0IGk9ZSxvPXQsbj1zO3RoaXMuYT00LyhuKigxKzQqaSkpLHRoaXMuYj00KmkvKDErNCppKSx0aGlzLmVwcz00LyhuKm4qbyooMSs0KmkpKX1jb21wdXRlQih0LGUscyl7Y29uc3QgaT10aGlzLmNvbXB1dGVHVygpO3JldHVybi10aGlzLmNvbXB1dGVHcSgpKnQtaSplLXRoaXMuY29tcHV0ZUdpTWYoKSpzfWNvbXB1dGVHcSgpe2NvbnN0IHQ9dGhpcy5qYWNvYmlhbkVsZW1lbnRBLGU9dGhpcy5qYWNvYmlhbkVsZW1lbnRCLHM9dGhpcy5iaSxpPXRoaXMuYmosbz1zLnBvc2l0aW9uLG49aS5wb3NpdGlvbjtyZXR1cm4gdC5zcGF0aWFsLmRvdChvKStlLnNwYXRpYWwuZG90KG4pfWNvbXB1dGVHVygpe2NvbnN0IHQ9dGhpcy5qYWNvYmlhbkVsZW1lbnRBLGU9dGhpcy5qYWNvYmlhbkVsZW1lbnRCLHM9dGhpcy5iaSxpPXRoaXMuYmosbz1zLnZlbG9jaXR5LG49aS52ZWxvY2l0eSxyPXMuYW5ndWxhclZlbG9jaXR5LGE9aS5hbmd1bGFyVmVsb2NpdHk7cmV0dXJuIHQubXVsdGlwbHlWZWN0b3JzKG8scikrZS5tdWx0aXBseVZlY3RvcnMobixhKX1jb21wdXRlR1dsYW1iZGEoKXtjb25zdCB0PXRoaXMuamFjb2JpYW5FbGVtZW50QSxlPXRoaXMuamFjb2JpYW5FbGVtZW50QixzPXRoaXMuYmksaT10aGlzLmJqLG89cy52bGFtYmRhLG49aS52bGFtYmRhLHI9cy53bGFtYmRhLGE9aS53bGFtYmRhO3JldHVybiB0Lm11bHRpcGx5VmVjdG9ycyhvLHIpK2UubXVsdGlwbHlWZWN0b3JzKG4sYSl9Y29tcHV0ZUdpTWYoKXtjb25zdCB0PXRoaXMuamFjb2JpYW5FbGVtZW50QSxlPXRoaXMuamFjb2JpYW5FbGVtZW50QixzPXRoaXMuYmksaT10aGlzLmJqLG89cy5mb3JjZSxuPXMudG9ycXVlLHI9aS5mb3JjZSxhPWkudG9ycXVlLGw9cy5pbnZNYXNzU29sdmUsYz1pLmludk1hc3NTb2x2ZTtyZXR1cm4gby5zY2FsZShsLE10KSxyLnNjYWxlKGMsUnQpLHMuaW52SW5lcnRpYVdvcmxkU29sdmUudm11bHQobixJdCksaS5pbnZJbmVydGlhV29ybGRTb2x2ZS52bXVsdChhLFR0KSx0Lm11bHRpcGx5VmVjdG9ycyhNdCxJdCkrZS5tdWx0aXBseVZlY3RvcnMoUnQsVHQpfWNvbXB1dGVHaU1HdCgpe2NvbnN0IHQ9dGhpcy5qYWNvYmlhbkVsZW1lbnRBLGU9dGhpcy5qYWNvYmlhbkVsZW1lbnRCLHM9dGhpcy5iaSxpPXRoaXMuYmosbz1zLmludk1hc3NTb2x2ZSxuPWkuaW52TWFzc1NvbHZlLHI9cy5pbnZJbmVydGlhV29ybGRTb2x2ZSxhPWkuaW52SW5lcnRpYVdvcmxkU29sdmU7bGV0IGw9bytuO3JldHVybiByLnZtdWx0KHQucm90YXRpb25hbCxMdCksbCs9THQuZG90KHQucm90YXRpb25hbCksYS52bXVsdChlLnJvdGF0aW9uYWwsTHQpLGwrPUx0LmRvdChlLnJvdGF0aW9uYWwpLGx9YWRkVG9XbGFtYmRhKHQpe2NvbnN0IGU9dGhpcy5qYWNvYmlhbkVsZW1lbnRBLHM9dGhpcy5qYWNvYmlhbkVsZW1lbnRCLGk9dGhpcy5iaSxvPXRoaXMuYmosbj1xdDtpLnZsYW1iZGEuYWRkU2NhbGVkVmVjdG9yKGkuaW52TWFzc1NvbHZlKnQsZS5zcGF0aWFsLGkudmxhbWJkYSksby52bGFtYmRhLmFkZFNjYWxlZFZlY3RvcihvLmludk1hc3NTb2x2ZSp0LHMuc3BhdGlhbCxvLnZsYW1iZGEpLGkuaW52SW5lcnRpYVdvcmxkU29sdmUudm11bHQoZS5yb3RhdGlvbmFsLG4pLGkud2xhbWJkYS5hZGRTY2FsZWRWZWN0b3IodCxuLGkud2xhbWJkYSksby5pbnZJbmVydGlhV29ybGRTb2x2ZS52bXVsdChzLnJvdGF0aW9uYWwsbiksby53bGFtYmRhLmFkZFNjYWxlZFZlY3Rvcih0LG4sby53bGFtYmRhKX1jb21wdXRlQygpe3JldHVybiB0aGlzLmNvbXB1dGVHaU1HdCgpK3RoaXMuZXBzfX1DdC5pZD0wO2NvbnN0IE10PW5ldyBlLFJ0PW5ldyBlLEl0PW5ldyBlLFR0PW5ldyBlLEx0PW5ldyBlLHF0PW5ldyBlO2NsYXNzIFB0IGV4dGVuZHMgQ3R7Y29uc3RydWN0b3IodCxzLGk9MWU2KXtzdXBlcih0LHMsMCxpKSx0aGlzLnJlc3RpdHV0aW9uPTAsdGhpcy5yaT1uZXcgZSx0aGlzLnJqPW5ldyBlLHRoaXMubmk9bmV3IGV9Y29tcHV0ZUIodCl7Y29uc3QgZT10aGlzLmEscz10aGlzLmIsaT10aGlzLmJpLG89dGhpcy5iaixuPXRoaXMucmkscj10aGlzLnJqLGE9TnQsbD1XdCxjPWkudmVsb2NpdHksaD1pLmFuZ3VsYXJWZWxvY2l0eTtpLmZvcmNlLGkudG9ycXVlO2NvbnN0IHU9by52ZWxvY2l0eSxkPW8uYW5ndWxhclZlbG9jaXR5O28uZm9yY2Usby50b3JxdWU7Y29uc3QgcD1WdCx5PXRoaXMuamFjb2JpYW5FbGVtZW50QSxtPXRoaXMuamFjb2JpYW5FbGVtZW50Qix2PXRoaXMubmk7bi5jcm9zcyh2LGEpLHIuY3Jvc3ModixsKSx2Lm5lZ2F0ZSh5LnNwYXRpYWwpLGEubmVnYXRlKHkucm90YXRpb25hbCksbS5zcGF0aWFsLmNvcHkodiksbS5yb3RhdGlvbmFsLmNvcHkobCkscC5jb3B5KG8ucG9zaXRpb24pLHAudmFkZChyLHApLHAudnN1YihpLnBvc2l0aW9uLHApLHAudnN1YihuLHApO2NvbnN0IHc9di5kb3QocCksZj10aGlzLnJlc3RpdHV0aW9uKzE7cmV0dXJuLXcqZS0oZip1LmRvdCh2KS1mKmMuZG90KHYpK2QuZG90KGwpLWguZG90KGEpKSpzLXQqdGhpcy5jb21wdXRlR2lNZigpfWdldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWwoKXtjb25zdCB0PWt0LGU9anQscz1PdCxpPV90LG89RHQ7cmV0dXJuIHRoaXMuYmkucG9zaXRpb24udmFkZCh0aGlzLnJpLHMpLHRoaXMuYmoucG9zaXRpb24udmFkZCh0aGlzLnJqLGkpLHRoaXMuYmkuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQocyx0KSx0aGlzLmJqLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KGksZSksdC52c3ViKGUsbyksdGhpcy5uaS5kb3Qobyl9fWNvbnN0IE50PW5ldyBlLFd0PW5ldyBlLFZ0PW5ldyBlLGt0PW5ldyBlLGp0PW5ldyBlLE90PW5ldyBlLF90PW5ldyBlLER0PW5ldyBlO2NsYXNzIEh0IGV4dGVuZHMgenR7Y29uc3RydWN0b3IodCxzPW5ldyBlLGksbz1uZXcgZSxuPTFlNil7c3VwZXIodCxpKSx0aGlzLnBpdm90QT1zLmNsb25lKCksdGhpcy5waXZvdEI9by5jbG9uZSgpO2NvbnN0IHI9dGhpcy5lcXVhdGlvblg9bmV3IFB0KHQsaSksYT10aGlzLmVxdWF0aW9uWT1uZXcgUHQodCxpKSxsPXRoaXMuZXF1YXRpb25aPW5ldyBQdCh0LGkpO3RoaXMuZXF1YXRpb25zLnB1c2gocixhLGwpLHIubWluRm9yY2U9YS5taW5Gb3JjZT1sLm1pbkZvcmNlPS1uLHIubWF4Rm9yY2U9YS5tYXhGb3JjZT1sLm1heEZvcmNlPW4sci5uaS5zZXQoMSwwLDApLGEubmkuc2V0KDAsMSwwKSxsLm5pLnNldCgwLDAsMSl9dXBkYXRlKCl7Y29uc3QgdD10aGlzLmJvZHlBLGU9dGhpcy5ib2R5QixzPXRoaXMuZXF1YXRpb25YLGk9dGhpcy5lcXVhdGlvblksbz10aGlzLmVxdWF0aW9uWjt0LnF1YXRlcm5pb24udm11bHQodGhpcy5waXZvdEEscy5yaSksZS5xdWF0ZXJuaW9uLnZtdWx0KHRoaXMucGl2b3RCLHMucmopLGkucmkuY29weShzLnJpKSxpLnJqLmNvcHkocy5yaiksby5yaS5jb3B5KHMucmkpLG8ucmouY29weShzLnJqKX19Y2xhc3MgVXQgZXh0ZW5kcyBDdHtjb25zdHJ1Y3Rvcih0LHMsaT17fSl7Y29uc3Qgbz12b2lkIDAhPT1pLm1heEZvcmNlP2kubWF4Rm9yY2U6MWU2O3N1cGVyKHQscywtbyxvKSx0aGlzLmF4aXNBPWkuYXhpc0E/aS5heGlzQS5jbG9uZSgpOm5ldyBlKDEsMCwwKSx0aGlzLmF4aXNCPWkuYXhpc0I/aS5heGlzQi5jbG9uZSgpOm5ldyBlKDAsMSwwKSx0aGlzLmFuZ2xlPXZvaWQgMCE9PWkuYW5nbGU/aS5hbmdsZTowfWNvbXB1dGVCKHQpe2NvbnN0IGU9dGhpcy5hLHM9dGhpcy5iLGk9dGhpcy5heGlzQSxvPXRoaXMuYXhpc0Isbj1HdCxyPVh0LGE9dGhpcy5qYWNvYmlhbkVsZW1lbnRBLGw9dGhpcy5qYWNvYmlhbkVsZW1lbnRCO2kuY3Jvc3MobyxuKSxvLmNyb3NzKGksciksYS5yb3RhdGlvbmFsLmNvcHkociksbC5yb3RhdGlvbmFsLmNvcHkobik7cmV0dXJuLShNYXRoLmNvcyh0aGlzLmFuZ2xlKS1pLmRvdChvKSkqZS10aGlzLmNvbXB1dGVHVygpKnMtdCp0aGlzLmNvbXB1dGVHaU1mKCl9fWNvbnN0IEd0PW5ldyBlLFh0PW5ldyBlO2NsYXNzIFl0IGV4dGVuZHMgQ3R7Y29uc3RydWN0b3IodCxzLGk9e30pe2NvbnN0IG89dm9pZCAwIT09aS5tYXhGb3JjZT9pLm1heEZvcmNlOjFlNjtzdXBlcih0LHMsLW8sbyksdGhpcy5heGlzQT1pLmF4aXNBP2kuYXhpc0EuY2xvbmUoKTpuZXcgZSgxLDAsMCksdGhpcy5heGlzQj1pLmF4aXNCP2kuYXhpc0IuY2xvbmUoKTpuZXcgZSgwLDEsMCksdGhpcy5tYXhBbmdsZT1NYXRoLlBJLzJ9Y29tcHV0ZUIodCl7Y29uc3QgZT10aGlzLmEscz10aGlzLmIsaT10aGlzLmF4aXNBLG89dGhpcy5heGlzQixuPVp0LHI9S3QsYT10aGlzLmphY29iaWFuRWxlbWVudEEsbD10aGlzLmphY29iaWFuRWxlbWVudEI7aS5jcm9zcyhvLG4pLG8uY3Jvc3MoaSxyKSxhLnJvdGF0aW9uYWwuY29weShyKSxsLnJvdGF0aW9uYWwuY29weShuKTtyZXR1cm4tKE1hdGguY29zKHRoaXMubWF4QW5nbGUpLWkuZG90KG8pKSplLXRoaXMuY29tcHV0ZUdXKCkqcy10KnRoaXMuY29tcHV0ZUdpTWYoKX19Y29uc3QgWnQ9bmV3IGUsS3Q9bmV3IGU7Y2xhc3MgUXQgZXh0ZW5kcyBIdHtjb25zdHJ1Y3Rvcih0LHMsaT17fSl7Y29uc3Qgbz12b2lkIDAhPT1pLm1heEZvcmNlP2kubWF4Rm9yY2U6MWU2O3N1cGVyKHQsaS5waXZvdEE/aS5waXZvdEEuY2xvbmUoKTpuZXcgZSxzLGkucGl2b3RCP2kucGl2b3RCLmNsb25lKCk6bmV3IGUsbyksdGhpcy5heGlzQT1pLmF4aXNBP2kuYXhpc0EuY2xvbmUoKTpuZXcgZSx0aGlzLmF4aXNCPWkuYXhpc0I/aS5heGlzQi5jbG9uZSgpOm5ldyBlLHRoaXMuY29sbGlkZUNvbm5lY3RlZD0hIWkuY29sbGlkZUNvbm5lY3RlZCx0aGlzLmFuZ2xlPXZvaWQgMCE9PWkuYW5nbGU/aS5hbmdsZTowO2NvbnN0IG49dGhpcy5jb25lRXF1YXRpb249bmV3IFV0KHQscyxpKSxyPXRoaXMudHdpc3RFcXVhdGlvbj1uZXcgWXQodCxzLGkpO3RoaXMudHdpc3RBbmdsZT12b2lkIDAhPT1pLnR3aXN0QW5nbGU/aS50d2lzdEFuZ2xlOjAsbi5tYXhGb3JjZT0wLG4ubWluRm9yY2U9LW8sci5tYXhGb3JjZT0wLHIubWluRm9yY2U9LW8sdGhpcy5lcXVhdGlvbnMucHVzaChuLHIpfXVwZGF0ZSgpe2NvbnN0IHQ9dGhpcy5ib2R5QSxlPXRoaXMuYm9keUIscz10aGlzLmNvbmVFcXVhdGlvbixpPXRoaXMudHdpc3RFcXVhdGlvbjtzdXBlci51cGRhdGUoKSx0LnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLmF4aXNBLHMuYXhpc0EpLGUudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMuYXhpc0Iscy5heGlzQiksdGhpcy5heGlzQS50YW5nZW50cyhpLmF4aXNBLGkuYXhpc0EpLHQudmVjdG9yVG9Xb3JsZEZyYW1lKGkuYXhpc0EsaS5heGlzQSksdGhpcy5heGlzQi50YW5nZW50cyhpLmF4aXNCLGkuYXhpc0IpLGUudmVjdG9yVG9Xb3JsZEZyYW1lKGkuYXhpc0IsaS5heGlzQikscy5hbmdsZT10aGlzLmFuZ2xlLGkubWF4QW5nbGU9dGhpcy50d2lzdEFuZ2xlfX1jbGFzcyBKdCBleHRlbmRzIHp0e2NvbnN0cnVjdG9yKHQsZSxzLGk9MWU2KXtzdXBlcih0LGUpLHZvaWQgMD09PXMmJihzPXQucG9zaXRpb24uZGlzdGFuY2VUbyhlLnBvc2l0aW9uKSksdGhpcy5kaXN0YW5jZT1zO2NvbnN0IG89dGhpcy5kaXN0YW5jZUVxdWF0aW9uPW5ldyBQdCh0LGUpO3RoaXMuZXF1YXRpb25zLnB1c2gobyksby5taW5Gb3JjZT0taSxvLm1heEZvcmNlPWl9dXBkYXRlKCl7Y29uc3QgdD10aGlzLmJvZHlBLGU9dGhpcy5ib2R5QixzPXRoaXMuZGlzdGFuY2VFcXVhdGlvbixpPS41KnRoaXMuZGlzdGFuY2Usbz1zLm5pO2UucG9zaXRpb24udnN1Yih0LnBvc2l0aW9uLG8pLG8ubm9ybWFsaXplKCksby5zY2FsZShpLHMucmkpLG8uc2NhbGUoLWkscy5yail9fWNsYXNzICR0IGV4dGVuZHMgSHR7Y29uc3RydWN0b3IodCxzLGk9e30pe2NvbnN0IG89dm9pZCAwIT09aS5tYXhGb3JjZT9pLm1heEZvcmNlOjFlNixuPW5ldyBlLHI9bmV3IGUsYT1uZXcgZTt0LnBvc2l0aW9uLnZhZGQocy5wb3NpdGlvbixhKSxhLnNjYWxlKC41LGEpLHMucG9pbnRUb0xvY2FsRnJhbWUoYSxyKSx0LnBvaW50VG9Mb2NhbEZyYW1lKGEsbiksc3VwZXIodCxuLHMscixvKSx0aGlzLnhBPXQudmVjdG9yVG9Mb2NhbEZyYW1lKGUuVU5JVF9YKSx0aGlzLnhCPXMudmVjdG9yVG9Mb2NhbEZyYW1lKGUuVU5JVF9YKSx0aGlzLnlBPXQudmVjdG9yVG9Mb2NhbEZyYW1lKGUuVU5JVF9ZKSx0aGlzLnlCPXMudmVjdG9yVG9Mb2NhbEZyYW1lKGUuVU5JVF9ZKSx0aGlzLnpBPXQudmVjdG9yVG9Mb2NhbEZyYW1lKGUuVU5JVF9aKSx0aGlzLnpCPXMudmVjdG9yVG9Mb2NhbEZyYW1lKGUuVU5JVF9aKTtjb25zdCBsPXRoaXMucm90YXRpb25hbEVxdWF0aW9uMT1uZXcgWXQodCxzLGkpLGM9dGhpcy5yb3RhdGlvbmFsRXF1YXRpb24yPW5ldyBZdCh0LHMsaSksaD10aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjM9bmV3IFl0KHQscyxpKTt0aGlzLmVxdWF0aW9ucy5wdXNoKGwsYyxoKX11cGRhdGUoKXtjb25zdCB0PXRoaXMuYm9keUEsZT10aGlzLmJvZHlCO3RoaXMubW90b3JFcXVhdGlvbjtjb25zdCBzPXRoaXMucm90YXRpb25hbEVxdWF0aW9uMSxpPXRoaXMucm90YXRpb25hbEVxdWF0aW9uMixvPXRoaXMucm90YXRpb25hbEVxdWF0aW9uMztzdXBlci51cGRhdGUoKSx0LnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLnhBLHMuYXhpc0EpLGUudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMueUIscy5heGlzQiksdC52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy55QSxpLmF4aXNBKSxlLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLnpCLGkuYXhpc0IpLHQudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMuekEsby5heGlzQSksZS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy54QixvLmF4aXNCKX19Y2xhc3MgdGUgZXh0ZW5kcyBDdHtjb25zdHJ1Y3Rvcih0LHMsaT0xZTYpe3N1cGVyKHQscywtaSxpKSx0aGlzLmF4aXNBPW5ldyBlLHRoaXMuYXhpc0I9bmV3IGUsdGhpcy50YXJnZXRWZWxvY2l0eT0wfWNvbXB1dGVCKHQpe3RoaXMuYTtjb25zdCBlPXRoaXMuYjt0aGlzLmJpLHRoaXMuYmo7Y29uc3Qgcz10aGlzLmF4aXNBLGk9dGhpcy5heGlzQixvPXRoaXMuamFjb2JpYW5FbGVtZW50QSxuPXRoaXMuamFjb2JpYW5FbGVtZW50QjtvLnJvdGF0aW9uYWwuY29weShzKSxpLm5lZ2F0ZShuLnJvdGF0aW9uYWwpO3JldHVybi0odGhpcy5jb21wdXRlR1coKS10aGlzLnRhcmdldFZlbG9jaXR5KSplLXQqdGhpcy5jb21wdXRlR2lNZigpfX1jbGFzcyBlZSBleHRlbmRzIEh0e2NvbnN0cnVjdG9yKHQscyxpPXt9KXtjb25zdCBvPXZvaWQgMCE9PWkubWF4Rm9yY2U/aS5tYXhGb3JjZToxZTY7c3VwZXIodCxpLnBpdm90QT9pLnBpdm90QS5jbG9uZSgpOm5ldyBlLHMsaS5waXZvdEI/aS5waXZvdEIuY2xvbmUoKTpuZXcgZSxvKTsodGhpcy5heGlzQT1pLmF4aXNBP2kuYXhpc0EuY2xvbmUoKTpuZXcgZSgxLDAsMCkpLm5vcm1hbGl6ZSgpOyh0aGlzLmF4aXNCPWkuYXhpc0I/aS5heGlzQi5jbG9uZSgpOm5ldyBlKDEsMCwwKSkubm9ybWFsaXplKCksdGhpcy5jb2xsaWRlQ29ubmVjdGVkPSEhaS5jb2xsaWRlQ29ubmVjdGVkO2NvbnN0IG49dGhpcy5yb3RhdGlvbmFsRXF1YXRpb24xPW5ldyBZdCh0LHMsaSkscj10aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjI9bmV3IFl0KHQscyxpKSxhPXRoaXMubW90b3JFcXVhdGlvbj1uZXcgdGUodCxzLG8pO2EuZW5hYmxlZD0hMSx0aGlzLmVxdWF0aW9ucy5wdXNoKG4scixhKX1lbmFibGVNb3Rvcigpe3RoaXMubW90b3JFcXVhdGlvbi5lbmFibGVkPSEwfWRpc2FibGVNb3Rvcigpe3RoaXMubW90b3JFcXVhdGlvbi5lbmFibGVkPSExfXNldE1vdG9yU3BlZWQodCl7dGhpcy5tb3RvckVxdWF0aW9uLnRhcmdldFZlbG9jaXR5PXR9c2V0TW90b3JNYXhGb3JjZSh0KXt0aGlzLm1vdG9yRXF1YXRpb24ubWF4Rm9yY2U9dCx0aGlzLm1vdG9yRXF1YXRpb24ubWluRm9yY2U9LXR9dXBkYXRlKCl7Y29uc3QgdD10aGlzLmJvZHlBLGU9dGhpcy5ib2R5QixzPXRoaXMubW90b3JFcXVhdGlvbixpPXRoaXMucm90YXRpb25hbEVxdWF0aW9uMSxvPXRoaXMucm90YXRpb25hbEVxdWF0aW9uMixuPXNlLHI9aWUsYT10aGlzLmF4aXNBLGw9dGhpcy5heGlzQjtzdXBlci51cGRhdGUoKSx0LnF1YXRlcm5pb24udm11bHQoYSxuKSxlLnF1YXRlcm5pb24udm11bHQobCxyKSxuLnRhbmdlbnRzKGkuYXhpc0Esby5heGlzQSksaS5heGlzQi5jb3B5KHIpLG8uYXhpc0IuY29weShyKSx0aGlzLm1vdG9yRXF1YXRpb24uZW5hYmxlZCYmKHQucXVhdGVybmlvbi52bXVsdCh0aGlzLmF4aXNBLHMuYXhpc0EpLGUucXVhdGVybmlvbi52bXVsdCh0aGlzLmF4aXNCLHMuYXhpc0IpKX19Y29uc3Qgc2U9bmV3IGUsaWU9bmV3IGU7Y2xhc3Mgb2UgZXh0ZW5kcyBDdHtjb25zdHJ1Y3Rvcih0LHMsaSl7c3VwZXIodCxzLC1pLGkpLHRoaXMucmk9bmV3IGUsdGhpcy5yaj1uZXcgZSx0aGlzLnQ9bmV3IGV9Y29tcHV0ZUIodCl7dGhpcy5hO2NvbnN0IGU9dGhpcy5iO3RoaXMuYmksdGhpcy5iajtjb25zdCBzPXRoaXMucmksaT10aGlzLnJqLG89bmUsbj1yZSxyPXRoaXMudDtzLmNyb3NzKHIsbyksaS5jcm9zcyhyLG4pO2NvbnN0IGE9dGhpcy5qYWNvYmlhbkVsZW1lbnRBLGw9dGhpcy5qYWNvYmlhbkVsZW1lbnRCO3IubmVnYXRlKGEuc3BhdGlhbCksby5uZWdhdGUoYS5yb3RhdGlvbmFsKSxsLnNwYXRpYWwuY29weShyKSxsLnJvdGF0aW9uYWwuY29weShuKTtyZXR1cm4tdGhpcy5jb21wdXRlR1coKSplLXQqdGhpcy5jb21wdXRlR2lNZigpfX1jb25zdCBuZT1uZXcgZSxyZT1uZXcgZTtjbGFzcyBhZXtjb25zdHJ1Y3Rvcih0LGUscyl7cz1TdC5kZWZhdWx0cyhzLHtmcmljdGlvbjouMyxyZXN0aXR1dGlvbjouMyxjb250YWN0RXF1YXRpb25TdGlmZm5lc3M6MWU3LGNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb246MyxmcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzOjFlNyxmcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbjozfSksdGhpcy5pZD1hZS5pZENvdW50ZXIrKyx0aGlzLm1hdGVyaWFscz1bdCxlXSx0aGlzLmZyaWN0aW9uPXMuZnJpY3Rpb24sdGhpcy5yZXN0aXR1dGlvbj1zLnJlc3RpdHV0aW9uLHRoaXMuY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzPXMuY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzLHRoaXMuY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbj1zLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb24sdGhpcy5mcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzPXMuZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcyx0aGlzLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uPXMuZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb259fWFlLmlkQ291bnRlcj0wO2NsYXNzIGxle2NvbnN0cnVjdG9yKHQ9e30pe2xldCBlPSIiOyJzdHJpbmciPT10eXBlb2YgdCYmKGU9dCx0PXt9KSx0aGlzLm5hbWU9ZSx0aGlzLmlkPWxlLmlkQ291bnRlcisrLHRoaXMuZnJpY3Rpb249dm9pZCAwIT09dC5mcmljdGlvbj90LmZyaWN0aW9uOi0xLHRoaXMucmVzdGl0dXRpb249dm9pZCAwIT09dC5yZXN0aXR1dGlvbj90LnJlc3RpdHV0aW9uOi0xfX1sZS5pZENvdW50ZXI9MDtjbGFzcyBjZXtjb25zdHJ1Y3Rvcih0LHMsaT17fSl7dGhpcy5yZXN0TGVuZ3RoPSJudW1iZXIiPT10eXBlb2YgaS5yZXN0TGVuZ3RoP2kucmVzdExlbmd0aDoxLHRoaXMuc3RpZmZuZXNzPWkuc3RpZmZuZXNzfHwxMDAsdGhpcy5kYW1waW5nPWkuZGFtcGluZ3x8MSx0aGlzLmJvZHlBPXQsdGhpcy5ib2R5Qj1zLHRoaXMubG9jYWxBbmNob3JBPW5ldyBlLHRoaXMubG9jYWxBbmNob3JCPW5ldyBlLGkubG9jYWxBbmNob3JBJiZ0aGlzLmxvY2FsQW5jaG9yQS5jb3B5KGkubG9jYWxBbmNob3JBKSxpLmxvY2FsQW5jaG9yQiYmdGhpcy5sb2NhbEFuY2hvckIuY29weShpLmxvY2FsQW5jaG9yQiksaS53b3JsZEFuY2hvckEmJnRoaXMuc2V0V29ybGRBbmNob3JBKGkud29ybGRBbmNob3JBKSxpLndvcmxkQW5jaG9yQiYmdGhpcy5zZXRXb3JsZEFuY2hvckIoaS53b3JsZEFuY2hvckIpfXNldFdvcmxkQW5jaG9yQSh0KXt0aGlzLmJvZHlBLnBvaW50VG9Mb2NhbEZyYW1lKHQsdGhpcy5sb2NhbEFuY2hvckEpfXNldFdvcmxkQW5jaG9yQih0KXt0aGlzLmJvZHlCLnBvaW50VG9Mb2NhbEZyYW1lKHQsdGhpcy5sb2NhbEFuY2hvckIpfWdldFdvcmxkQW5jaG9yQSh0KXt0aGlzLmJvZHlBLnBvaW50VG9Xb3JsZEZyYW1lKHRoaXMubG9jYWxBbmNob3JBLHQpfWdldFdvcmxkQW5jaG9yQih0KXt0aGlzLmJvZHlCLnBvaW50VG9Xb3JsZEZyYW1lKHRoaXMubG9jYWxBbmNob3JCLHQpfWFwcGx5Rm9yY2UoKXtjb25zdCB0PXRoaXMuc3RpZmZuZXNzLGU9dGhpcy5kYW1waW5nLHM9dGhpcy5yZXN0TGVuZ3RoLGk9dGhpcy5ib2R5QSxvPXRoaXMuYm9keUIsbj1oZSxyPXVlLGE9ZGUsbD1wZSxjPXhlLGg9eWUsdT1tZSxkPXZlLHA9d2UseT1mZSxtPWdlO3RoaXMuZ2V0V29ybGRBbmNob3JBKGgpLHRoaXMuZ2V0V29ybGRBbmNob3JCKHUpLGgudnN1YihpLnBvc2l0aW9uLGQpLHUudnN1YihvLnBvc2l0aW9uLHApLHUudnN1YihoLG4pO2NvbnN0IHY9bi5sZW5ndGgoKTtyLmNvcHkobiksci5ub3JtYWxpemUoKSxvLnZlbG9jaXR5LnZzdWIoaS52ZWxvY2l0eSxhKSxvLmFuZ3VsYXJWZWxvY2l0eS5jcm9zcyhwLGMpLGEudmFkZChjLGEpLGkuYW5ndWxhclZlbG9jaXR5LmNyb3NzKGQsYyksYS52c3ViKGMsYSksci5zY2FsZSgtdCoodi1zKS1lKmEuZG90KHIpLGwpLGkuZm9yY2UudnN1YihsLGkuZm9yY2UpLG8uZm9yY2UudmFkZChsLG8uZm9yY2UpLGQuY3Jvc3MobCx5KSxwLmNyb3NzKGwsbSksaS50b3JxdWUudnN1Yih5LGkudG9ycXVlKSxvLnRvcnF1ZS52YWRkKG0sby50b3JxdWUpfX1jb25zdCBoZT1uZXcgZSx1ZT1uZXcgZSxkZT1uZXcgZSxwZT1uZXcgZSx5ZT1uZXcgZSxtZT1uZXcgZSx2ZT1uZXcgZSx3ZT1uZXcgZSxmZT1uZXcgZSxnZT1uZXcgZSx4ZT1uZXcgZTtjbGFzcyBiZXtjb25zdHJ1Y3Rvcih0PXt9KXt0PVN0LmRlZmF1bHRzKHQse2NoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbDpuZXcgZSxjaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGQ6bmV3IGUsZGlyZWN0aW9uTG9jYWw6bmV3IGUsZGlyZWN0aW9uV29ybGQ6bmV3IGUsYXhsZUxvY2FsOm5ldyBlLGF4bGVXb3JsZDpuZXcgZSxzdXNwZW5zaW9uUmVzdExlbmd0aDoxLHN1c3BlbnNpb25NYXhMZW5ndGg6MixyYWRpdXM6MSxzdXNwZW5zaW9uU3RpZmZuZXNzOjEwMCxkYW1waW5nQ29tcHJlc3Npb246MTAsZGFtcGluZ1JlbGF4YXRpb246MTAsZnJpY3Rpb25TbGlwOjEwLjUsZm9yd2FyZEFjY2VsZXJhdGlvbjoxLHNpZGVBY2NlbGVyYXRpb246MSxzdGVlcmluZzowLHJvdGF0aW9uOjAsZGVsdGFSb3RhdGlvbjowLHJvbGxJbmZsdWVuY2U6LjAxLG1heFN1c3BlbnNpb25Gb3JjZTpOdW1iZXIuTUFYX1ZBTFVFLGlzRnJvbnRXaGVlbDohMCxjbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb246MSxzdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eTowLHN1c3BlbnNpb25Gb3JjZTowLHNsaXBJbmZvOjAsc2tpZEluZm86MCxzdXNwZW5zaW9uTGVuZ3RoOjAsbWF4U3VzcGVuc2lvblRyYXZlbDoxLHVzZUN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQ6ITEsY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZDotLjF9KSx0aGlzLm1heFN1c3BlbnNpb25UcmF2ZWw9dC5tYXhTdXNwZW5zaW9uVHJhdmVsLHRoaXMuY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZD10LmN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQsdGhpcy51c2VDdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkPXQudXNlQ3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZCx0aGlzLnNsaWRpbmc9ITEsdGhpcy5jaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWw9dC5jaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWwuY2xvbmUoKSx0aGlzLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZD10LmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZC5jbG9uZSgpLHRoaXMuZGlyZWN0aW9uTG9jYWw9dC5kaXJlY3Rpb25Mb2NhbC5jbG9uZSgpLHRoaXMuZGlyZWN0aW9uV29ybGQ9dC5kaXJlY3Rpb25Xb3JsZC5jbG9uZSgpLHRoaXMuYXhsZUxvY2FsPXQuYXhsZUxvY2FsLmNsb25lKCksdGhpcy5heGxlV29ybGQ9dC5heGxlV29ybGQuY2xvbmUoKSx0aGlzLnN1c3BlbnNpb25SZXN0TGVuZ3RoPXQuc3VzcGVuc2lvblJlc3RMZW5ndGgsdGhpcy5zdXNwZW5zaW9uTWF4TGVuZ3RoPXQuc3VzcGVuc2lvbk1heExlbmd0aCx0aGlzLnJhZGl1cz10LnJhZGl1cyx0aGlzLnN1c3BlbnNpb25TdGlmZm5lc3M9dC5zdXNwZW5zaW9uU3RpZmZuZXNzLHRoaXMuZGFtcGluZ0NvbXByZXNzaW9uPXQuZGFtcGluZ0NvbXByZXNzaW9uLHRoaXMuZGFtcGluZ1JlbGF4YXRpb249dC5kYW1waW5nUmVsYXhhdGlvbix0aGlzLmZyaWN0aW9uU2xpcD10LmZyaWN0aW9uU2xpcCx0aGlzLmZvcndhcmRBY2NlbGVyYXRpb249dC5mb3J3YXJkQWNjZWxlcmF0aW9uLHRoaXMuc2lkZUFjY2VsZXJhdGlvbj10LnNpZGVBY2NlbGVyYXRpb24sdGhpcy5zdGVlcmluZz0wLHRoaXMucm90YXRpb249MCx0aGlzLmRlbHRhUm90YXRpb249MCx0aGlzLnJvbGxJbmZsdWVuY2U9dC5yb2xsSW5mbHVlbmNlLHRoaXMubWF4U3VzcGVuc2lvbkZvcmNlPXQubWF4U3VzcGVuc2lvbkZvcmNlLHRoaXMuZW5naW5lRm9yY2U9MCx0aGlzLmJyYWtlPTAsdGhpcy5pc0Zyb250V2hlZWw9dC5pc0Zyb250V2hlZWwsdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb249MSx0aGlzLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5PTAsdGhpcy5zdXNwZW5zaW9uRm9yY2U9MCx0aGlzLnNsaXBJbmZvPTAsdGhpcy5za2lkSW5mbz0wLHRoaXMuc3VzcGVuc2lvbkxlbmd0aD0wLHRoaXMuc2lkZUltcHVsc2U9MCx0aGlzLmZvcndhcmRJbXB1bHNlPTAsdGhpcy5yYXljYXN0UmVzdWx0PW5ldyBYLHRoaXMud29ybGRUcmFuc2Zvcm09bmV3IHksdGhpcy5pc0luQ29udGFjdD0hMX11cGRhdGVXaGVlbCh0KXtjb25zdCBlPXRoaXMucmF5Y2FzdFJlc3VsdDtpZih0aGlzLmlzSW5Db250YWN0KXtjb25zdCBzPWUuaGl0Tm9ybWFsV29ybGQuZG90KGUuZGlyZWN0aW9uV29ybGQpO2UuaGl0UG9pbnRXb3JsZC52c3ViKHQucG9zaXRpb24sQmUpLHQuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQoQmUsQWUpO2NvbnN0IGk9ZS5oaXROb3JtYWxXb3JsZC5kb3QoQWUpO2lmKHM+PS0uMSl0aGlzLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5PTAsdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb249MTA7ZWxzZXtjb25zdCB0PS0xL3M7dGhpcy5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eT1pKnQsdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb249dH19ZWxzZSBlLnN1c3BlbnNpb25MZW5ndGg9dGhpcy5zdXNwZW5zaW9uUmVzdExlbmd0aCx0aGlzLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5PTAsZS5kaXJlY3Rpb25Xb3JsZC5zY2FsZSgtMSxlLmhpdE5vcm1hbFdvcmxkKSx0aGlzLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbj0xfX1jb25zdCBBZT1uZXcgZSxCZT1uZXcgZTtjbGFzcyBFZXtjb25zdHJ1Y3Rvcih0KXt0aGlzLmNoYXNzaXNCb2R5PXQuY2hhc3Npc0JvZHksdGhpcy53aGVlbEluZm9zPVtdLHRoaXMuc2xpZGluZz0hMSx0aGlzLndvcmxkPW51bGwsdGhpcy5pbmRleFJpZ2h0QXhpcz12b2lkIDAhPT10LmluZGV4UmlnaHRBeGlzP3QuaW5kZXhSaWdodEF4aXM6Mix0aGlzLmluZGV4Rm9yd2FyZEF4aXM9dm9pZCAwIT09dC5pbmRleEZvcndhcmRBeGlzP3QuaW5kZXhGb3J3YXJkQXhpczowLHRoaXMuaW5kZXhVcEF4aXM9dm9pZCAwIT09dC5pbmRleFVwQXhpcz90LmluZGV4VXBBeGlzOjEsdGhpcy5jb25zdHJhaW50cz1bXSx0aGlzLnByZVN0ZXBDYWxsYmFjaz0oKT0+e30sdGhpcy5jdXJyZW50VmVoaWNsZVNwZWVkS21Ib3VyPTB9YWRkV2hlZWwodD17fSl7Y29uc3QgZT1uZXcgYmUodCkscz10aGlzLndoZWVsSW5mb3MubGVuZ3RoO3JldHVybiB0aGlzLndoZWVsSW5mb3MucHVzaChlKSxzfXNldFN0ZWVyaW5nVmFsdWUodCxlKXt0aGlzLndoZWVsSW5mb3NbZV0uc3RlZXJpbmc9dH1hcHBseUVuZ2luZUZvcmNlKHQsZSl7dGhpcy53aGVlbEluZm9zW2VdLmVuZ2luZUZvcmNlPXR9c2V0QnJha2UodCxlKXt0aGlzLndoZWVsSW5mb3NbZV0uYnJha2U9dH1hZGRUb1dvcmxkKHQpe3RoaXMuY29uc3RyYWludHMsdC5hZGRCb2R5KHRoaXMuY2hhc3Npc0JvZHkpO2NvbnN0IGU9dGhpczt0aGlzLnByZVN0ZXBDYWxsYmFjaz0oKT0+e2UudXBkYXRlVmVoaWNsZSh0LmR0KX0sdC5hZGRFdmVudExpc3RlbmVyKCJwcmVTdGVwIix0aGlzLnByZVN0ZXBDYWxsYmFjayksdGhpcy53b3JsZD10fWdldFZlaGljbGVBeGlzV29ybGQodCxlKXtlLnNldCgwPT09dD8xOjAsMT09PXQ/MTowLDI9PT10PzE6MCksdGhpcy5jaGFzc2lzQm9keS52ZWN0b3JUb1dvcmxkRnJhbWUoZSxlKX11cGRhdGVWZWhpY2xlKHQpe2NvbnN0IHM9dGhpcy53aGVlbEluZm9zLGk9cy5sZW5ndGgsbz10aGlzLmNoYXNzaXNCb2R5O2ZvcihsZXQgdD0wO3Q8aTt0KyspdGhpcy51cGRhdGVXaGVlbFRyYW5zZm9ybSh0KTt0aGlzLmN1cnJlbnRWZWhpY2xlU3BlZWRLbUhvdXI9My42Km8udmVsb2NpdHkubGVuZ3RoKCk7Y29uc3Qgbj1uZXcgZTt0aGlzLmdldFZlaGljbGVBeGlzV29ybGQodGhpcy5pbmRleEZvcndhcmRBeGlzLG4pLG4uZG90KG8udmVsb2NpdHkpPDAmJih0aGlzLmN1cnJlbnRWZWhpY2xlU3BlZWRLbUhvdXIqPS0xKTtmb3IobGV0IHQ9MDt0PGk7dCsrKXRoaXMuY2FzdFJheShzW3RdKTt0aGlzLnVwZGF0ZVN1c3BlbnNpb24odCk7Y29uc3Qgcj1uZXcgZSxhPW5ldyBlO2ZvcihsZXQgZT0wO2U8aTtlKyspe2NvbnN0IGk9c1tlXTtsZXQgbj1pLnN1c3BlbnNpb25Gb3JjZTtuPmkubWF4U3VzcGVuc2lvbkZvcmNlJiYobj1pLm1heFN1c3BlbnNpb25Gb3JjZSksaS5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkLnNjYWxlKG4qdCxyKSxpLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZC52c3ViKG8ucG9zaXRpb24sYSksby5hcHBseUltcHVsc2UocixhKX10aGlzLnVwZGF0ZUZyaWN0aW9uKHQpO2NvbnN0IGw9bmV3IGUsYz1uZXcgZSxoPW5ldyBlO2ZvcihsZXQgZT0wO2U8aTtlKyspe2NvbnN0IGk9c1tlXTtvLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KGkuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkLGgpO2xldCBuPTE7c3dpdGNoKHRoaXMuaW5kZXhVcEF4aXMpe2Nhc2UgMTpuPS0xfWlmKGkuaXNJbkNvbnRhY3Qpe3RoaXMuZ2V0VmVoaWNsZUF4aXNXb3JsZCh0aGlzLmluZGV4Rm9yd2FyZEF4aXMsYyk7Y29uc3QgZT1jLmRvdChpLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQpO2kucmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZC5zY2FsZShlLGwpLGMudnN1YihsLGMpO2NvbnN0IHM9Yy5kb3QoaCk7aS5kZWx0YVJvdGF0aW9uPW4qcyp0L2kucmFkaXVzfSFpLnNsaWRpbmcmJmkuaXNJbkNvbnRhY3R8fDA9PT1pLmVuZ2luZUZvcmNlfHwhaS51c2VDdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkfHwoaS5kZWx0YVJvdGF0aW9uPShpLmVuZ2luZUZvcmNlPjA/MTotMSkqaS5jdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkKnQpLE1hdGguYWJzKGkuYnJha2UpPk1hdGguYWJzKGkuZW5naW5lRm9yY2UpJiYoaS5kZWx0YVJvdGF0aW9uPTApLGkucm90YXRpb24rPWkuZGVsdGFSb3RhdGlvbixpLmRlbHRhUm90YXRpb24qPS45OX19dXBkYXRlU3VzcGVuc2lvbih0KXtjb25zdCBlPXRoaXMuY2hhc3Npc0JvZHkubWFzcyxzPXRoaXMud2hlZWxJbmZvcyxpPXMubGVuZ3RoO2ZvcihsZXQgdD0wO3Q8aTt0Kyspe2NvbnN0IGk9c1t0XTtpZihpLmlzSW5Db250YWN0KXtsZXQgdDtjb25zdCBzPWkuc3VzcGVuc2lvblJlc3RMZW5ndGgtaS5zdXNwZW5zaW9uTGVuZ3RoO3Q9aS5zdXNwZW5zaW9uU3RpZmZuZXNzKnMqaS5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb247Y29uc3Qgbz1pLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5O2xldCBuO249bzwwP2kuZGFtcGluZ0NvbXByZXNzaW9uOmkuZGFtcGluZ1JlbGF4YXRpb24sdC09bipvLGkuc3VzcGVuc2lvbkZvcmNlPXQqZSxpLnN1c3BlbnNpb25Gb3JjZTwwJiYoaS5zdXNwZW5zaW9uRm9yY2U9MCl9ZWxzZSBpLnN1c3BlbnNpb25Gb3JjZT0wfX1yZW1vdmVGcm9tV29ybGQodCl7dGhpcy5jb25zdHJhaW50cyx0LnJlbW92ZUJvZHkodGhpcy5jaGFzc2lzQm9keSksdC5yZW1vdmVFdmVudExpc3RlbmVyKCJwcmVTdGVwIix0aGlzLnByZVN0ZXBDYWxsYmFjayksdGhpcy53b3JsZD1udWxsfWNhc3RSYXkodCl7Y29uc3Qgcz1DZSxpPU1lO3RoaXMudXBkYXRlV2hlZWxUcmFuc2Zvcm1Xb3JsZCh0KTtjb25zdCBvPXRoaXMuY2hhc3Npc0JvZHk7bGV0IG49LTE7Y29uc3Qgcj10LnN1c3BlbnNpb25SZXN0TGVuZ3RoK3QucmFkaXVzO3QuZGlyZWN0aW9uV29ybGQuc2NhbGUocixzKTtjb25zdCBhPXQuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkO2EudmFkZChzLGkpO2NvbnN0IGw9dC5yYXljYXN0UmVzdWx0O2wucmVzZXQoKTtjb25zdCBjPW8uY29sbGlzaW9uUmVzcG9uc2U7by5jb2xsaXNpb25SZXNwb25zZT0hMSx0aGlzLndvcmxkLnJheVRlc3QoYSxpLGwpLG8uY29sbGlzaW9uUmVzcG9uc2U9Yztjb25zdCBoPWwuYm9keTtpZih0LnJheWNhc3RSZXN1bHQuZ3JvdW5kT2JqZWN0PTAsaCl7bj1sLmRpc3RhbmNlLHQucmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZD1sLmhpdE5vcm1hbFdvcmxkLHQuaXNJbkNvbnRhY3Q9ITA7Y29uc3Qgcz1sLmRpc3RhbmNlO3Quc3VzcGVuc2lvbkxlbmd0aD1zLXQucmFkaXVzO2NvbnN0IGk9dC5zdXNwZW5zaW9uUmVzdExlbmd0aC10Lm1heFN1c3BlbnNpb25UcmF2ZWwscj10LnN1c3BlbnNpb25SZXN0TGVuZ3RoK3QubWF4U3VzcGVuc2lvblRyYXZlbDt0LnN1c3BlbnNpb25MZW5ndGg8aSYmKHQuc3VzcGVuc2lvbkxlbmd0aD1pKSx0LnN1c3BlbnNpb25MZW5ndGg+ciYmKHQuc3VzcGVuc2lvbkxlbmd0aD1yLHQucmF5Y2FzdFJlc3VsdC5yZXNldCgpKTtjb25zdCBhPXQucmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZC5kb3QodC5kaXJlY3Rpb25Xb3JsZCksYz1uZXcgZTtvLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHQucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLGMpO2NvbnN0IGg9dC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkLmRvdChjKTtpZihhPj0tLjEpdC5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eT0wLHQuY2xpcHBlZEludkNvbnRhY3REb3RTdXNwZW5zaW9uPTEwO2Vsc2V7Y29uc3QgZT0tMS9hO3Quc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHk9aCplLHQuY2xpcHBlZEludkNvbnRhY3REb3RTdXNwZW5zaW9uPWV9fWVsc2UgdC5zdXNwZW5zaW9uTGVuZ3RoPXQuc3VzcGVuc2lvblJlc3RMZW5ndGgrMCp0Lm1heFN1c3BlbnNpb25UcmF2ZWwsdC5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eT0wLHQuZGlyZWN0aW9uV29ybGQuc2NhbGUoLTEsdC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkKSx0LmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbj0xO3JldHVybiBufXVwZGF0ZVdoZWVsVHJhbnNmb3JtV29ybGQodCl7dC5pc0luQ29udGFjdD0hMTtjb25zdCBlPXRoaXMuY2hhc3Npc0JvZHk7ZS5wb2ludFRvV29ybGRGcmFtZSh0LmNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbCx0LmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZCksZS52ZWN0b3JUb1dvcmxkRnJhbWUodC5kaXJlY3Rpb25Mb2NhbCx0LmRpcmVjdGlvbldvcmxkKSxlLnZlY3RvclRvV29ybGRGcmFtZSh0LmF4bGVMb2NhbCx0LmF4bGVXb3JsZCl9dXBkYXRlV2hlZWxUcmFuc2Zvcm0odCl7Y29uc3QgZT1TZSxzPXplLGk9RmUsbz10aGlzLndoZWVsSW5mb3NbdF07dGhpcy51cGRhdGVXaGVlbFRyYW5zZm9ybVdvcmxkKG8pLG8uZGlyZWN0aW9uTG9jYWwuc2NhbGUoLTEsZSkscy5jb3B5KG8uYXhsZUxvY2FsKSxlLmNyb3NzKHMsaSksaS5ub3JtYWxpemUoKSxzLm5vcm1hbGl6ZSgpO2NvbnN0IG49by5zdGVlcmluZyxyPW5ldyBoO3Iuc2V0RnJvbUF4aXNBbmdsZShlLG4pO2NvbnN0IGE9bmV3IGg7YS5zZXRGcm9tQXhpc0FuZ2xlKHMsby5yb3RhdGlvbik7Y29uc3QgbD1vLndvcmxkVHJhbnNmb3JtLnF1YXRlcm5pb247dGhpcy5jaGFzc2lzQm9keS5xdWF0ZXJuaW9uLm11bHQocixsKSxsLm11bHQoYSxsKSxsLm5vcm1hbGl6ZSgpO2NvbnN0IGM9by53b3JsZFRyYW5zZm9ybS5wb3NpdGlvbjtjLmNvcHkoby5kaXJlY3Rpb25Xb3JsZCksYy5zY2FsZShvLnN1c3BlbnNpb25MZW5ndGgsYyksYy52YWRkKG8uY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkLGMpfWdldFdoZWVsVHJhbnNmb3JtV29ybGQodCl7cmV0dXJuIHRoaXMud2hlZWxJbmZvc1t0XS53b3JsZFRyYW5zZm9ybX11cGRhdGVGcmljdGlvbih0KXtjb25zdCBzPUllLGk9dGhpcy53aGVlbEluZm9zLG89aS5sZW5ndGgsbj10aGlzLmNoYXNzaXNCb2R5LHI9TGUsYT1UZTtmb3IobGV0IHQ9MDt0PG87dCsrKXtjb25zdCBzPWlbdF07cy5yYXljYXN0UmVzdWx0LmJvZHkscy5zaWRlSW1wdWxzZT0wLHMuZm9yd2FyZEltcHVsc2U9MCxyW3RdfHwoclt0XT1uZXcgZSksYVt0XXx8KGFbdF09bmV3IGUpfWZvcihsZXQgdD0wO3Q8bzt0Kyspe2NvbnN0IGU9aVt0XSxvPWUucmF5Y2FzdFJlc3VsdC5ib2R5O2lmKG8pe2NvbnN0IGk9YVt0XTt0aGlzLmdldFdoZWVsVHJhbnNmb3JtV29ybGQodCkudmVjdG9yVG9Xb3JsZEZyYW1lKFJlW3RoaXMuaW5kZXhSaWdodEF4aXNdLGkpO2NvbnN0IGw9ZS5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkLGM9aS5kb3QobCk7bC5zY2FsZShjLHMpLGkudnN1YihzLGkpLGkubm9ybWFsaXplKCksbC5jcm9zcyhpLHJbdF0pLHJbdF0ubm9ybWFsaXplKCksZS5zaWRlSW1wdWxzZT1YZShuLGUucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLG8sZS5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQsaSksZS5zaWRlSW1wdWxzZSo9cWV9fXRoaXMuc2xpZGluZz0hMTtmb3IobGV0IGU9MDtlPG87ZSsrKXtjb25zdCBzPWlbZV0sbz1zLnJheWNhc3RSZXN1bHQuYm9keTtsZXQgYT0wO2lmKHMuc2xpcEluZm89MSxvKXtjb25zdCBpPTAsbD1zLmJyYWtlP3MuYnJha2U6aTthPVZlKG4sbyxzLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZCxyW2VdLGwpLGErPXMuZW5naW5lRm9yY2UqdDtjb25zdCBjPWwvYTtzLnNsaXBJbmZvKj1jfWlmKHMuZm9yd2FyZEltcHVsc2U9MCxzLnNraWRJbmZvPTEsbyl7cy5za2lkSW5mbz0xO2NvbnN0IGU9cy5zdXNwZW5zaW9uRm9yY2UqdCpzLmZyaWN0aW9uU2xpcCxpPWUqZTtzLmZvcndhcmRJbXB1bHNlPWE7Y29uc3Qgbz0uNSpzLmZvcndhcmRJbXB1bHNlL3MuZm9yd2FyZEFjY2VsZXJhdGlvbixuPTEqcy5zaWRlSW1wdWxzZS9zLnNpZGVBY2NlbGVyYXRpb24scj1vKm8rbipuO2lmKHMuc2xpZGluZz0hMSxyPmkpe3RoaXMuc2xpZGluZz0hMCxzLnNsaWRpbmc9ITA7Y29uc3QgdD1lL01hdGguc3FydChyKTtzLnNraWRJbmZvKj10fX19aWYodGhpcy5zbGlkaW5nKWZvcihsZXQgdD0wO3Q8bzt0Kyspe2NvbnN0IGU9aVt0XTswIT09ZS5zaWRlSW1wdWxzZSYmZS5za2lkSW5mbzwxJiYoZS5mb3J3YXJkSW1wdWxzZSo9ZS5za2lkSW5mbyxlLnNpZGVJbXB1bHNlKj1lLnNraWRJbmZvKX1mb3IobGV0IHQ9MDt0PG87dCsrKXtjb25zdCBzPWlbdF0sbz1uZXcgZTtpZihzLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZC52c3ViKG4ucG9zaXRpb24sbyksMCE9PXMuZm9yd2FyZEltcHVsc2Upe2NvbnN0IGk9bmV3IGU7clt0XS5zY2FsZShzLmZvcndhcmRJbXB1bHNlLGkpLG4uYXBwbHlJbXB1bHNlKGksbyl9aWYoMCE9PXMuc2lkZUltcHVsc2Upe2NvbnN0IGk9cy5yYXljYXN0UmVzdWx0LmJvZHkscj1uZXcgZTtzLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZC52c3ViKGkucG9zaXRpb24scik7Y29uc3QgbD1uZXcgZTthW3RdLnNjYWxlKHMuc2lkZUltcHVsc2UsbCksbi52ZWN0b3JUb0xvY2FsRnJhbWUobyxvKSxvWyJ4eXoiW3RoaXMuaW5kZXhVcEF4aXNdXSo9cy5yb2xsSW5mbHVlbmNlLG4udmVjdG9yVG9Xb3JsZEZyYW1lKG8sbyksbi5hcHBseUltcHVsc2UobCxvKSxsLnNjYWxlKC0xLGwpLGkuYXBwbHlJbXB1bHNlKGwscil9fX19Y29uc3QgU2U9bmV3IGUsemU9bmV3IGUsRmU9bmV3IGU7bmV3IFk7Y29uc3QgQ2U9bmV3IGUsTWU9bmV3IGUsUmU9W25ldyBlKDEsMCwwKSxuZXcgZSgwLDEsMCksbmV3IGUoMCwwLDEpXSxJZT1uZXcgZSxUZT1bXSxMZT1bXSxxZT0xLFBlPW5ldyBlLE5lPW5ldyBlLFdlPW5ldyBlO2Z1bmN0aW9uIFZlKHQsZSxzLGksbyl7bGV0IG49MDtjb25zdCByPXMsYT1QZSxsPU5lLGM9V2U7dC5nZXRWZWxvY2l0eUF0V29ybGRQb2ludChyLGEpLGUuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQocixsKSxhLnZzdWIobCxjKTtyZXR1cm4gbj0taS5kb3QoYykqKDEvKERlKHQscyxpKStEZShlLHMsaSkpKSxvPG4mJihuPW8pLG48LW8mJihuPS1vKSxufWNvbnN0IGtlPW5ldyBlLGplPW5ldyBlLE9lPW5ldyBlLF9lPW5ldyBlO2Z1bmN0aW9uIERlKHQsZSxzKXtjb25zdCBpPWtlLG89amUsbj1PZSxyPV9lO3JldHVybiBlLnZzdWIodC5wb3NpdGlvbixpKSxpLmNyb3NzKHMsbyksdC5pbnZJbmVydGlhV29ybGQudm11bHQobyxyKSxyLmNyb3NzKGksbiksdC5pbnZNYXNzK3MuZG90KG4pfWNvbnN0IEhlPW5ldyBlLFVlPW5ldyBlLEdlPW5ldyBlO2Z1bmN0aW9uIFhlKHQsZSxzLGksbyl7aWYoby5sZW5ndGhTcXVhcmVkKCk+MS4xKXJldHVybiAwO2NvbnN0IG49SGUscj1VZSxhPUdlO3QuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQoZSxuKSxzLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KGksciksbi52c3ViKHIsYSk7cmV0dXJuLS4yKm8uZG90KGEpKigxLyh0Lmludk1hc3Mrcy5pbnZNYXNzKSl9Y2xhc3MgWWUgZXh0ZW5kcyBwe2NvbnN0cnVjdG9yKHQpe2lmKHN1cGVyKHt0eXBlOnAudHlwZXMuU1BIRVJFfSksdGhpcy5yYWRpdXM9dm9pZCAwIT09dD90OjEsdGhpcy5yYWRpdXM8MCl0aHJvdyBuZXcgRXJyb3IoIlRoZSBzcGhlcmUgcmFkaXVzIGNhbm5vdCBiZSBuZWdhdGl2ZS4iKTt0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCl9Y2FsY3VsYXRlTG9jYWxJbmVydGlhKHQscz1uZXcgZSl7Y29uc3QgaT0yKnQqdGhpcy5yYWRpdXMqdGhpcy5yYWRpdXMvNTtyZXR1cm4gcy54PWkscy55PWkscy56PWksc312b2x1bWUoKXtyZXR1cm4gNCpNYXRoLlBJKk1hdGgucG93KHRoaXMucmFkaXVzLDMpLzN9dXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKXt0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzPXRoaXMucmFkaXVzfWNhbGN1bGF0ZVdvcmxkQUFCQih0LGUscyxpKXtjb25zdCBvPXRoaXMucmFkaXVzLG49WyJ4IiwieSIsInoiXTtmb3IobGV0IGU9MDtlPG4ubGVuZ3RoO2UrKyl7Y29uc3Qgcj1uW2VdO3Nbcl09dFtyXS1vLGlbcl09dFtyXStvfX19Y2xhc3MgWmUgZXh0ZW5kcyB2e2NvbnN0cnVjdG9yKHQ9MSxzPTEsaT0xLG89OCl7aWYodDwwKXRocm93IG5ldyBFcnJvcigiVGhlIGN5bGluZGVyIHJhZGl1c1RvcCBjYW5ub3QgYmUgbmVnYXRpdmUuIik7aWYoczwwKXRocm93IG5ldyBFcnJvcigiVGhlIGN5bGluZGVyIHJhZGl1c0JvdHRvbSBjYW5ub3QgYmUgbmVnYXRpdmUuIik7Y29uc3Qgbj1vLHI9W10sYT1bXSxsPVtdLGM9W10saD1bXSx1PU1hdGguY29zLGQ9TWF0aC5zaW47ci5wdXNoKG5ldyBlKC1zKmQoMCksLjUqLWkscyp1KDApKSksYy5wdXNoKDApLHIucHVzaChuZXcgZSgtdCpkKDApLC41KmksdCp1KDApKSksaC5wdXNoKDEpO2ZvcihsZXQgbz0wO288bjtvKyspe2NvbnN0IHA9MipNYXRoLlBJL24qKG8rMSkseT0yKk1hdGguUEkvbioobysuNSk7bzxuLTE/KHIucHVzaChuZXcgZSgtcypkKHApLC41Ki1pLHMqdShwKSkpLGMucHVzaCgyKm8rMiksci5wdXNoKG5ldyBlKC10KmQocCksLjUqaSx0KnUocCkpKSxoLnB1c2goMipvKzMpLGwucHVzaChbMipvLDIqbysxLDIqbyszLDIqbysyXSkpOmwucHVzaChbMipvLDIqbysxLDEsMF0pLChuJTI9PTF8fG88bi8yKSYmYS5wdXNoKG5ldyBlKC1kKHkpLDAsdSh5KSkpfWwucHVzaChjKSxhLnB1c2gobmV3IGUoMCwxLDApKTtjb25zdCB5PVtdO2ZvcihsZXQgdD0wO3Q8aC5sZW5ndGg7dCsrKXkucHVzaChoW2gubGVuZ3RoLXQtMV0pO2wucHVzaCh5KSxzdXBlcih7dmVydGljZXM6cixmYWNlczpsLGF4ZXM6YX0pLHRoaXMudHlwZT1wLnR5cGVzLkNZTElOREVSLHRoaXMucmFkaXVzVG9wPXQsdGhpcy5yYWRpdXNCb3R0b209cyx0aGlzLmhlaWdodD1pLHRoaXMubnVtU2VnbWVudHM9b319Y2xhc3MgS2UgZXh0ZW5kcyBwe2NvbnN0cnVjdG9yKCl7c3VwZXIoe3R5cGU6cC50eXBlcy5QQVJUSUNMRX0pfWNhbGN1bGF0ZUxvY2FsSW5lcnRpYSh0LHM9bmV3IGUpe3JldHVybiBzLnNldCgwLDAsMCksc312b2x1bWUoKXtyZXR1cm4gMH11cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpe3RoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXM9MH1jYWxjdWxhdGVXb3JsZEFBQkIodCxlLHMsaSl7cy5jb3B5KHQpLGkuY29weSh0KX19Y2xhc3MgUWUgZXh0ZW5kcyBwe2NvbnN0cnVjdG9yKCl7c3VwZXIoe3R5cGU6cC50eXBlcy5QTEFORX0pLHRoaXMud29ybGROb3JtYWw9bmV3IGUsdGhpcy53b3JsZE5vcm1hbE5lZWRzVXBkYXRlPSEwLHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXM9TnVtYmVyLk1BWF9WQUxVRX1jb21wdXRlV29ybGROb3JtYWwodCl7Y29uc3QgZT10aGlzLndvcmxkTm9ybWFsO2Uuc2V0KDAsMCwxKSx0LnZtdWx0KGUsZSksdGhpcy53b3JsZE5vcm1hbE5lZWRzVXBkYXRlPSExfWNhbGN1bGF0ZUxvY2FsSW5lcnRpYSh0LHM9bmV3IGUpe3JldHVybiBzfXZvbHVtZSgpe3JldHVybiBOdW1iZXIuTUFYX1ZBTFVFfWNhbGN1bGF0ZVdvcmxkQUFCQih0LGUscyxpKXtKZS5zZXQoMCwwLDEpLGUudm11bHQoSmUsSmUpO2NvbnN0IG89TnVtYmVyLk1BWF9WQUxVRTtzLnNldCgtbywtbywtbyksaS5zZXQobyxvLG8pLDE9PT1KZS54P2kueD10Lng6LTE9PT1KZS54JiYocy54PXQueCksMT09PUplLnk/aS55PXQueTotMT09PUplLnkmJihzLnk9dC55KSwxPT09SmUuej9pLno9dC56Oi0xPT09SmUueiYmKHMuej10LnopfXVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCl7dGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cz1OdW1iZXIuTUFYX1ZBTFVFfX1jb25zdCBKZT1uZXcgZTtjbGFzcyAkZSBleHRlbmRzIHB7Y29uc3RydWN0b3IodCxzPXt9KXtzPVN0LmRlZmF1bHRzKHMse21heFZhbHVlOm51bGwsbWluVmFsdWU6bnVsbCxlbGVtZW50U2l6ZToxfSksc3VwZXIoe3R5cGU6cC50eXBlcy5IRUlHSFRGSUVMRH0pLHRoaXMuZGF0YT10LHRoaXMubWF4VmFsdWU9cy5tYXhWYWx1ZSx0aGlzLm1pblZhbHVlPXMubWluVmFsdWUsdGhpcy5lbGVtZW50U2l6ZT1zLmVsZW1lbnRTaXplLG51bGw9PT1zLm1pblZhbHVlJiZ0aGlzLnVwZGF0ZU1pblZhbHVlKCksbnVsbD09PXMubWF4VmFsdWUmJnRoaXMudXBkYXRlTWF4VmFsdWUoKSx0aGlzLmNhY2hlRW5hYmxlZD0hMCx0aGlzLnBpbGxhckNvbnZleD1uZXcgdix0aGlzLnBpbGxhck9mZnNldD1uZXcgZSx0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCksdGhpcy5fY2FjaGVkUGlsbGFycz17fX11cGRhdGUoKXt0aGlzLl9jYWNoZWRQaWxsYXJzPXt9fXVwZGF0ZU1pblZhbHVlKCl7Y29uc3QgdD10aGlzLmRhdGE7bGV0IGU9dFswXVswXTtmb3IobGV0IHM9MDtzIT09dC5sZW5ndGg7cysrKWZvcihsZXQgaT0wO2khPT10W3NdLmxlbmd0aDtpKyspe2NvbnN0IG89dFtzXVtpXTtvPGUmJihlPW8pfXRoaXMubWluVmFsdWU9ZX11cGRhdGVNYXhWYWx1ZSgpe2NvbnN0IHQ9dGhpcy5kYXRhO2xldCBlPXRbMF1bMF07Zm9yKGxldCBzPTA7cyE9PXQubGVuZ3RoO3MrKylmb3IobGV0IGk9MDtpIT09dFtzXS5sZW5ndGg7aSsrKXtjb25zdCBvPXRbc11baV07bz5lJiYoZT1vKX10aGlzLm1heFZhbHVlPWV9c2V0SGVpZ2h0VmFsdWVBdEluZGV4KHQsZSxzKXt0aGlzLmRhdGFbdF1bZV09cyx0aGlzLmNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIodCxlLCExKSx0PjAmJih0aGlzLmNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIodC0xLGUsITApLHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih0LTEsZSwhMSkpLGU+MCYmKHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih0LGUtMSwhMCksdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHQsZS0xLCExKSksZT4wJiZ0PjAmJnRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih0LTEsZS0xLCEwKX1nZXRSZWN0TWluTWF4KHQsZSxzLGksbz1bXSl7Y29uc3Qgbj10aGlzLmRhdGE7bGV0IHI9dGhpcy5taW5WYWx1ZTtmb3IobGV0IG89dDtvPD1zO28rKylmb3IobGV0IHQ9ZTt0PD1pO3QrKyl7Y29uc3QgZT1uW29dW3RdO2U+ciYmKHI9ZSl9b1swXT10aGlzLm1pblZhbHVlLG9bMV09cn1nZXRJbmRleE9mUG9zaXRpb24odCxlLHMsaSl7Y29uc3Qgbz10aGlzLmVsZW1lbnRTaXplLG49dGhpcy5kYXRhO2xldCByPU1hdGguZmxvb3IodC9vKSxhPU1hdGguZmxvb3IoZS9vKTtyZXR1cm4gc1swXT1yLHNbMV09YSxpJiYocjwwJiYocj0wKSxhPDAmJihhPTApLHI+PW4ubGVuZ3RoLTEmJihyPW4ubGVuZ3RoLTEpLGE+PW5bMF0ubGVuZ3RoLTEmJihhPW5bMF0ubGVuZ3RoLTEpKSwhKHI8MHx8YTwwfHxyPj1uLmxlbmd0aC0xfHxhPj1uWzBdLmxlbmd0aC0xKX1nZXRUcmlhbmdsZUF0KHQsZSxzLGksbyxuKXtjb25zdCByPXRzO3RoaXMuZ2V0SW5kZXhPZlBvc2l0aW9uKHQsZSxyLHMpO2xldCBhPXJbMF0sbD1yWzFdO2NvbnN0IGM9dGhpcy5kYXRhO3MmJihhPU1hdGgubWluKGMubGVuZ3RoLTIsTWF0aC5tYXgoMCxhKSksbD1NYXRoLm1pbihjWzBdLmxlbmd0aC0yLE1hdGgubWF4KDAsbCkpKTtjb25zdCBoPXRoaXMuZWxlbWVudFNpemUsdT0odC9oLWEpKioyKyhlL2gtbCkqKjI+KHQvaC0oYSsxKSkqKjIrKGUvaC0obCsxKSkqKjI7cmV0dXJuIHRoaXMuZ2V0VHJpYW5nbGUoYSxsLHUsaSxvLG4pLHV9Z2V0Tm9ybWFsQXQodCxlLHMsaSl7Y29uc3Qgbz1ucyxuPXJzLHI9YXMsYT1scyxsPWNzO3RoaXMuZ2V0VHJpYW5nbGVBdCh0LGUscyxvLG4sciksbi52c3ViKG8sYSksci52c3ViKG8sbCksYS5jcm9zcyhsLGkpLGkubm9ybWFsaXplKCl9Z2V0QWFiYkF0SW5kZXgodCxlLHtsb3dlckJvdW5kOnMsdXBwZXJCb3VuZDppfSl7Y29uc3Qgbz10aGlzLmRhdGEsbj10aGlzLmVsZW1lbnRTaXplO3Muc2V0KHQqbixlKm4sb1t0XVtlXSksaS5zZXQoKHQrMSkqbiwoZSsxKSpuLG9bdCsxXVtlKzFdKX1nZXRIZWlnaHRBdCh0LGUscyl7Y29uc3QgaT10aGlzLmRhdGEsbz1zcyxuPWlzLHI9b3MsYT10czt0aGlzLmdldEluZGV4T2ZQb3NpdGlvbih0LGUsYSxzKTtsZXQgbD1hWzBdLGM9YVsxXTtzJiYobD1NYXRoLm1pbihpLmxlbmd0aC0yLE1hdGgubWF4KDAsbCkpLGM9TWF0aC5taW4oaVswXS5sZW5ndGgtMixNYXRoLm1heCgwLGMpKSk7Y29uc3QgaD10aGlzLmdldFRyaWFuZ2xlQXQodCxlLHMsbyxuLHIpOyFmdW5jdGlvbih0LGUscyxpLG8sbixyLGEsbCl7bC54PSgobi1hKSoodC1yKSsoci1vKSooZS1hKSkvKChuLWEpKihzLXIpKyhyLW8pKihpLWEpKSxsLnk9KChhLWkpKih0LXIpKyhzLXIpKihlLWEpKS8oKG4tYSkqKHMtcikrKHItbykqKGktYSkpLGwuej0xLWwueC1sLnl9KHQsZSxvLngsby55LG4ueCxuLnksci54LHIueSxlcyk7Y29uc3QgdT1lcztyZXR1cm4gaD9pW2wrMV1bYysxXSp1LngraVtsXVtjKzFdKnUueStpW2wrMV1bY10qdS56OmlbbF1bY10qdS54K2lbbCsxXVtjXSp1LnkraVtsXVtjKzFdKnUuen1nZXRDYWNoZUNvbnZleFRyaWFuZ2xlUGlsbGFyS2V5KHQsZSxzKXtyZXR1cm4gdCsiXyIrZSsiXyIrKHM/MTowKX1nZXRDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih0LGUscyl7cmV0dXJuIHRoaXMuX2NhY2hlZFBpbGxhcnNbdGhpcy5nZXRDYWNoZUNvbnZleFRyaWFuZ2xlUGlsbGFyS2V5KHQsZSxzKV19c2V0Q2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIodCxlLHMsaSxvKXt0aGlzLl9jYWNoZWRQaWxsYXJzW3RoaXMuZ2V0Q2FjaGVDb252ZXhUcmlhbmdsZVBpbGxhcktleSh0LGUscyldPXtjb252ZXg6aSxvZmZzZXQ6b319Y2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih0LGUscyl7ZGVsZXRlIHRoaXMuX2NhY2hlZFBpbGxhcnNbdGhpcy5nZXRDYWNoZUNvbnZleFRyaWFuZ2xlUGlsbGFyS2V5KHQsZSxzKV19Z2V0VHJpYW5nbGUodCxlLHMsaSxvLG4pe2NvbnN0IHI9dGhpcy5kYXRhLGE9dGhpcy5lbGVtZW50U2l6ZTtzPyhpLnNldCgodCsxKSphLChlKzEpKmEsclt0KzFdW2UrMV0pLG8uc2V0KHQqYSwoZSsxKSphLHJbdF1bZSsxXSksbi5zZXQoKHQrMSkqYSxlKmEsclt0KzFdW2VdKSk6KGkuc2V0KHQqYSxlKmEsclt0XVtlXSksby5zZXQoKHQrMSkqYSxlKmEsclt0KzFdW2VdKSxuLnNldCh0KmEsKGUrMSkqYSxyW3RdW2UrMV0pKX1nZXRDb252ZXhUcmlhbmdsZVBpbGxhcih0LHMsaSl7bGV0IG89dGhpcy5waWxsYXJDb252ZXgsbj10aGlzLnBpbGxhck9mZnNldDtpZih0aGlzLmNhY2hlRW5hYmxlZCl7Y29uc3Qgcj10aGlzLmdldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHQscyxpKTtpZihyKXJldHVybiB0aGlzLnBpbGxhckNvbnZleD1yLmNvbnZleCx2b2lkKHRoaXMucGlsbGFyT2Zmc2V0PXIub2Zmc2V0KTtvPW5ldyB2LG49bmV3IGUsdGhpcy5waWxsYXJDb252ZXg9byx0aGlzLnBpbGxhck9mZnNldD1ufWNvbnN0IHI9dGhpcy5kYXRhLGE9dGhpcy5lbGVtZW50U2l6ZSxsPW8uZmFjZXM7by52ZXJ0aWNlcy5sZW5ndGg9Njtmb3IobGV0IHQ9MDt0PDY7dCsrKW8udmVydGljZXNbdF18fChvLnZlcnRpY2VzW3RdPW5ldyBlKTtsLmxlbmd0aD01O2ZvcihsZXQgdD0wO3Q8NTt0KyspbFt0XXx8KGxbdF09W10pO2NvbnN0IGM9by52ZXJ0aWNlcyxoPShNYXRoLm1pbihyW3RdW3NdLHJbdCsxXVtzXSxyW3RdW3MrMV0sclt0KzFdW3MrMV0pLXRoaXMubWluVmFsdWUpLzIrdGhpcy5taW5WYWx1ZTtpPyhuLnNldCgodCsuNzUpKmEsKHMrLjc1KSphLGgpLGNbMF0uc2V0KC4yNSphLC4yNSphLHJbdCsxXVtzKzFdLWgpLGNbMV0uc2V0KC0uNzUqYSwuMjUqYSxyW3RdW3MrMV0taCksY1syXS5zZXQoLjI1KmEsLS43NSphLHJbdCsxXVtzXS1oKSxjWzNdLnNldCguMjUqYSwuMjUqYSwtTWF0aC5hYnMoaCktMSksY1s0XS5zZXQoLS43NSphLC4yNSphLC1NYXRoLmFicyhoKS0xKSxjWzVdLnNldCguMjUqYSwtLjc1KmEsLU1hdGguYWJzKGgpLTEpLGxbMF1bMF09MCxsWzBdWzFdPTEsbFswXVsyXT0yLGxbMV1bMF09NSxsWzFdWzFdPTQsbFsxXVsyXT0zLGxbMl1bMF09MixsWzJdWzFdPTUsbFsyXVsyXT0zLGxbMl1bM109MCxsWzNdWzBdPTMsbFszXVsxXT00LGxbM11bMl09MSxsWzNdWzNdPTAsbFs0XVswXT0xLGxbNF1bMV09NCxsWzRdWzJdPTUsbFs0XVszXT0yKToobi5zZXQoKHQrLjI1KSphLChzKy4yNSkqYSxoKSxjWzBdLnNldCgtLjI1KmEsLS4yNSphLHJbdF1bc10taCksY1sxXS5zZXQoLjc1KmEsLS4yNSphLHJbdCsxXVtzXS1oKSxjWzJdLnNldCgtLjI1KmEsLjc1KmEsclt0XVtzKzFdLWgpLGNbM10uc2V0KC0uMjUqYSwtLjI1KmEsLU1hdGguYWJzKGgpLTEpLGNbNF0uc2V0KC43NSphLC0uMjUqYSwtTWF0aC5hYnMoaCktMSksY1s1XS5zZXQoLS4yNSphLC43NSphLC1NYXRoLmFicyhoKS0xKSxsWzBdWzBdPTAsbFswXVsxXT0xLGxbMF1bMl09MixsWzFdWzBdPTUsbFsxXVsxXT00LGxbMV1bMl09MyxsWzJdWzBdPTAsbFsyXVsxXT0yLGxbMl1bMl09NSxsWzJdWzNdPTMsbFszXVswXT0xLGxbM11bMV09MCxsWzNdWzJdPTMsbFszXVszXT00LGxbNF1bMF09NCxsWzRdWzFdPTUsbFs0XVsyXT0yLGxbNF1bM109MSksby5jb21wdXRlTm9ybWFscygpLG8uY29tcHV0ZUVkZ2VzKCksby51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpLHRoaXMuc2V0Q2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIodCxzLGksbyxuKX1jYWxjdWxhdGVMb2NhbEluZXJ0aWEodCxzPW5ldyBlKXtyZXR1cm4gcy5zZXQoMCwwLDApLHN9dm9sdW1lKCl7cmV0dXJuIE51bWJlci5NQVhfVkFMVUV9Y2FsY3VsYXRlV29ybGRBQUJCKHQsZSxzLGkpe3Muc2V0KC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFKSxpLnNldChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSl9dXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKXtjb25zdCB0PXRoaXMuZGF0YSxzPXRoaXMuZWxlbWVudFNpemU7dGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cz1uZXcgZSh0Lmxlbmd0aCpzLHRbMF0ubGVuZ3RoKnMsTWF0aC5tYXgoTWF0aC5hYnModGhpcy5tYXhWYWx1ZSksTWF0aC5hYnModGhpcy5taW5WYWx1ZSkpKS5sZW5ndGgoKX1zZXRIZWlnaHRzRnJvbUltYWdlKHQsZSl7Y29uc3R7eDpzLHo6aSx5Om99PWUsbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtuLndpZHRoPXQud2lkdGgsbi5oZWlnaHQ9dC5oZWlnaHQ7Y29uc3Qgcj1uLmdldENvbnRleHQoIjJkIik7ci5kcmF3SW1hZ2UodCwwLDApO2NvbnN0IGE9ci5nZXRJbWFnZURhdGEoMCwwLHQud2lkdGgsdC5oZWlnaHQpLGw9dGhpcy5kYXRhO2wubGVuZ3RoPTAsdGhpcy5lbGVtZW50U2l6ZT1NYXRoLmFicyhzKS9hLndpZHRoO2ZvcihsZXQgdD0wO3Q8YS5oZWlnaHQ7dCsrKXtjb25zdCBlPVtdO2ZvcihsZXQgbz0wO288YS53aWR0aDtvKyspe2NvbnN0IG49KGEuZGF0YVs0Kih0KmEuaGVpZ2h0K28pXSthLmRhdGFbNCoodCphLmhlaWdodCtvKSsxXSthLmRhdGFbNCoodCphLmhlaWdodCtvKSsyXSkvNC8yNTUqaTtzPDA/ZS5wdXNoKG4pOmUudW5zaGlmdChuKX1vPDA/bC51bnNoaWZ0KGUpOmwucHVzaChlKX10aGlzLnVwZGF0ZU1heFZhbHVlKCksdGhpcy51cGRhdGVNaW5WYWx1ZSgpLHRoaXMudXBkYXRlKCl9fWNvbnN0IHRzPVtdLGVzPW5ldyBlLHNzPW5ldyBlLGlzPW5ldyBlLG9zPW5ldyBlLG5zPW5ldyBlLHJzPW5ldyBlLGFzPW5ldyBlLGxzPW5ldyBlLGNzPW5ldyBlO2NsYXNzIGhze2NvbnN0cnVjdG9yKHQ9e30pe3RoaXMucm9vdD10LnJvb3R8fG51bGwsdGhpcy5hYWJiPXQuYWFiYj90LmFhYmIuY2xvbmUoKTpuZXcgbix0aGlzLmRhdGE9W10sdGhpcy5jaGlsZHJlbj1bXX1yZXNldCgpe3RoaXMuY2hpbGRyZW4ubGVuZ3RoPXRoaXMuZGF0YS5sZW5ndGg9MH1pbnNlcnQodCxlLHM9MCl7Y29uc3QgaT10aGlzLmRhdGE7aWYoIXRoaXMuYWFiYi5jb250YWlucyh0KSlyZXR1cm4hMTtjb25zdCBvPXRoaXMuY2hpbGRyZW47aWYoczwodGhpcy5tYXhEZXB0aHx8dGhpcy5yb290Lm1heERlcHRoKSl7bGV0IGk9ITE7by5sZW5ndGh8fCh0aGlzLnN1YmRpdmlkZSgpLGk9ITApO2ZvcihsZXQgaT0wOzghPT1pO2krKylpZihvW2ldLmluc2VydCh0LGUscysxKSlyZXR1cm4hMDtpJiYoby5sZW5ndGg9MCl9cmV0dXJuIGkucHVzaChlKSwhMH1zdWJkaXZpZGUoKXtjb25zdCB0PXRoaXMuYWFiYixzPXQubG93ZXJCb3VuZCxpPXQudXBwZXJCb3VuZCxvPXRoaXMuY2hpbGRyZW47by5wdXNoKG5ldyBocyh7YWFiYjpuZXcgbih7bG93ZXJCb3VuZDpuZXcgZSgwLDAsMCl9KX0pLG5ldyBocyh7YWFiYjpuZXcgbih7bG93ZXJCb3VuZDpuZXcgZSgxLDAsMCl9KX0pLG5ldyBocyh7YWFiYjpuZXcgbih7bG93ZXJCb3VuZDpuZXcgZSgxLDEsMCl9KX0pLG5ldyBocyh7YWFiYjpuZXcgbih7bG93ZXJCb3VuZDpuZXcgZSgxLDEsMSl9KX0pLG5ldyBocyh7YWFiYjpuZXcgbih7bG93ZXJCb3VuZDpuZXcgZSgwLDEsMSl9KX0pLG5ldyBocyh7YWFiYjpuZXcgbih7bG93ZXJCb3VuZDpuZXcgZSgwLDAsMSl9KX0pLG5ldyBocyh7YWFiYjpuZXcgbih7bG93ZXJCb3VuZDpuZXcgZSgxLDAsMSl9KX0pLG5ldyBocyh7YWFiYjpuZXcgbih7bG93ZXJCb3VuZDpuZXcgZSgwLDEsMCl9KX0pKSxpLnZzdWIocyxkcyksZHMuc2NhbGUoLjUsZHMpO2NvbnN0IHI9dGhpcy5yb290fHx0aGlzO2ZvcihsZXQgdD0wOzghPT10O3QrKyl7Y29uc3QgZT1vW3RdO2Uucm9vdD1yO2NvbnN0IGk9ZS5hYWJiLmxvd2VyQm91bmQ7aS54Kj1kcy54LGkueSo9ZHMueSxpLnoqPWRzLnosaS52YWRkKHMsaSksaS52YWRkKGRzLGUuYWFiYi51cHBlckJvdW5kKX19YWFiYlF1ZXJ5KHQsZSl7dGhpcy5kYXRhLHRoaXMuY2hpbGRyZW47Y29uc3Qgcz1bdGhpc107Zm9yKDtzLmxlbmd0aDspe2NvbnN0IGk9cy5wb3AoKTtpLmFhYmIub3ZlcmxhcHModCkmJkFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGUsaS5kYXRhKSxBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShzLGkuY2hpbGRyZW4pfXJldHVybiBlfXJheVF1ZXJ5KHQsZSxzKXtyZXR1cm4gdC5nZXRBQUJCKHBzKSxwcy50b0xvY2FsRnJhbWUoZSxwcyksdGhpcy5hYWJiUXVlcnkocHMscyksc31yZW1vdmVFbXB0eU5vZGVzKCl7Zm9yKGxldCB0PXRoaXMuY2hpbGRyZW4ubGVuZ3RoLTE7dD49MDt0LS0pdGhpcy5jaGlsZHJlblt0XS5yZW1vdmVFbXB0eU5vZGVzKCksdGhpcy5jaGlsZHJlblt0XS5jaGlsZHJlbi5sZW5ndGh8fHRoaXMuY2hpbGRyZW5bdF0uZGF0YS5sZW5ndGh8fHRoaXMuY2hpbGRyZW4uc3BsaWNlKHQsMSl9fWNsYXNzIHVzIGV4dGVuZHMgaHN7Y29uc3RydWN0b3IodCxlPXt9KXtzdXBlcih7cm9vdDpudWxsLGFhYmI6dH0pLHRoaXMubWF4RGVwdGg9dm9pZCAwIT09ZS5tYXhEZXB0aD9lLm1heERlcHRoOjh9fWNvbnN0IGRzPW5ldyBlLHBzPW5ldyBuO2NsYXNzIHlzIGV4dGVuZHMgcHtjb25zdHJ1Y3Rvcih0LHMpe3N1cGVyKHt0eXBlOnAudHlwZXMuVFJJTUVTSH0pLHRoaXMudmVydGljZXM9bmV3IEZsb2F0MzJBcnJheSh0KSx0aGlzLmluZGljZXM9bmV3IEludDE2QXJyYXkocyksdGhpcy5ub3JtYWxzPW5ldyBGbG9hdDMyQXJyYXkocy5sZW5ndGgpLHRoaXMuYWFiYj1uZXcgbix0aGlzLmVkZ2VzPW51bGwsdGhpcy5zY2FsZT1uZXcgZSgxLDEsMSksdGhpcy50cmVlPW5ldyB1cyx0aGlzLnVwZGF0ZUVkZ2VzKCksdGhpcy51cGRhdGVOb3JtYWxzKCksdGhpcy51cGRhdGVBQUJCKCksdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpLHRoaXMudXBkYXRlVHJlZSgpfXVwZGF0ZVRyZWUoKXtjb25zdCB0PXRoaXMudHJlZTt0LnJlc2V0KCksdC5hYWJiLmNvcHkodGhpcy5hYWJiKTtjb25zdCBzPXRoaXMuc2NhbGU7dC5hYWJiLmxvd2VyQm91bmQueCo9MS9zLngsdC5hYWJiLmxvd2VyQm91bmQueSo9MS9zLnksdC5hYWJiLmxvd2VyQm91bmQueio9MS9zLnosdC5hYWJiLnVwcGVyQm91bmQueCo9MS9zLngsdC5hYWJiLnVwcGVyQm91bmQueSo9MS9zLnksdC5hYWJiLnVwcGVyQm91bmQueio9MS9zLno7Y29uc3QgaT1uZXcgbixvPW5ldyBlLHI9bmV3IGUsYT1uZXcgZSxsPVtvLHIsYV07Zm9yKGxldCBlPTA7ZTx0aGlzLmluZGljZXMubGVuZ3RoLzM7ZSsrKXtjb25zdCBzPTMqZTt0aGlzLl9nZXRVbnNjYWxlZFZlcnRleCh0aGlzLmluZGljZXNbc10sbyksdGhpcy5fZ2V0VW5zY2FsZWRWZXJ0ZXgodGhpcy5pbmRpY2VzW3MrMV0sciksdGhpcy5fZ2V0VW5zY2FsZWRWZXJ0ZXgodGhpcy5pbmRpY2VzW3MrMl0sYSksaS5zZXRGcm9tUG9pbnRzKGwpLHQuaW5zZXJ0KGksZSl9dC5yZW1vdmVFbXB0eU5vZGVzKCl9Z2V0VHJpYW5nbGVzSW5BQUJCKHQsZSl7dnMuY29weSh0KTtjb25zdCBzPXRoaXMuc2NhbGUsaT1zLngsbz1zLnksbj1zLnoscj12cy5sb3dlckJvdW5kLGE9dnMudXBwZXJCb3VuZDtyZXR1cm4gci54Lz1pLHIueS89byxyLnovPW4sYS54Lz1pLGEueS89byxhLnovPW4sdGhpcy50cmVlLmFhYmJRdWVyeSh2cyxlKX1zZXRTY2FsZSh0KXtjb25zdCBlPXRoaXMuc2NhbGUueD09PXRoaXMuc2NhbGUueSYmdGhpcy5zY2FsZS55PT09dGhpcy5zY2FsZS56LHM9dC54PT09dC55JiZ0Lnk9PT10Lno7ZSYmc3x8dGhpcy51cGRhdGVOb3JtYWxzKCksdGhpcy5zY2FsZS5jb3B5KHQpLHRoaXMudXBkYXRlQUFCQigpLHRoaXMudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKX11cGRhdGVOb3JtYWxzKCl7Y29uc3QgdD1tcyxlPXRoaXMubm9ybWFscztmb3IobGV0IHM9MDtzPHRoaXMuaW5kaWNlcy5sZW5ndGgvMztzKyspe2NvbnN0IGk9MypzLG89dGhpcy5pbmRpY2VzW2ldLG49dGhpcy5pbmRpY2VzW2krMV0scj10aGlzLmluZGljZXNbaSsyXTt0aGlzLmdldFZlcnRleChvLGJzKSx0aGlzLmdldFZlcnRleChuLEFzKSx0aGlzLmdldFZlcnRleChyLEJzKSx5cy5jb21wdXRlTm9ybWFsKEFzLGJzLEJzLHQpLGVbaV09dC54LGVbaSsxXT10LnksZVtpKzJdPXQuen19dXBkYXRlRWRnZXMoKXtjb25zdCB0PXt9LGU9KGUscyk9Pnt0W2U8cz9lKyJfIitzOnMrIl8iK2VdPSEwfTtmb3IobGV0IHQ9MDt0PHRoaXMuaW5kaWNlcy5sZW5ndGgvMzt0Kyspe2NvbnN0IHM9Myp0LGk9dGhpcy5pbmRpY2VzW3NdLG89dGhpcy5pbmRpY2VzW3MrMV0sbj10aGlzLmluZGljZXNbcysyXTtlKGksbyksZShvLG4pLGUobixpKX1jb25zdCBzPU9iamVjdC5rZXlzKHQpO3RoaXMuZWRnZXM9bmV3IEludDE2QXJyYXkoMipzLmxlbmd0aCk7Zm9yKGxldCB0PTA7dDxzLmxlbmd0aDt0Kyspe2NvbnN0IGU9c1t0XS5zcGxpdCgiXyIpO3RoaXMuZWRnZXNbMip0XT1wYXJzZUludChlWzBdLDEwKSx0aGlzLmVkZ2VzWzIqdCsxXT1wYXJzZUludChlWzFdLDEwKX19Z2V0RWRnZVZlcnRleCh0LGUscyl7Y29uc3QgaT10aGlzLmVkZ2VzWzIqdCsoZT8xOjApXTt0aGlzLmdldFZlcnRleChpLHMpfWdldEVkZ2VWZWN0b3IodCxlKXtjb25zdCBzPXdzLGk9ZnM7dGhpcy5nZXRFZGdlVmVydGV4KHQsMCxzKSx0aGlzLmdldEVkZ2VWZXJ0ZXgodCwxLGkpLGkudnN1YihzLGUpfXN0YXRpYyBjb21wdXRlTm9ybWFsKHQsZSxzLGkpe2UudnN1Yih0LHhzKSxzLnZzdWIoZSxncyksZ3MuY3Jvc3MoeHMsaSksaS5pc1plcm8oKXx8aS5ub3JtYWxpemUoKX1nZXRWZXJ0ZXgodCxlKXtjb25zdCBzPXRoaXMuc2NhbGU7cmV0dXJuIHRoaXMuX2dldFVuc2NhbGVkVmVydGV4KHQsZSksZS54Kj1zLngsZS55Kj1zLnksZS56Kj1zLnosZX1fZ2V0VW5zY2FsZWRWZXJ0ZXgodCxlKXtjb25zdCBzPTMqdCxpPXRoaXMudmVydGljZXM7cmV0dXJuIGUuc2V0KGlbc10saVtzKzFdLGlbcysyXSl9Z2V0V29ybGRWZXJ0ZXgodCxlLHMsaSl7cmV0dXJuIHRoaXMuZ2V0VmVydGV4KHQsaSkseS5wb2ludFRvV29ybGRGcmFtZShlLHMsaSxpKSxpfWdldFRyaWFuZ2xlVmVydGljZXModCxlLHMsaSl7Y29uc3Qgbz0zKnQ7dGhpcy5nZXRWZXJ0ZXgodGhpcy5pbmRpY2VzW29dLGUpLHRoaXMuZ2V0VmVydGV4KHRoaXMuaW5kaWNlc1tvKzFdLHMpLHRoaXMuZ2V0VmVydGV4KHRoaXMuaW5kaWNlc1tvKzJdLGkpfWdldE5vcm1hbCh0LGUpe2NvbnN0IHM9Myp0O3JldHVybiBlLnNldCh0aGlzLm5vcm1hbHNbc10sdGhpcy5ub3JtYWxzW3MrMV0sdGhpcy5ub3JtYWxzW3MrMl0pfWNhbGN1bGF0ZUxvY2FsSW5lcnRpYSh0LGUpe3RoaXMuY29tcHV0ZUxvY2FsQUFCQihFcyk7Y29uc3Qgcz1Fcy51cHBlckJvdW5kLngtRXMubG93ZXJCb3VuZC54LGk9RXMudXBwZXJCb3VuZC55LUVzLmxvd2VyQm91bmQueSxvPUVzLnVwcGVyQm91bmQuei1Fcy5sb3dlckJvdW5kLno7cmV0dXJuIGUuc2V0KDEvMTIqdCooMippKjIqaSsyKm8qMipvKSwxLzEyKnQqKDIqcyoyKnMrMipvKjIqbyksMS8xMip0KigyKmkqMippKzIqcyoyKnMpKX1jb21wdXRlTG9jYWxBQUJCKHQpe2NvbnN0IGU9dC5sb3dlckJvdW5kLHM9dC51cHBlckJvdW5kLGk9dGhpcy52ZXJ0aWNlcy5sZW5ndGg7dGhpcy52ZXJ0aWNlcztjb25zdCBvPVNzO3RoaXMuZ2V0VmVydGV4KDAsbyksZS5jb3B5KG8pLHMuY29weShvKTtmb3IobGV0IHQ9MDt0IT09aTt0KyspdGhpcy5nZXRWZXJ0ZXgodCxvKSxvLng8ZS54P2UueD1vLng6by54PnMueCYmKHMueD1vLngpLG8ueTxlLnk/ZS55PW8ueTpvLnk+cy55JiYocy55PW8ueSksby56PGUuej9lLno9by56Om8uej5zLnomJihzLno9by56KX11cGRhdGVBQUJCKCl7dGhpcy5jb21wdXRlTG9jYWxBQUJCKHRoaXMuYWFiYil9dXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKXtsZXQgdD0wO2NvbnN0IHM9dGhpcy52ZXJ0aWNlcyxpPW5ldyBlO2ZvcihsZXQgZT0wLG89cy5sZW5ndGgvMztlIT09bztlKyspe3RoaXMuZ2V0VmVydGV4KGUsaSk7Y29uc3Qgcz1pLmxlbmd0aFNxdWFyZWQoKTtzPnQmJih0PXMpfXRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXM9TWF0aC5zcXJ0KHQpfWNhbGN1bGF0ZVdvcmxkQUFCQih0LGUscyxpKXtjb25zdCBvPXpzLG49RnM7by5wb3NpdGlvbj10LG8ucXVhdGVybmlvbj1lLHRoaXMuYWFiYi50b1dvcmxkRnJhbWUobyxuKSxzLmNvcHkobi5sb3dlckJvdW5kKSxpLmNvcHkobi51cHBlckJvdW5kKX12b2x1bWUoKXtyZXR1cm4gNCpNYXRoLlBJKnRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMvM31zdGF0aWMgY3JlYXRlVG9ydXModD0xLGU9LjUscz04LGk9NixvPTIqTWF0aC5QSSl7Y29uc3Qgbj1bXSxyPVtdO2ZvcihsZXQgcj0wO3I8PXM7cisrKWZvcihsZXQgYT0wO2E8PWk7YSsrKXtjb25zdCBsPWEvaSpvLGM9ci9zKk1hdGguUEkqMixoPSh0K2UqTWF0aC5jb3MoYykpKk1hdGguY29zKGwpLHU9KHQrZSpNYXRoLmNvcyhjKSkqTWF0aC5zaW4obCksZD1lKk1hdGguc2luKGMpO24ucHVzaChoLHUsZCl9Zm9yKGxldCB0PTE7dDw9czt0KyspZm9yKGxldCBlPTE7ZTw9aTtlKyspe2NvbnN0IHM9KGkrMSkqdCtlLTEsbz0oaSsxKSoodC0xKStlLTEsbj0oaSsxKSoodC0xKStlLGE9KGkrMSkqdCtlO3IucHVzaChzLG8sYSksci5wdXNoKG8sbixhKX1yZXR1cm4gbmV3IHlzKG4scil9fWNvbnN0IG1zPW5ldyBlLHZzPW5ldyBuLHdzPW5ldyBlLGZzPW5ldyBlLGdzPW5ldyBlLHhzPW5ldyBlLGJzPW5ldyBlLEFzPW5ldyBlLEJzPW5ldyBlLEVzPW5ldyBuLFNzPW5ldyBlLHpzPW5ldyB5LEZzPW5ldyBuO2NsYXNzIENzIGV4dGVuZHMgY2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLmVxdWF0aW9ucz1bXX1zb2x2ZSh0LGUpe3JldHVybiAwfWFkZEVxdWF0aW9uKHQpe3QuZW5hYmxlZCYmdGhpcy5lcXVhdGlvbnMucHVzaCh0KX1yZW1vdmVFcXVhdGlvbih0KXtjb25zdCBlPXRoaXMuZXF1YXRpb25zLHM9ZS5pbmRleE9mKHQpOy0xIT09cyYmZS5zcGxpY2UocywxKX1yZW1vdmVBbGxFcXVhdGlvbnMoKXt0aGlzLmVxdWF0aW9ucy5sZW5ndGg9MH19e2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLml0ZXJhdGlvbnM9MTAsdGhpcy50b2xlcmFuY2U9MWUtN31zb2x2ZSh0LGUpe2xldCBzPTA7Y29uc3QgaT10aGlzLml0ZXJhdGlvbnMsbz10aGlzLnRvbGVyYW5jZSp0aGlzLnRvbGVyYW5jZSxuPXRoaXMuZXF1YXRpb25zLHI9bi5sZW5ndGgsYT1lLmJvZGllcyxsPWEubGVuZ3RoLGM9dDtsZXQgaCx1LGQscCx5LG07aWYoMCE9PXIpZm9yKGxldCB0PTA7dCE9PWw7dCsrKWFbdF0udXBkYXRlU29sdmVNYXNzUHJvcGVydGllcygpO2NvbnN0IHY9UnMsdz1JcyxmPU1zO3YubGVuZ3RoPXIsdy5sZW5ndGg9cixmLmxlbmd0aD1yO2ZvcihsZXQgdD0wO3QhPT1yO3QrKyl7Y29uc3QgZT1uW3RdO2ZbdF09MCx3W3RdPWUuY29tcHV0ZUIoYyksdlt0XT0xL2UuY29tcHV0ZUMoKX1pZigwIT09cil7Zm9yKGxldCB0PTA7dCE9PWw7dCsrKXtjb25zdCBlPWFbdF0scz1lLnZsYW1iZGEsaT1lLndsYW1iZGE7cy5zZXQoMCwwLDApLGkuc2V0KDAsMCwwKX1mb3Iocz0wO3MhPT1pO3MrKyl7cD0wO2ZvcihsZXQgdD0wO3QhPT1yO3QrKyl7Y29uc3QgZT1uW3RdO2g9d1t0XSx1PXZbdF0sbT1mW3RdLHk9ZS5jb21wdXRlR1dsYW1iZGEoKSxkPXUqKGgteS1lLmVwcyptKSxtK2Q8ZS5taW5Gb3JjZT9kPWUubWluRm9yY2UtbTptK2Q+ZS5tYXhGb3JjZSYmKGQ9ZS5tYXhGb3JjZS1tKSxmW3RdKz1kLHArPWQ+MD9kOi1kLGUuYWRkVG9XbGFtYmRhKGQpfWlmKHAqcDxvKWJyZWFrfWZvcihsZXQgdD0wO3QhPT1sO3QrKyl7Y29uc3QgZT1hW3RdLHM9ZS52ZWxvY2l0eSxpPWUuYW5ndWxhclZlbG9jaXR5O2UudmxhbWJkYS52bXVsKGUubGluZWFyRmFjdG9yLGUudmxhbWJkYSkscy52YWRkKGUudmxhbWJkYSxzKSxlLndsYW1iZGEudm11bChlLmFuZ3VsYXJGYWN0b3IsZS53bGFtYmRhKSxpLnZhZGQoZS53bGFtYmRhLGkpfWxldCB0PW4ubGVuZ3RoO2NvbnN0IGU9MS9jO2Zvcig7dC0tOyluW3RdLm11bHRpcGxpZXI9Zlt0XSplfXJldHVybiBzfX1jb25zdCBNcz1bXSxScz1bXSxJcz1bXTtjbGFzcyBUcyBleHRlbmRzIGNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5vYmplY3RzPVtdLHRoaXMudHlwZT1PYmplY3R9cmVsZWFzZSguLi50KXtjb25zdCBlPXQubGVuZ3RoO2ZvcihsZXQgcz0wO3MhPT1lO3MrKyl0aGlzLm9iamVjdHMucHVzaCh0W3NdKTtyZXR1cm4gdGhpc31nZXQoKXtyZXR1cm4gMD09PXRoaXMub2JqZWN0cy5sZW5ndGg/dGhpcy5jb25zdHJ1Y3RPYmplY3QoKTp0aGlzLm9iamVjdHMucG9wKCl9Y29uc3RydWN0T2JqZWN0KCl7dGhyb3cgbmV3IEVycm9yKCJjb25zdHJ1Y3RPYmplY3QoKSBub3QgaW1wbGVtZW50ZWQgaW4gdGhpcyBQb29sIHN1YmNsYXNzIHlldCEiKX1yZXNpemUodCl7Y29uc3QgZT10aGlzLm9iamVjdHM7Zm9yKDtlLmxlbmd0aD50OyllLnBvcCgpO2Zvcig7ZS5sZW5ndGg8dDspZS5wdXNoKHRoaXMuY29uc3RydWN0T2JqZWN0KCkpO3JldHVybiB0aGlzfX17Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMudHlwZT1lfWNvbnN0cnVjdE9iamVjdCgpe3JldHVybiBuZXcgZX19Y29uc3QgTHM9cC50eXBlcy5TUEhFUkUscXM9cC50eXBlcy5TUEhFUkV8cC50eXBlcy5QTEFORSxQcz1wLnR5cGVzLkJPWHxwLnR5cGVzLkJPWCxOcz1wLnR5cGVzLlNQSEVSRXxwLnR5cGVzLkJPWCxXcz1wLnR5cGVzLlBMQU5FfHAudHlwZXMuQk9YLFZzPXAudHlwZXMuQ09OVkVYUE9MWUhFRFJPTixrcz1wLnR5cGVzLlNQSEVSRXxwLnR5cGVzLkNPTlZFWFBPTFlIRURST04sanM9cC50eXBlcy5QTEFORXxwLnR5cGVzLkNPTlZFWFBPTFlIRURST04sT3M9cC50eXBlcy5CT1h8cC50eXBlcy5DT05WRVhQT0xZSEVEUk9OLF9zPXAudHlwZXMuU1BIRVJFfHAudHlwZXMuSEVJR0hURklFTEQsRHM9cC50eXBlcy5CT1h8cC50eXBlcy5IRUlHSFRGSUVMRCxIcz1wLnR5cGVzLkNPTlZFWFBPTFlIRURST058cC50eXBlcy5IRUlHSFRGSUVMRCxVcz1wLnR5cGVzLlBBUlRJQ0xFfHAudHlwZXMuU1BIRVJFLEdzPXAudHlwZXMuUExBTkV8cC50eXBlcy5QQVJUSUNMRSxYcz1wLnR5cGVzLkJPWHxwLnR5cGVzLlBBUlRJQ0xFLFlzPXAudHlwZXMuUEFSVElDTEV8cC50eXBlcy5DT05WRVhQT0xZSEVEUk9OLFpzPXAudHlwZXMuQ1lMSU5ERVIsS3M9cC50eXBlcy5TUEhFUkV8cC50eXBlcy5DWUxJTkRFUixRcz1wLnR5cGVzLlBMQU5FfHAudHlwZXMuQ1lMSU5ERVIsSnM9cC50eXBlcy5CT1h8cC50eXBlcy5DWUxJTkRFUiwkcz1wLnR5cGVzLkNPTlZFWFBPTFlIRURST058cC50eXBlcy5DWUxJTkRFUix0aT1wLnR5cGVzLkhFSUdIVEZJRUxEfHAudHlwZXMuQ1lMSU5ERVIsZWk9cC50eXBlcy5QQVJUSUNMRXxwLnR5cGVzLkNZTElOREVSLHNpPXAudHlwZXMuU1BIRVJFfHAudHlwZXMuVFJJTUVTSCxpaT1wLnR5cGVzLlBMQU5FfHAudHlwZXMuVFJJTUVTSDtjbGFzcyBvaXtjb25zdHJ1Y3Rvcih0KXt0aGlzLmNvbnRhY3RQb2ludFBvb2w9W10sdGhpcy5mcmljdGlvbkVxdWF0aW9uUG9vbD1bXSx0aGlzLnJlc3VsdD1bXSx0aGlzLmZyaWN0aW9uUmVzdWx0PVtdLHRoaXMudjNwb29sPW5ldyBUcyx0aGlzLndvcmxkPXQsdGhpcy5jdXJyZW50Q29udGFjdE1hdGVyaWFsPXQuZGVmYXVsdENvbnRhY3RNYXRlcmlhbCx0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uPSExfWNyZWF0ZUNvbnRhY3RFcXVhdGlvbih0LGUscyxpLG8sbil7bGV0IHI7dGhpcy5jb250YWN0UG9pbnRQb29sLmxlbmd0aD8ocj10aGlzLmNvbnRhY3RQb2ludFBvb2wucG9wKCksci5iaT10LHIuYmo9ZSk6cj1uZXcgUHQodCxlKSxyLmVuYWJsZWQ9dC5jb2xsaXNpb25SZXNwb25zZSYmZS5jb2xsaXNpb25SZXNwb25zZSYmcy5jb2xsaXNpb25SZXNwb25zZSYmaS5jb2xsaXNpb25SZXNwb25zZTtjb25zdCBhPXRoaXMuY3VycmVudENvbnRhY3RNYXRlcmlhbDtyLnJlc3RpdHV0aW9uPWEucmVzdGl0dXRpb24sci5zZXRTcG9va1BhcmFtcyhhLmNvbnRhY3RFcXVhdGlvblN0aWZmbmVzcyxhLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb24sdGhpcy53b3JsZC5kdCk7Y29uc3QgbD1zLm1hdGVyaWFsfHx0Lm1hdGVyaWFsLGM9aS5tYXRlcmlhbHx8ZS5tYXRlcmlhbDtyZXR1cm4gbCYmYyYmbC5yZXN0aXR1dGlvbj49MCYmYy5yZXN0aXR1dGlvbj49MCYmKHIucmVzdGl0dXRpb249bC5yZXN0aXR1dGlvbipjLnJlc3RpdHV0aW9uKSxyLnNpPW98fHMsci5zaj1ufHxpLHJ9Y3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdCh0LGUpe2NvbnN0IHM9dC5iaSxpPXQuYmosbz10LnNpLG49dC5zaixyPXRoaXMud29ybGQsYT10aGlzLmN1cnJlbnRDb250YWN0TWF0ZXJpYWw7bGV0IGw9YS5mcmljdGlvbjtjb25zdCBjPW8ubWF0ZXJpYWx8fHMubWF0ZXJpYWwsaD1uLm1hdGVyaWFsfHxpLm1hdGVyaWFsO2lmKGMmJmgmJmMuZnJpY3Rpb24+PTAmJmguZnJpY3Rpb24+PTAmJihsPWMuZnJpY3Rpb24qaC5mcmljdGlvbiksbD4wKXtjb25zdCBvPWwqci5ncmF2aXR5Lmxlbmd0aCgpO2xldCBuPXMuaW52TWFzcytpLmludk1hc3M7bj4wJiYobj0xL24pO2NvbnN0IGM9dGhpcy5mcmljdGlvbkVxdWF0aW9uUG9vbCxoPWMubGVuZ3RoP2MucG9wKCk6bmV3IG9lKHMsaSxvKm4pLHU9Yy5sZW5ndGg/Yy5wb3AoKTpuZXcgb2UocyxpLG8qbik7cmV0dXJuIGguYmk9dS5iaT1zLGguYmo9dS5iaj1pLGgubWluRm9yY2U9dS5taW5Gb3JjZT0tbypuLGgubWF4Rm9yY2U9dS5tYXhGb3JjZT1vKm4saC5yaS5jb3B5KHQucmkpLGgucmouY29weSh0LnJqKSx1LnJpLmNvcHkodC5yaSksdS5yai5jb3B5KHQucmopLHQubmkudGFuZ2VudHMoaC50LHUudCksaC5zZXRTcG9va1BhcmFtcyhhLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsYS5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbixyLmR0KSx1LnNldFNwb29rUGFyYW1zKGEuZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcyxhLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLHIuZHQpLGguZW5hYmxlZD11LmVuYWJsZWQ9dC5lbmFibGVkLGUucHVzaChoLHUpLCEwfXJldHVybiExfWNyZWF0ZUZyaWN0aW9uRnJvbUF2ZXJhZ2UodCl7bGV0IGU9dGhpcy5yZXN1bHRbdGhpcy5yZXN1bHQubGVuZ3RoLTFdO2lmKCF0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QoZSx0aGlzLmZyaWN0aW9uUmVzdWx0KXx8MT09PXQpcmV0dXJuO2NvbnN0IHM9dGhpcy5mcmljdGlvblJlc3VsdFt0aGlzLmZyaWN0aW9uUmVzdWx0Lmxlbmd0aC0yXSxpPXRoaXMuZnJpY3Rpb25SZXN1bHRbdGhpcy5mcmljdGlvblJlc3VsdC5sZW5ndGgtMV07bmkuc2V0WmVybygpLHJpLnNldFplcm8oKSxhaS5zZXRaZXJvKCk7Y29uc3Qgbz1lLmJpO2UuYmo7Zm9yKGxldCBzPTA7cyE9PXQ7cysrKWU9dGhpcy5yZXN1bHRbdGhpcy5yZXN1bHQubGVuZ3RoLTEtc10sZS5iaSE9PW8/KG5pLnZhZGQoZS5uaSxuaSkscmkudmFkZChlLnJpLHJpKSxhaS52YWRkKGUucmosYWkpKToobmkudnN1YihlLm5pLG5pKSxyaS52YWRkKGUucmoscmkpLGFpLnZhZGQoZS5yaSxhaSkpO2NvbnN0IG49MS90O3JpLnNjYWxlKG4scy5yaSksYWkuc2NhbGUobixzLnJqKSxpLnJpLmNvcHkocy5yaSksaS5yai5jb3B5KHMucmopLG5pLm5vcm1hbGl6ZSgpLG5pLnRhbmdlbnRzKHMudCxpLnQpfWdldENvbnRhY3RzKHQsZSxzLGksbyxuLHIpe3RoaXMuY29udGFjdFBvaW50UG9vbD1vLHRoaXMuZnJpY3Rpb25FcXVhdGlvblBvb2w9cix0aGlzLnJlc3VsdD1pLHRoaXMuZnJpY3Rpb25SZXN1bHQ9bjtjb25zdCBhPWhpLGw9dWksYz1saSxoPWNpO2ZvcihsZXQgaT0wLG89dC5sZW5ndGg7aSE9PW87aSsrKXtjb25zdCBvPXRbaV0sbj1lW2ldO2xldCByPW51bGw7by5tYXRlcmlhbCYmbi5tYXRlcmlhbCYmKHI9cy5nZXRDb250YWN0TWF0ZXJpYWwoby5tYXRlcmlhbCxuLm1hdGVyaWFsKXx8bnVsbCk7Y29uc3QgdT1vLnR5cGUmRi5LSU5FTUFUSUMmJm4udHlwZSZGLlNUQVRJQ3x8by50eXBlJkYuU1RBVElDJiZuLnR5cGUmRi5LSU5FTUFUSUN8fG8udHlwZSZGLktJTkVNQVRJQyYmbi50eXBlJkYuS0lORU1BVElDO2ZvcihsZXQgdD0wO3Q8by5zaGFwZXMubGVuZ3RoO3QrKyl7by5xdWF0ZXJuaW9uLm11bHQoby5zaGFwZU9yaWVudGF0aW9uc1t0XSxhKSxvLnF1YXRlcm5pb24udm11bHQoby5zaGFwZU9mZnNldHNbdF0sYyksYy52YWRkKG8ucG9zaXRpb24sYyk7Y29uc3QgZT1vLnNoYXBlc1t0XTtmb3IobGV0IHQ9MDt0PG4uc2hhcGVzLmxlbmd0aDt0Kyspe24ucXVhdGVybmlvbi5tdWx0KG4uc2hhcGVPcmllbnRhdGlvbnNbdF0sbCksbi5xdWF0ZXJuaW9uLnZtdWx0KG4uc2hhcGVPZmZzZXRzW3RdLGgpLGgudmFkZChuLnBvc2l0aW9uLGgpO2NvbnN0IGk9bi5zaGFwZXNbdF07aWYoIShlLmNvbGxpc2lvbkZpbHRlck1hc2smaS5jb2xsaXNpb25GaWx0ZXJHcm91cCYmaS5jb2xsaXNpb25GaWx0ZXJNYXNrJmUuY29sbGlzaW9uRmlsdGVyR3JvdXApKWNvbnRpbnVlO2lmKGMuZGlzdGFuY2VUbyhoKT5lLmJvdW5kaW5nU3BoZXJlUmFkaXVzK2kuYm91bmRpbmdTcGhlcmVSYWRpdXMpY29udGludWU7bGV0IGQ9bnVsbDtlLm1hdGVyaWFsJiZpLm1hdGVyaWFsJiYoZD1zLmdldENvbnRhY3RNYXRlcmlhbChlLm1hdGVyaWFsLGkubWF0ZXJpYWwpfHxudWxsKSx0aGlzLmN1cnJlbnRDb250YWN0TWF0ZXJpYWw9ZHx8cnx8cy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsO2NvbnN0IHA9dGhpc1tlLnR5cGV8aS50eXBlXTtpZihwKXtsZXQgdD0hMTt0PWUudHlwZTxpLnR5cGU/cC5jYWxsKHRoaXMsZSxpLGMsaCxhLGwsbyxuLGUsaSx1KTpwLmNhbGwodGhpcyxpLGUsaCxjLGwsYSxuLG8sZSxpLHUpLHQmJnUmJihzLnNoYXBlT3ZlcmxhcEtlZXBlci5zZXQoZS5pZCxpLmlkKSxzLmJvZHlPdmVybGFwS2VlcGVyLnNldChvLmlkLG4uaWQpKX19fX19c3BoZXJlU3BoZXJlKHQsZSxzLGksbyxuLHIsYSxsLGMsaCl7aWYoaClyZXR1cm4gcy5kaXN0YW5jZVNxdWFyZWQoaSk8KHQucmFkaXVzK2UucmFkaXVzKSoqMjtjb25zdCB1PXRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHIsYSx0LGUsbCxjKTtpLnZzdWIocyx1Lm5pKSx1Lm5pLm5vcm1hbGl6ZSgpLHUucmkuY29weSh1Lm5pKSx1LnJqLmNvcHkodS5uaSksdS5yaS5zY2FsZSh0LnJhZGl1cyx1LnJpKSx1LnJqLnNjYWxlKC1lLnJhZGl1cyx1LnJqKSx1LnJpLnZhZGQocyx1LnJpKSx1LnJpLnZzdWIoci5wb3NpdGlvbix1LnJpKSx1LnJqLnZhZGQoaSx1LnJqKSx1LnJqLnZzdWIoYS5wb3NpdGlvbix1LnJqKSx0aGlzLnJlc3VsdC5wdXNoKHUpLHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdCh1LHRoaXMuZnJpY3Rpb25SZXN1bHQpfXNwaGVyZVBsYW5lKHQsZSxzLGksbyxuLHIsYSxsLGMsaCl7Y29uc3QgdT10aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihyLGEsdCxlLGwsYyk7aWYodS5uaS5zZXQoMCwwLDEpLG4udm11bHQodS5uaSx1Lm5pKSx1Lm5pLm5lZ2F0ZSh1Lm5pKSx1Lm5pLm5vcm1hbGl6ZSgpLHUubmkuc2NhbGUodC5yYWRpdXMsdS5yaSkscy52c3ViKGksUmkpLHUubmkuc2NhbGUodS5uaS5kb3QoUmkpLElpKSxSaS52c3ViKElpLHUucmopLC1SaS5kb3QodS5uaSk8PXQucmFkaXVzKXtpZihoKXJldHVybiEwO2NvbnN0IHQ9dS5yaSxlPXUucmo7dC52YWRkKHMsdCksdC52c3ViKHIucG9zaXRpb24sdCksZS52YWRkKGksZSksZS52c3ViKGEucG9zaXRpb24sZSksdGhpcy5yZXN1bHQucHVzaCh1KSx0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QodSx0aGlzLmZyaWN0aW9uUmVzdWx0KX19Ym94Qm94KHQsZSxzLGksbyxuLHIsYSxsLGMsaCl7cmV0dXJuIHQuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsPXQubWF0ZXJpYWwsZS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24ubWF0ZXJpYWw9ZS5tYXRlcmlhbCx0LmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZT10LmNvbGxpc2lvblJlc3BvbnNlLGUuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlPWUuY29sbGlzaW9uUmVzcG9uc2UsdGhpcy5jb252ZXhDb252ZXgodC5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sZS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24scyxpLG8sbixyLGEsdCxlLGgpfXNwaGVyZUJveCh0LGUscyxpLG8sbixyLGEsbCxjLGgpe2NvbnN0IHU9dGhpcy52M3Bvb2wsZD1qaTtzLnZzdWIoaSxOaSksZS5nZXRTaWRlTm9ybWFscyhkLG4pO2NvbnN0IHA9dC5yYWRpdXM7bGV0IHk9ITE7Y29uc3QgbT1faSx2PURpLHc9SGk7bGV0IGY9bnVsbCxnPTAseD0wLGI9MCxBPW51bGw7Zm9yKGxldCB0PTAsZT1kLmxlbmd0aDt0IT09ZSYmITE9PT15O3QrKyl7Y29uc3QgZT1XaTtlLmNvcHkoZFt0XSk7Y29uc3Qgcz1lLmxlbmd0aCgpO2Uubm9ybWFsaXplKCk7Y29uc3QgaT1OaS5kb3QoZSk7aWYoaTxzK3AmJmk+MCl7Y29uc3Qgbz1WaSxuPWtpO28uY29weShkWyh0KzEpJTNdKSxuLmNvcHkoZFsodCsyKSUzXSk7Y29uc3Qgcj1vLmxlbmd0aCgpLGE9bi5sZW5ndGgoKTtvLm5vcm1hbGl6ZSgpLG4ubm9ybWFsaXplKCk7Y29uc3QgbD1OaS5kb3QobyksYz1OaS5kb3Qobik7aWYobDxyJiZsPi1yJiZjPGEmJmM+LWEpe2NvbnN0IHQ9TWF0aC5hYnMoaS1zLXApO2lmKChudWxsPT09QXx8dDxBKSYmKEE9dCx4PWwsYj1jLGY9cyxtLmNvcHkoZSksdi5jb3B5KG8pLHcuY29weShuKSxnKyssaCkpcmV0dXJuITB9fX1pZihnKXt5PSEwO2NvbnN0IG89dGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24ocixhLHQsZSxsLGMpO20uc2NhbGUoLXAsby5yaSksby5uaS5jb3B5KG0pLG8ubmkubmVnYXRlKG8ubmkpLG0uc2NhbGUoZixtKSx2LnNjYWxlKHgsdiksbS52YWRkKHYsbSksdy5zY2FsZShiLHcpLG0udmFkZCh3LG8ucmopLG8ucmkudmFkZChzLG8ucmkpLG8ucmkudnN1YihyLnBvc2l0aW9uLG8ucmkpLG8ucmoudmFkZChpLG8ucmopLG8ucmoudnN1YihhLnBvc2l0aW9uLG8ucmopLHRoaXMucmVzdWx0LnB1c2gobyksdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KG8sdGhpcy5mcmljdGlvblJlc3VsdCl9bGV0IEI9dS5nZXQoKTtjb25zdCBFPU9pO2ZvcihsZXQgbz0wOzIhPT1vJiYheTtvKyspZm9yKGxldCBuPTA7MiE9PW4mJiF5O24rKylmb3IobGV0IHU9MDsyIT09dSYmIXk7dSsrKWlmKEIuc2V0KDAsMCwwKSxvP0IudmFkZChkWzBdLEIpOkIudnN1YihkWzBdLEIpLG4/Qi52YWRkKGRbMV0sQik6Qi52c3ViKGRbMV0sQiksdT9CLnZhZGQoZFsyXSxCKTpCLnZzdWIoZFsyXSxCKSxpLnZhZGQoQixFKSxFLnZzdWIocyxFKSxFLmxlbmd0aFNxdWFyZWQoKTxwKnApe2lmKGgpcmV0dXJuITA7eT0hMDtjb25zdCBvPXRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHIsYSx0LGUsbCxjKTtvLnJpLmNvcHkoRSksby5yaS5ub3JtYWxpemUoKSxvLm5pLmNvcHkoby5yaSksby5yaS5zY2FsZShwLG8ucmkpLG8ucmouY29weShCKSxvLnJpLnZhZGQocyxvLnJpKSxvLnJpLnZzdWIoci5wb3NpdGlvbixvLnJpKSxvLnJqLnZhZGQoaSxvLnJqKSxvLnJqLnZzdWIoYS5wb3NpdGlvbixvLnJqKSx0aGlzLnJlc3VsdC5wdXNoKG8pLHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChvLHRoaXMuZnJpY3Rpb25SZXN1bHQpfXUucmVsZWFzZShCKSxCPW51bGw7Y29uc3QgUz11LmdldCgpLHo9dS5nZXQoKSxGPXUuZ2V0KCksQz11LmdldCgpLE09dS5nZXQoKSxSPWQubGVuZ3RoO2ZvcihsZXQgbz0wO28hPT1SJiYheTtvKyspZm9yKGxldCBuPTA7biE9PVImJiF5O24rKylpZihvJTMhPW4lMyl7ZFtuXS5jcm9zcyhkW29dLFMpLFMubm9ybWFsaXplKCksZFtvXS52YWRkKGRbbl0seiksRi5jb3B5KHMpLEYudnN1Yih6LEYpLEYudnN1YihpLEYpO2NvbnN0IHU9Ri5kb3QoUyk7Uy5zY2FsZSh1LEMpO2xldCBtPTA7Zm9yKDttPT09byUzfHxtPT09biUzOyltKys7TS5jb3B5KHMpLE0udnN1YihDLE0pLE0udnN1Yih6LE0pLE0udnN1YihpLE0pO2NvbnN0IHY9TWF0aC5hYnModSksdz1NLmxlbmd0aCgpO2lmKHY8ZFttXS5sZW5ndGgoKSYmdzxwKXtpZihoKXJldHVybiEwO3k9ITA7Y29uc3Qgbz10aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihyLGEsdCxlLGwsYyk7ei52YWRkKEMsby5yaiksby5yai5jb3B5KG8ucmopLE0ubmVnYXRlKG8ubmkpLG8ubmkubm9ybWFsaXplKCksby5yaS5jb3B5KG8ucmopLG8ucmkudmFkZChpLG8ucmkpLG8ucmkudnN1YihzLG8ucmkpLG8ucmkubm9ybWFsaXplKCksby5yaS5zY2FsZShwLG8ucmkpLG8ucmkudmFkZChzLG8ucmkpLG8ucmkudnN1YihyLnBvc2l0aW9uLG8ucmkpLG8ucmoudmFkZChpLG8ucmopLG8ucmoudnN1YihhLnBvc2l0aW9uLG8ucmopLHRoaXMucmVzdWx0LnB1c2gobyksdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KG8sdGhpcy5mcmljdGlvblJlc3VsdCl9fXUucmVsZWFzZShTLHosRixDLE0pfXBsYW5lQm94KHQsZSxzLGksbyxuLHIsYSxsLGMsaCl7cmV0dXJuIGUuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsPWUubWF0ZXJpYWwsZS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uY29sbGlzaW9uUmVzcG9uc2U9ZS5jb2xsaXNpb25SZXNwb25zZSxlLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5pZD1lLmlkLHRoaXMucGxhbmVDb252ZXgodCxlLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbixzLGksbyxuLHIsYSx0LGUsaCl9Y29udmV4Q29udmV4KHQsZSxzLGksbyxuLHIsYSxsLGMsaCx1LGQpe2NvbnN0IHA9bm87aWYoIShzLmRpc3RhbmNlVG8oaSk+dC5ib3VuZGluZ1NwaGVyZVJhZGl1cytlLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSYmdC5maW5kU2VwYXJhdGluZ0F4aXMoZSxzLG8saSxuLHAsdSxkKSl7Y29uc3QgdT1bXSxkPXJvO3QuY2xpcEFnYWluc3RIdWxsKHMsbyxlLGksbixwLC0xMDAsMTAwLHUpO2xldCB5PTA7Zm9yKGxldCBvPTA7byE9PXUubGVuZ3RoO28rKyl7aWYoaClyZXR1cm4hMDtjb25zdCBuPXRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHIsYSx0LGUsbCxjKSxtPW4ucmksdj1uLnJqO3AubmVnYXRlKG4ubmkpLHVbb10ubm9ybWFsLm5lZ2F0ZShkKSxkLnNjYWxlKHVbb10uZGVwdGgsZCksdVtvXS5wb2ludC52YWRkKGQsbSksdi5jb3B5KHVbb10ucG9pbnQpLG0udnN1YihzLG0pLHYudnN1YihpLHYpLG0udmFkZChzLG0pLG0udnN1YihyLnBvc2l0aW9uLG0pLHYudmFkZChpLHYpLHYudnN1YihhLnBvc2l0aW9uLHYpLHRoaXMucmVzdWx0LnB1c2gobikseSsrLHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb258fHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChuLHRoaXMuZnJpY3Rpb25SZXN1bHQpfXRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24mJnkmJnRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQXZlcmFnZSh5KX19c3BoZXJlQ29udmV4KHQsZSxzLGksbyxuLHIsYSxsLGMsaCl7Y29uc3QgdT10aGlzLnYzcG9vbDtzLnZzdWIoaSxVaSk7Y29uc3QgZD1lLmZhY2VOb3JtYWxzLHA9ZS5mYWNlcyx5PWUudmVydGljZXMsbT10LnJhZGl1cztsZXQgdj0hMTtmb3IobGV0IG89MDtvIT09eS5sZW5ndGg7bysrKXtjb25zdCB1PXlbb10sZD1aaTtuLnZtdWx0KHUsZCksaS52YWRkKGQsZCk7Y29uc3QgcD1ZaTtpZihkLnZzdWIocyxwKSxwLmxlbmd0aFNxdWFyZWQoKTxtKm0pe2lmKGgpcmV0dXJuITA7dj0hMDtjb25zdCBvPXRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHIsYSx0LGUsbCxjKTtyZXR1cm4gby5yaS5jb3B5KHApLG8ucmkubm9ybWFsaXplKCksby5uaS5jb3B5KG8ucmkpLG8ucmkuc2NhbGUobSxvLnJpKSxkLnZzdWIoaSxvLnJqKSxvLnJpLnZhZGQocyxvLnJpKSxvLnJpLnZzdWIoci5wb3NpdGlvbixvLnJpKSxvLnJqLnZhZGQoaSxvLnJqKSxvLnJqLnZzdWIoYS5wb3NpdGlvbixvLnJqKSx0aGlzLnJlc3VsdC5wdXNoKG8pLHZvaWQgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KG8sdGhpcy5mcmljdGlvblJlc3VsdCl9fWZvcihsZXQgbz0wLHc9cC5sZW5ndGg7byE9PXcmJiExPT09djtvKyspe2NvbnN0IHc9ZFtvXSxmPXBbb10sZz1LaTtuLnZtdWx0KHcsZyk7Y29uc3QgeD1RaTtuLnZtdWx0KHlbZlswXV0seCkseC52YWRkKGkseCk7Y29uc3QgYj1KaTtnLnNjYWxlKC1tLGIpLHMudmFkZChiLGIpO2NvbnN0IEE9JGk7Yi52c3ViKHgsQSk7Y29uc3QgQj1BLmRvdChnKSxFPXRvO2lmKHMudnN1Yih4LEUpLEI8MCYmRS5kb3QoZyk+MCl7Y29uc3Qgbz1bXTtmb3IobGV0IHQ9MCxlPWYubGVuZ3RoO3QhPT1lO3QrKyl7Y29uc3QgZT11LmdldCgpO24udm11bHQoeVtmW3RdXSxlKSxpLnZhZGQoZSxlKSxvLnB1c2goZSl9aWYoUGkobyxnLHMpKXtpZihoKXJldHVybiEwO3Y9ITA7Y29uc3Qgbj10aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihyLGEsdCxlLGwsYyk7Zy5zY2FsZSgtbSxuLnJpKSxnLm5lZ2F0ZShuLm5pKTtjb25zdCBkPXUuZ2V0KCk7Zy5zY2FsZSgtQixkKTtjb25zdCBwPXUuZ2V0KCk7Zy5zY2FsZSgtbSxwKSxzLnZzdWIoaSxuLnJqKSxuLnJqLnZhZGQocCxuLnJqKSxuLnJqLnZhZGQoZCxuLnJqKSxuLnJqLnZhZGQoaSxuLnJqKSxuLnJqLnZzdWIoYS5wb3NpdGlvbixuLnJqKSxuLnJpLnZhZGQocyxuLnJpKSxuLnJpLnZzdWIoci5wb3NpdGlvbixuLnJpKSx1LnJlbGVhc2UoZCksdS5yZWxlYXNlKHApLHRoaXMucmVzdWx0LnB1c2gobiksdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KG4sdGhpcy5mcmljdGlvblJlc3VsdCk7Zm9yKGxldCB0PTAsZT1vLmxlbmd0aDt0IT09ZTt0KyspdS5yZWxlYXNlKG9bdF0pO3JldHVybn1mb3IobGV0IGQ9MDtkIT09Zi5sZW5ndGg7ZCsrKXtjb25zdCBwPXUuZ2V0KCksdj11LmdldCgpO24udm11bHQoeVtmWyhkKzEpJWYubGVuZ3RoXV0scCksbi52bXVsdCh5W2ZbKGQrMiklZi5sZW5ndGhdXSx2KSxpLnZhZGQocCxwKSxpLnZhZGQodix2KTtjb25zdCB3PUdpO3YudnN1YihwLHcpO2NvbnN0IGc9WGk7dy51bml0KGcpO2NvbnN0IHg9dS5nZXQoKSxiPXUuZ2V0KCk7cy52c3ViKHAsYik7Y29uc3QgQT1iLmRvdChnKTtnLnNjYWxlKEEseCkseC52YWRkKHAseCk7Y29uc3QgQj11LmdldCgpO2lmKHgudnN1YihzLEIpLEE+MCYmQSpBPHcubGVuZ3RoU3F1YXJlZCgpJiZCLmxlbmd0aFNxdWFyZWQoKTxtKm0pe2lmKGgpcmV0dXJuITA7Y29uc3Qgbj10aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihyLGEsdCxlLGwsYyk7eC52c3ViKGksbi5yaikseC52c3ViKHMsbi5uaSksbi5uaS5ub3JtYWxpemUoKSxuLm5pLnNjYWxlKG0sbi5yaSksbi5yai52YWRkKGksbi5yaiksbi5yai52c3ViKGEucG9zaXRpb24sbi5yaiksbi5yaS52YWRkKHMsbi5yaSksbi5yaS52c3ViKHIucG9zaXRpb24sbi5yaSksdGhpcy5yZXN1bHQucHVzaChuKSx0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3Qobix0aGlzLmZyaWN0aW9uUmVzdWx0KTtmb3IobGV0IHQ9MCxlPW8ubGVuZ3RoO3QhPT1lO3QrKyl1LnJlbGVhc2Uob1t0XSk7cmV0dXJuIHUucmVsZWFzZShwKSx1LnJlbGVhc2UodiksdS5yZWxlYXNlKHgpLHUucmVsZWFzZShCKSx2b2lkIHUucmVsZWFzZShiKX11LnJlbGVhc2UocCksdS5yZWxlYXNlKHYpLHUucmVsZWFzZSh4KSx1LnJlbGVhc2UoQiksdS5yZWxlYXNlKGIpfWZvcihsZXQgdD0wLGU9by5sZW5ndGg7dCE9PWU7dCsrKXUucmVsZWFzZShvW3RdKX19fXBsYW5lQ29udmV4KHQsZSxzLGksbyxuLHIsYSxsLGMsaCl7Y29uc3QgdT1lbyxkPXNvO2Quc2V0KDAsMCwxKSxvLnZtdWx0KGQsZCk7bGV0IHA9MDtjb25zdCB5PWlvO2ZvcihsZXQgbz0wO28hPT1lLnZlcnRpY2VzLmxlbmd0aDtvKyspe3UuY29weShlLnZlcnRpY2VzW29dKSxuLnZtdWx0KHUsdSksaS52YWRkKHUsdSksdS52c3ViKHMseSk7aWYoZC5kb3QoeSk8PTApe2lmKGgpcmV0dXJuITA7Y29uc3Qgbz10aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihyLGEsdCxlLGwsYyksbj1vbztkLnNjYWxlKGQuZG90KHkpLG4pLHUudnN1YihuLG4pLG4udnN1YihzLG8ucmkpLG8ubmkuY29weShkKSx1LnZzdWIoaSxvLnJqKSxvLnJpLnZhZGQocyxvLnJpKSxvLnJpLnZzdWIoci5wb3NpdGlvbixvLnJpKSxvLnJqLnZhZGQoaSxvLnJqKSxvLnJqLnZzdWIoYS5wb3NpdGlvbixvLnJqKSx0aGlzLnJlc3VsdC5wdXNoKG8pLHArKyx0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9ufHx0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3Qobyx0aGlzLmZyaWN0aW9uUmVzdWx0KX19dGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbiYmcCYmdGhpcy5jcmVhdGVGcmljdGlvbkZyb21BdmVyYWdlKHApfWJveENvbnZleCh0LGUscyxpLG8sbixyLGEsbCxjLGgpe3JldHVybiB0LmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbD10Lm1hdGVyaWFsLHQuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlPXQuY29sbGlzaW9uUmVzcG9uc2UsdGhpcy5jb252ZXhDb252ZXgodC5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sZSxzLGksbyxuLHIsYSx0LGUsaCl9c3BoZXJlSGVpZ2h0ZmllbGQodCxlLHMsaSxvLG4scixhLGwsYyxoKXtjb25zdCB1PWUuZGF0YSxkPXQucmFkaXVzLHA9ZS5lbGVtZW50U2l6ZSxtPWJvLHY9eG87eS5wb2ludFRvTG9jYWxGcmFtZShpLG4scyx2KTtsZXQgdz1NYXRoLmZsb29yKCh2LngtZCkvcCktMSxmPU1hdGguY2VpbCgodi54K2QpL3ApKzEsZz1NYXRoLmZsb29yKCh2LnktZCkvcCktMSx4PU1hdGguY2VpbCgodi55K2QpL3ApKzE7aWYoZjwwfHx4PDB8fHc+dS5sZW5ndGh8fGc+dVswXS5sZW5ndGgpcmV0dXJuO3c8MCYmKHc9MCksZjwwJiYoZj0wKSxnPDAmJihnPTApLHg8MCYmKHg9MCksdz49dS5sZW5ndGgmJih3PXUubGVuZ3RoLTEpLGY+PXUubGVuZ3RoJiYoZj11Lmxlbmd0aC0xKSx4Pj11WzBdLmxlbmd0aCYmKHg9dVswXS5sZW5ndGgtMSksZz49dVswXS5sZW5ndGgmJihnPXVbMF0ubGVuZ3RoLTEpO2NvbnN0IGI9W107ZS5nZXRSZWN0TWluTWF4KHcsZyxmLHgsYik7Y29uc3QgQT1iWzBdLEI9YlsxXTtpZih2LnotZD5CfHx2LnorZDxBKXJldHVybjtjb25zdCBFPXRoaXMucmVzdWx0O2ZvcihsZXQgbD13O2w8ZjtsKyspZm9yKGxldCBjPWc7Yzx4O2MrKyl7Y29uc3QgdT1FLmxlbmd0aDtsZXQgZD0hMTtpZihlLmdldENvbnZleFRyaWFuZ2xlUGlsbGFyKGwsYywhMSkseS5wb2ludFRvV29ybGRGcmFtZShpLG4sZS5waWxsYXJPZmZzZXQsbSkscy5kaXN0YW5jZVRvKG0pPGUucGlsbGFyQ29udmV4LmJvdW5kaW5nU3BoZXJlUmFkaXVzK3QuYm91bmRpbmdTcGhlcmVSYWRpdXMmJihkPXRoaXMuc3BoZXJlQ29udmV4KHQsZS5waWxsYXJDb252ZXgscyxtLG8sbixyLGEsdCxlLGgpKSxoJiZkKXJldHVybiEwO2lmKGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIobCxjLCEwKSx5LnBvaW50VG9Xb3JsZEZyYW1lKGksbixlLnBpbGxhck9mZnNldCxtKSxzLmRpc3RhbmNlVG8obSk8ZS5waWxsYXJDb252ZXguYm91bmRpbmdTcGhlcmVSYWRpdXMrdC5ib3VuZGluZ1NwaGVyZVJhZGl1cyYmKGQ9dGhpcy5zcGhlcmVDb252ZXgodCxlLnBpbGxhckNvbnZleCxzLG0sbyxuLHIsYSx0LGUsaCkpLGgmJmQpcmV0dXJuITA7aWYoRS5sZW5ndGgtdT4yKXJldHVybn19Ym94SGVpZ2h0ZmllbGQodCxlLHMsaSxvLG4scixhLGwsYyxoKXtyZXR1cm4gdC5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24ubWF0ZXJpYWw9dC5tYXRlcmlhbCx0LmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZT10LmNvbGxpc2lvblJlc3BvbnNlLHRoaXMuY29udmV4SGVpZ2h0ZmllbGQodC5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sZSxzLGksbyxuLHIsYSx0LGUsaCl9Y29udmV4SGVpZ2h0ZmllbGQodCxlLHMsaSxvLG4scixhLGwsYyxoKXtjb25zdCB1PWUuZGF0YSxkPWUuZWxlbWVudFNpemUscD10LmJvdW5kaW5nU3BoZXJlUmFkaXVzLG09Zm8sdj1nbyx3PXdvO3kucG9pbnRUb0xvY2FsRnJhbWUoaSxuLHMsdyk7bGV0IGY9TWF0aC5mbG9vcigody54LXApL2QpLTEsZz1NYXRoLmNlaWwoKHcueCtwKS9kKSsxLHg9TWF0aC5mbG9vcigody55LXApL2QpLTEsYj1NYXRoLmNlaWwoKHcueStwKS9kKSsxO2lmKGc8MHx8YjwwfHxmPnUubGVuZ3RofHx4PnVbMF0ubGVuZ3RoKXJldHVybjtmPDAmJihmPTApLGc8MCYmKGc9MCkseDwwJiYoeD0wKSxiPDAmJihiPTApLGY+PXUubGVuZ3RoJiYoZj11Lmxlbmd0aC0xKSxnPj11Lmxlbmd0aCYmKGc9dS5sZW5ndGgtMSksYj49dVswXS5sZW5ndGgmJihiPXVbMF0ubGVuZ3RoLTEpLHg+PXVbMF0ubGVuZ3RoJiYoeD11WzBdLmxlbmd0aC0xKTtjb25zdCBBPVtdO2UuZ2V0UmVjdE1pbk1heChmLHgsZyxiLEEpO2NvbnN0IEI9QVswXSxFPUFbMV07aWYoISh3LnotcD5FfHx3LnorcDxCKSlmb3IobGV0IGw9ZjtsPGc7bCsrKWZvcihsZXQgYz14O2M8YjtjKyspe2xldCB1PSExO2lmKGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIobCxjLCExKSx5LnBvaW50VG9Xb3JsZEZyYW1lKGksbixlLnBpbGxhck9mZnNldCxtKSxzLmRpc3RhbmNlVG8obSk8ZS5waWxsYXJDb252ZXguYm91bmRpbmdTcGhlcmVSYWRpdXMrdC5ib3VuZGluZ1NwaGVyZVJhZGl1cyYmKHU9dGhpcy5jb252ZXhDb252ZXgodCxlLnBpbGxhckNvbnZleCxzLG0sbyxuLHIsYSxudWxsLG51bGwsaCx2LG51bGwpKSxoJiZ1KXJldHVybiEwO2lmKGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIobCxjLCEwKSx5LnBvaW50VG9Xb3JsZEZyYW1lKGksbixlLnBpbGxhck9mZnNldCxtKSxzLmRpc3RhbmNlVG8obSk8ZS5waWxsYXJDb252ZXguYm91bmRpbmdTcGhlcmVSYWRpdXMrdC5ib3VuZGluZ1NwaGVyZVJhZGl1cyYmKHU9dGhpcy5jb252ZXhDb252ZXgodCxlLnBpbGxhckNvbnZleCxzLG0sbyxuLHIsYSxudWxsLG51bGwsaCx2LG51bGwpKSxoJiZ1KXJldHVybiEwfX1zcGhlcmVQYXJ0aWNsZSh0LGUscyxpLG8sbixyLGEsbCxjLGgpe2NvbnN0IHU9aG87dS5zZXQoMCwwLDEpLGkudnN1YihzLHUpO2lmKHUubGVuZ3RoU3F1YXJlZCgpPD10LnJhZGl1cyp0LnJhZGl1cyl7aWYoaClyZXR1cm4hMDtjb25zdCBzPXRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGEscixlLHQsbCxjKTt1Lm5vcm1hbGl6ZSgpLHMucmouY29weSh1KSxzLnJqLnNjYWxlKHQucmFkaXVzLHMucmopLHMubmkuY29weSh1KSxzLm5pLm5lZ2F0ZShzLm5pKSxzLnJpLnNldCgwLDAsMCksdGhpcy5yZXN1bHQucHVzaChzKSx0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3Qocyx0aGlzLmZyaWN0aW9uUmVzdWx0KX19cGxhbmVQYXJ0aWNsZSh0LGUscyxpLG8sbixyLGEsbCxjLGgpe2NvbnN0IHU9YW87dS5zZXQoMCwwLDEpLHIucXVhdGVybmlvbi52bXVsdCh1LHUpO2NvbnN0IGQ9bG87aS52c3ViKHIucG9zaXRpb24sZCk7aWYodS5kb3QoZCk8PTApe2lmKGgpcmV0dXJuITA7Y29uc3Qgcz10aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihhLHIsZSx0LGwsYyk7cy5uaS5jb3B5KHUpLHMubmkubmVnYXRlKHMubmkpLHMucmkuc2V0KDAsMCwwKTtjb25zdCBvPWNvO3Uuc2NhbGUodS5kb3QoaSksbyksaS52c3ViKG8sbykscy5yai5jb3B5KG8pLHRoaXMucmVzdWx0LnB1c2gocyksdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHMsdGhpcy5mcmljdGlvblJlc3VsdCl9fWJveFBhcnRpY2xlKHQsZSxzLGksbyxuLHIsYSxsLGMsaCl7cmV0dXJuIHQuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsPXQubWF0ZXJpYWwsdC5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uY29sbGlzaW9uUmVzcG9uc2U9dC5jb2xsaXNpb25SZXNwb25zZSx0aGlzLmNvbnZleFBhcnRpY2xlKHQuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLGUscyxpLG8sbixyLGEsdCxlLGgpfWNvbnZleFBhcnRpY2xlKHQsZSxzLGksbyxuLHIsYSxsLGMsaCl7bGV0IHU9LTE7Y29uc3QgZD15byxwPXZvO2xldCB5PW51bGw7Y29uc3QgbT1wbztpZihtLmNvcHkoaSksbS52c3ViKHMsbSksby5jb25qdWdhdGUodW8pLHVvLnZtdWx0KG0sbSksdC5wb2ludElzSW5zaWRlKG0pKXt0LndvcmxkVmVydGljZXNOZWVkc1VwZGF0ZSYmdC5jb21wdXRlV29ybGRWZXJ0aWNlcyhzLG8pLHQud29ybGRGYWNlTm9ybWFsc05lZWRzVXBkYXRlJiZ0LmNvbXB1dGVXb3JsZEZhY2VOb3JtYWxzKG8pO2ZvcihsZXQgZT0wLHM9dC5mYWNlcy5sZW5ndGg7ZSE9PXM7ZSsrKXtjb25zdCBzPVt0LndvcmxkVmVydGljZXNbdC5mYWNlc1tlXVswXV1dLG89dC53b3JsZEZhY2VOb3JtYWxzW2VdO2kudnN1YihzWzBdLG1vKTtjb25zdCBuPS1vLmRvdChtbyk7aWYobnVsbD09PXl8fE1hdGguYWJzKG4pPE1hdGguYWJzKHkpKXtpZihoKXJldHVybiEwO3k9bix1PWUsZC5jb3B5KG8pfX1pZigtMSE9PXUpe2NvbnN0IG89dGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYSxyLGUsdCxsLGMpO2Quc2NhbGUoeSxwKSxwLnZhZGQoaSxwKSxwLnZzdWIocyxwKSxvLnJqLmNvcHkocCksZC5uZWdhdGUoby5uaSksby5yaS5zZXQoMCwwLDApO2NvbnN0IG49by5yaSxoPW8ucmo7bi52YWRkKGksbiksbi52c3ViKGEucG9zaXRpb24sbiksaC52YWRkKHMsaCksaC52c3ViKHIucG9zaXRpb24saCksdGhpcy5yZXN1bHQucHVzaChvKSx0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3Qobyx0aGlzLmZyaWN0aW9uUmVzdWx0KX1lbHNlIGNvbnNvbGUud2FybigiUG9pbnQgZm91bmQgaW5zaWRlIGNvbnZleCwgYnV0IGRpZCBub3QgZmluZCBwZW5ldHJhdGluZyBmYWNlISIpfX1oZWlnaHRmaWVsZEN5bGluZGVyKHQsZSxzLGksbyxuLHIsYSxsLGMsaCl7cmV0dXJuIHRoaXMuY29udmV4SGVpZ2h0ZmllbGQoZSx0LGkscyxuLG8sYSxyLGwsYyxoKX1wYXJ0aWNsZUN5bGluZGVyKHQsZSxzLGksbyxuLHIsYSxsLGMsaCl7cmV0dXJuIHRoaXMuY29udmV4UGFydGljbGUoZSx0LGkscyxuLG8sYSxyLGwsYyxoKX1zcGhlcmVUcmltZXNoKHQsZSxzLGksbyxuLHIsYSxsLGMsaCl7Y29uc3QgdT1naSxkPXhpLHA9YmksbT1BaSx2PUJpLHc9RWksZj1DaSxnPWZpLHg9dmksYj1NaTt5LnBvaW50VG9Mb2NhbEZyYW1lKGksbixzLHYpO2NvbnN0IEE9dC5yYWRpdXM7Zi5sb3dlckJvdW5kLnNldCh2LngtQSx2LnktQSx2LnotQSksZi51cHBlckJvdW5kLnNldCh2LngrQSx2LnkrQSx2LnorQSksZS5nZXRUcmlhbmdsZXNJbkFBQkIoZixiKTtjb25zdCBCPXdpLEU9dC5yYWRpdXMqdC5yYWRpdXM7Zm9yKGxldCBvPTA7bzxiLmxlbmd0aDtvKyspZm9yKGxldCB1PTA7dTwzO3UrKylpZihlLmdldFZlcnRleChlLmluZGljZXNbMypiW29dK3VdLEIpLEIudnN1Yih2LHgpLHgubGVuZ3RoU3F1YXJlZCgpPD1FKXtpZihnLmNvcHkoQikseS5wb2ludFRvV29ybGRGcmFtZShpLG4sZyxCKSxCLnZzdWIocyx4KSxoKXJldHVybiEwO2xldCBvPXRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHIsYSx0LGUsbCxjKTtvLm5pLmNvcHkoeCksby5uaS5ub3JtYWxpemUoKSxvLnJpLmNvcHkoby5uaSksby5yaS5zY2FsZSh0LnJhZGl1cyxvLnJpKSxvLnJpLnZhZGQocyxvLnJpKSxvLnJpLnZzdWIoci5wb3NpdGlvbixvLnJpKSxvLnJqLmNvcHkoQiksby5yai52c3ViKGEucG9zaXRpb24sby5yaiksdGhpcy5yZXN1bHQucHVzaChvKSx0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3Qobyx0aGlzLmZyaWN0aW9uUmVzdWx0KX1mb3IobGV0IG89MDtvPGIubGVuZ3RoO28rKylmb3IobGV0IGY9MDtmPDM7ZisrKXtlLmdldFZlcnRleChlLmluZGljZXNbMypiW29dK2ZdLHUpLGUuZ2V0VmVydGV4KGUuaW5kaWNlc1szKmJbb10rKGYrMSklM10sZCksZC52c3ViKHUscCksdi52c3ViKGQsdyk7Y29uc3QgZz13LmRvdChwKTt2LnZzdWIodSx3KTtsZXQgeD13LmRvdChwKTtpZih4PjAmJmc8MCl7di52c3ViKHUsdyksbS5jb3B5KHApLG0ubm9ybWFsaXplKCkseD13LmRvdChtKSxtLnNjYWxlKHgsdyksdy52YWRkKHUsdyk7aWYody5kaXN0YW5jZVRvKHYpPHQucmFkaXVzKXtpZihoKXJldHVybiEwO2NvbnN0IG89dGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24ocixhLHQsZSxsLGMpO3cudnN1Yih2LG8ubmkpLG8ubmkubm9ybWFsaXplKCksby5uaS5zY2FsZSh0LnJhZGl1cyxvLnJpKSxvLnJpLnZhZGQocyxvLnJpKSxvLnJpLnZzdWIoci5wb3NpdGlvbixvLnJpKSx5LnBvaW50VG9Xb3JsZEZyYW1lKGksbix3LHcpLHcudnN1YihhLnBvc2l0aW9uLG8ucmopLHkudmVjdG9yVG9Xb3JsZEZyYW1lKG4sby5uaSxvLm5pKSx5LnZlY3RvclRvV29ybGRGcmFtZShuLG8ucmksby5yaSksdGhpcy5yZXN1bHQucHVzaChvKSx0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3Qobyx0aGlzLmZyaWN0aW9uUmVzdWx0KX19fWNvbnN0IFM9U2ksej16aSxGPUZpLEM9bWk7Zm9yKGxldCBvPTAsdT1iLmxlbmd0aDtvIT09dTtvKyspe2UuZ2V0VHJpYW5nbGVWZXJ0aWNlcyhiW29dLFMseixGKSxlLmdldE5vcm1hbChiW29dLEMpLHYudnN1YihTLHcpO2xldCB1PXcuZG90KEMpO2lmKEMuc2NhbGUodSx3KSx2LnZzdWIodyx3KSx1PXcuZGlzdGFuY2VUbyh2KSxZLnBvaW50SW5UcmlhbmdsZSh3LFMseixGKSYmdTx0LnJhZGl1cyl7aWYoaClyZXR1cm4hMDtsZXQgbz10aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihyLGEsdCxlLGwsYyk7dy52c3ViKHYsby5uaSksby5uaS5ub3JtYWxpemUoKSxvLm5pLnNjYWxlKHQucmFkaXVzLG8ucmkpLG8ucmkudmFkZChzLG8ucmkpLG8ucmkudnN1YihyLnBvc2l0aW9uLG8ucmkpLHkucG9pbnRUb1dvcmxkRnJhbWUoaSxuLHcsdyksdy52c3ViKGEucG9zaXRpb24sby5yaikseS52ZWN0b3JUb1dvcmxkRnJhbWUobixvLm5pLG8ubmkpLHkudmVjdG9yVG9Xb3JsZEZyYW1lKG4sby5yaSxvLnJpKSx0aGlzLnJlc3VsdC5wdXNoKG8pLHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChvLHRoaXMuZnJpY3Rpb25SZXN1bHQpfX1iLmxlbmd0aD0wfXBsYW5lVHJpbWVzaCh0LHMsaSxvLG4scixhLGwsYyxoLHUpe2NvbnN0IGQ9bmV3IGUscD1kaTtwLnNldCgwLDAsMSksbi52bXVsdChwLHApO2ZvcihsZXQgbj0wO248cy52ZXJ0aWNlcy5sZW5ndGgvMztuKyspe3MuZ2V0VmVydGV4KG4sZCk7Y29uc3QgbT1uZXcgZTttLmNvcHkoZCkseS5wb2ludFRvV29ybGRGcmFtZShvLHIsbSxkKTtjb25zdCB2PXBpO2QudnN1YihpLHYpO2lmKHAuZG90KHYpPD0wKXtpZih1KXJldHVybiEwO2NvbnN0IGU9dGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYSxsLHQscyxjLGgpO2UubmkuY29weShwKTtjb25zdCBpPXlpO3Auc2NhbGUodi5kb3QocCksaSksZC52c3ViKGksaSksZS5yaS5jb3B5KGkpLGUucmkudnN1YihhLnBvc2l0aW9uLGUucmkpLGUucmouY29weShkKSxlLnJqLnZzdWIobC5wb3NpdGlvbixlLnJqKSx0aGlzLnJlc3VsdC5wdXNoKGUpLHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChlLHRoaXMuZnJpY3Rpb25SZXN1bHQpfX19fWNvbnN0IG5pPW5ldyBlLHJpPW5ldyBlLGFpPW5ldyBlLGxpPW5ldyBlLGNpPW5ldyBlLGhpPW5ldyBoLHVpPW5ldyBoO29pLnByb3RvdHlwZVtQc109b2kucHJvdG90eXBlLmJveEJveCxvaS5wcm90b3R5cGVbT3NdPW9pLnByb3RvdHlwZS5ib3hDb252ZXgsb2kucHJvdG90eXBlW1hzXT1vaS5wcm90b3R5cGUuYm94UGFydGljbGUsb2kucHJvdG90eXBlW0xzXT1vaS5wcm90b3R5cGUuc3BoZXJlU3BoZXJlO2NvbnN0IGRpPW5ldyBlLHBpPW5ldyBlLHlpPW5ldyBlO29pLnByb3RvdHlwZVtpaV09b2kucHJvdG90eXBlLnBsYW5lVHJpbWVzaDtjb25zdCBtaT1uZXcgZSx2aT1uZXcgZSx3aT1uZXcgZSxmaT1uZXcgZSxnaT1uZXcgZSx4aT1uZXcgZSxiaT1uZXcgZSxBaT1uZXcgZSxCaT1uZXcgZSxFaT1uZXcgZSxTaT1uZXcgZSx6aT1uZXcgZSxGaT1uZXcgZSxDaT1uZXcgbixNaT1bXTtvaS5wcm90b3R5cGVbc2ldPW9pLnByb3RvdHlwZS5zcGhlcmVUcmltZXNoO2NvbnN0IFJpPW5ldyBlLElpPW5ldyBlO29pLnByb3RvdHlwZVtxc109b2kucHJvdG90eXBlLnNwaGVyZVBsYW5lO2NvbnN0IFRpPW5ldyBlLExpPW5ldyBlLHFpPW5ldyBlO2Z1bmN0aW9uIFBpKHQsZSxzKXtsZXQgaT1udWxsO2NvbnN0IG89dC5sZW5ndGg7Zm9yKGxldCBuPTA7biE9PW87bisrKXtjb25zdCByPXRbbl0sYT1UaTt0WyhuKzEpJW9dLnZzdWIocixhKTtjb25zdCBsPUxpO2EuY3Jvc3MoZSxsKTtjb25zdCBjPXFpO3MudnN1YihyLGMpO2NvbnN0IGg9bC5kb3QoYyk7aWYoIShudWxsPT09aXx8aD4wJiYhMD09PWl8fGg8PTAmJiExPT09aSkpcmV0dXJuITE7bnVsbD09PWkmJihpPWg+MCl9cmV0dXJuITB9Y29uc3QgTmk9bmV3IGUsV2k9bmV3IGUsVmk9bmV3IGUsa2k9bmV3IGUsamk9W25ldyBlLG5ldyBlLG5ldyBlLG5ldyBlLG5ldyBlLG5ldyBlXSxPaT1uZXcgZSxfaT1uZXcgZSxEaT1uZXcgZSxIaT1uZXcgZTtvaS5wcm90b3R5cGVbTnNdPW9pLnByb3RvdHlwZS5zcGhlcmVCb3g7Y29uc3QgVWk9bmV3IGUsR2k9bmV3IGUsWGk9bmV3IGUsWWk9bmV3IGUsWmk9bmV3IGUsS2k9bmV3IGUsUWk9bmV3IGUsSmk9bmV3IGUsJGk9bmV3IGUsdG89bmV3IGU7b2kucHJvdG90eXBlW2tzXT1vaS5wcm90b3R5cGUuc3BoZXJlQ29udmV4LG9pLnByb3RvdHlwZVtXc109b2kucHJvdG90eXBlLnBsYW5lQm94O2NvbnN0IGVvPW5ldyBlLHNvPW5ldyBlLGlvPW5ldyBlLG9vPW5ldyBlO29pLnByb3RvdHlwZVtqc109b2kucHJvdG90eXBlLnBsYW5lQ29udmV4O2NvbnN0IG5vPW5ldyBlLHJvPW5ldyBlO29pLnByb3RvdHlwZVtWc109b2kucHJvdG90eXBlLmNvbnZleENvbnZleDtjb25zdCBhbz1uZXcgZSxsbz1uZXcgZSxjbz1uZXcgZTtvaS5wcm90b3R5cGVbR3NdPW9pLnByb3RvdHlwZS5wbGFuZVBhcnRpY2xlO2NvbnN0IGhvPW5ldyBlO29pLnByb3RvdHlwZVtVc109b2kucHJvdG90eXBlLnNwaGVyZVBhcnRpY2xlLG9pLnByb3RvdHlwZVtac109b2kucHJvdG90eXBlLmNvbnZleENvbnZleCxvaS5wcm90b3R5cGVbS3NdPW9pLnByb3RvdHlwZS5zcGhlcmVDb252ZXgsb2kucHJvdG90eXBlW1FzXT1vaS5wcm90b3R5cGUucGxhbmVDb252ZXgsb2kucHJvdG90eXBlW0pzXT1vaS5wcm90b3R5cGUuYm94Q29udmV4LG9pLnByb3RvdHlwZVskc109b2kucHJvdG90eXBlLmNvbnZleENvbnZleCxvaS5wcm90b3R5cGVbdGldPW9pLnByb3RvdHlwZS5oZWlnaHRmaWVsZEN5bGluZGVyLG9pLnByb3RvdHlwZVtlaV09b2kucHJvdG90eXBlLnBhcnRpY2xlQ3lsaW5kZXI7Y29uc3QgdW89bmV3IGgscG89bmV3IGUseW89bmV3IGUsbW89bmV3IGUsdm89bmV3IGU7b2kucHJvdG90eXBlW1lzXT1vaS5wcm90b3R5cGUuY29udmV4UGFydGljbGUsb2kucHJvdG90eXBlW0RzXT1vaS5wcm90b3R5cGUuYm94SGVpZ2h0ZmllbGQ7Y29uc3Qgd289bmV3IGUsZm89bmV3IGUsZ289WzBdO29pLnByb3RvdHlwZVtIc109b2kucHJvdG90eXBlLmNvbnZleEhlaWdodGZpZWxkO2NvbnN0IHhvPW5ldyBlLGJvPW5ldyBlO29pLnByb3RvdHlwZVtfc109b2kucHJvdG90eXBlLnNwaGVyZUhlaWdodGZpZWxkO2NsYXNzIEFve2NvbnN0cnVjdG9yKCl7dGhpcy5jdXJyZW50PVtdLHRoaXMucHJldmlvdXM9W119Z2V0S2V5KHQsZSl7aWYoZTx0KXtjb25zdCBzPWU7ZT10LHQ9c31yZXR1cm4gdDw8MTZ8ZX1zZXQodCxlKXtjb25zdCBzPXRoaXMuZ2V0S2V5KHQsZSksaT10aGlzLmN1cnJlbnQ7bGV0IG89MDtmb3IoO3M+aVtvXTspbysrO2lmKHMhPT1pW29dKXtmb3IobGV0IHQ9aS5sZW5ndGgtMTt0Pj1vO3QtLSlpW3QrMV09aVt0XTtpW29dPXN9fXRpY2soKXtjb25zdCB0PXRoaXMuY3VycmVudDt0aGlzLmN1cnJlbnQ9dGhpcy5wcmV2aW91cyx0aGlzLnByZXZpb3VzPXQsdGhpcy5jdXJyZW50Lmxlbmd0aD0wfWdldERpZmYodCxlKXtjb25zdCBzPXRoaXMuY3VycmVudCxpPXRoaXMucHJldmlvdXMsbz1zLmxlbmd0aCxuPWkubGVuZ3RoO2xldCByPTA7Zm9yKGxldCBlPTA7ZTxvO2UrKyl7bGV0IG89ITE7Y29uc3Qgbj1zW2VdO2Zvcig7bj5pW3JdOylyKys7bz1uPT09aVtyXSxvfHxCbyh0LG4pfXI9MDtmb3IobGV0IHQ9MDt0PG47dCsrKXtsZXQgbz0hMTtjb25zdCBuPWlbdF07Zm9yKDtuPnNbcl07KXIrKztvPXNbcl09PT1uLG98fEJvKGUsbil9fX1mdW5jdGlvbiBCbyh0LGUpe3QucHVzaCgoNDI5NDkwMTc2MCZlKT4+MTYsNjU1MzUmZSl9Y2xhc3MgRW97Y29uc3RydWN0b3IoKXt0aGlzLmRhdGE9e2tleXM6W119fWdldCh0LGUpe2lmKHQ+ZSl7Y29uc3Qgcz1lO2U9dCx0PXN9cmV0dXJuIHRoaXMuZGF0YVt0KyItIitlXX1zZXQodCxlLHMpe2lmKHQ+ZSl7Y29uc3Qgcz1lO2U9dCx0PXN9Y29uc3QgaT10KyItIitlO3RoaXMuZ2V0KHQsZSl8fHRoaXMuZGF0YS5rZXlzLnB1c2goaSksdGhpcy5kYXRhW2ldPXN9cmVzZXQoKXtjb25zdCB0PXRoaXMuZGF0YSxlPXQua2V5cztmb3IoO2UubGVuZ3RoPjA7KXtkZWxldGUgdFtlLnBvcCgpXX19fWNsYXNzIFNvIGV4dGVuZHMgY3tjb25zdHJ1Y3Rvcih0PXt9KXtzdXBlcigpLHRoaXMuZHQ9LTEsdGhpcy5hbGxvd1NsZWVwPSEhdC5hbGxvd1NsZWVwLHRoaXMuY29udGFjdHM9W10sdGhpcy5mcmljdGlvbkVxdWF0aW9ucz1bXSx0aGlzLnF1YXROb3JtYWxpemVTa2lwPXZvaWQgMCE9PXQucXVhdE5vcm1hbGl6ZVNraXA/dC5xdWF0Tm9ybWFsaXplU2tpcDowLHRoaXMucXVhdE5vcm1hbGl6ZUZhc3Q9dm9pZCAwIT09dC5xdWF0Tm9ybWFsaXplRmFzdCYmdC5xdWF0Tm9ybWFsaXplRmFzdCx0aGlzLnRpbWU9MCx0aGlzLnN0ZXBudW1iZXI9MCx0aGlzLmRlZmF1bHRfZHQ9MS82MCx0aGlzLm5leHRJZD0wLHRoaXMuZ3Jhdml0eT1uZXcgZSx0LmdyYXZpdHkmJnRoaXMuZ3Jhdml0eS5jb3B5KHQuZ3Jhdml0eSksdGhpcy5icm9hZHBoYXNlPXZvaWQgMCE9PXQuYnJvYWRwaGFzZT90LmJyb2FkcGhhc2U6bmV3IEcsdGhpcy5ib2RpZXM9W10sdGhpcy5oYXNBY3RpdmVCb2RpZXM9ITEsdGhpcy5zb2x2ZXI9dm9pZCAwIT09dC5zb2x2ZXI/dC5zb2x2ZXI6bmV3IENzLHRoaXMuY29uc3RyYWludHM9W10sdGhpcy5uYXJyb3dwaGFzZT1uZXcgb2kodGhpcyksdGhpcy5jb2xsaXNpb25NYXRyaXg9bmV3IGwsdGhpcy5jb2xsaXNpb25NYXRyaXhQcmV2aW91cz1uZXcgbCx0aGlzLmJvZHlPdmVybGFwS2VlcGVyPW5ldyBBbyx0aGlzLnNoYXBlT3ZlcmxhcEtlZXBlcj1uZXcgQW8sdGhpcy5tYXRlcmlhbHM9W10sdGhpcy5jb250YWN0bWF0ZXJpYWxzPVtdLHRoaXMuY29udGFjdE1hdGVyaWFsVGFibGU9bmV3IEVvLHRoaXMuZGVmYXVsdE1hdGVyaWFsPW5ldyBsZSgiZGVmYXVsdCIpLHRoaXMuZGVmYXVsdENvbnRhY3RNYXRlcmlhbD1uZXcgYWUodGhpcy5kZWZhdWx0TWF0ZXJpYWwsdGhpcy5kZWZhdWx0TWF0ZXJpYWwse2ZyaWN0aW9uOi4zLHJlc3RpdHV0aW9uOjB9KSx0aGlzLmRvUHJvZmlsaW5nPSExLHRoaXMucHJvZmlsZT17c29sdmU6MCxtYWtlQ29udGFjdENvbnN0cmFpbnRzOjAsYnJvYWRwaGFzZTowLGludGVncmF0ZTowLG5hcnJvd3BoYXNlOjB9LHRoaXMuYWNjdW11bGF0b3I9MCx0aGlzLnN1YnN5c3RlbXM9W10sdGhpcy5hZGRCb2R5RXZlbnQ9e3R5cGU6ImFkZEJvZHkiLGJvZHk6bnVsbH0sdGhpcy5yZW1vdmVCb2R5RXZlbnQ9e3R5cGU6InJlbW92ZUJvZHkiLGJvZHk6bnVsbH0sdGhpcy5pZFRvQm9keU1hcD17fSx0aGlzLmJyb2FkcGhhc2Uuc2V0V29ybGQodGhpcyl9Z2V0Q29udGFjdE1hdGVyaWFsKHQsZSl7cmV0dXJuIHRoaXMuY29udGFjdE1hdGVyaWFsVGFibGUuZ2V0KHQuaWQsZS5pZCl9bnVtT2JqZWN0cygpe3JldHVybiB0aGlzLmJvZGllcy5sZW5ndGh9Y29sbGlzaW9uTWF0cml4VGljaygpe2NvbnN0IHQ9dGhpcy5jb2xsaXNpb25NYXRyaXhQcmV2aW91czt0aGlzLmNvbGxpc2lvbk1hdHJpeFByZXZpb3VzPXRoaXMuY29sbGlzaW9uTWF0cml4LHRoaXMuY29sbGlzaW9uTWF0cml4PXQsdGhpcy5jb2xsaXNpb25NYXRyaXgucmVzZXQoKSx0aGlzLmJvZHlPdmVybGFwS2VlcGVyLnRpY2soKSx0aGlzLnNoYXBlT3ZlcmxhcEtlZXBlci50aWNrKCl9YWRkQ29uc3RyYWludCh0KXt0aGlzLmNvbnN0cmFpbnRzLnB1c2godCl9cmVtb3ZlQ29uc3RyYWludCh0KXtjb25zdCBlPXRoaXMuY29uc3RyYWludHMuaW5kZXhPZih0KTstMSE9PWUmJnRoaXMuY29uc3RyYWludHMuc3BsaWNlKGUsMSl9cmF5VGVzdCh0LGUscyl7cyBpbnN0YW5jZW9mIFg/dGhpcy5yYXljYXN0Q2xvc2VzdCh0LGUse3NraXBCYWNrZmFjZXM6ITB9LHMpOnRoaXMucmF5Y2FzdEFsbCh0LGUse3NraXBCYWNrZmFjZXM6ITB9LHMpfXJheWNhc3RBbGwodCxlLHM9e30saSl7cmV0dXJuIHMubW9kZT1ZLkFMTCxzLmZyb209dCxzLnRvPWUscy5jYWxsYmFjaz1pLHpvLmludGVyc2VjdFdvcmxkKHRoaXMscyl9cmF5Y2FzdEFueSh0LGUscz17fSxpKXtyZXR1cm4gcy5tb2RlPVkuQU5ZLHMuZnJvbT10LHMudG89ZSxzLnJlc3VsdD1pLHpvLmludGVyc2VjdFdvcmxkKHRoaXMscyl9cmF5Y2FzdENsb3Nlc3QodCxlLHM9e30saSl7cmV0dXJuIHMubW9kZT1ZLkNMT1NFU1Qscy5mcm9tPXQscy50bz1lLHMucmVzdWx0PWksem8uaW50ZXJzZWN0V29ybGQodGhpcyxzKX1hZGRCb2R5KHQpe3RoaXMuYm9kaWVzLmluY2x1ZGVzKHQpfHwodC5pbmRleD10aGlzLmJvZGllcy5sZW5ndGgsdGhpcy5ib2RpZXMucHVzaCh0KSx0LndvcmxkPXRoaXMsdC5pbml0UG9zaXRpb24uY29weSh0LnBvc2l0aW9uKSx0LmluaXRWZWxvY2l0eS5jb3B5KHQudmVsb2NpdHkpLHQudGltZUxhc3RTbGVlcHk9dGhpcy50aW1lLHQgaW5zdGFuY2VvZiBGJiYodC5pbml0QW5ndWxhclZlbG9jaXR5LmNvcHkodC5hbmd1bGFyVmVsb2NpdHkpLHQuaW5pdFF1YXRlcm5pb24uY29weSh0LnF1YXRlcm5pb24pKSx0aGlzLmNvbGxpc2lvbk1hdHJpeC5zZXROdW1PYmplY3RzKHRoaXMuYm9kaWVzLmxlbmd0aCksdGhpcy5hZGRCb2R5RXZlbnQuYm9keT10LHRoaXMuaWRUb0JvZHlNYXBbdC5pZF09dCx0aGlzLmRpc3BhdGNoRXZlbnQodGhpcy5hZGRCb2R5RXZlbnQpKX1yZW1vdmVCb2R5KHQpe3Qud29ybGQ9bnVsbDtjb25zdCBlPXRoaXMuYm9kaWVzLmxlbmd0aC0xLHM9dGhpcy5ib2RpZXMsaT1zLmluZGV4T2YodCk7aWYoLTEhPT1pKXtzLnNwbGljZShpLDEpO2ZvcihsZXQgdD0wO3QhPT1zLmxlbmd0aDt0Kyspc1t0XS5pbmRleD10O3RoaXMuY29sbGlzaW9uTWF0cml4LnNldE51bU9iamVjdHMoZSksdGhpcy5yZW1vdmVCb2R5RXZlbnQuYm9keT10LGRlbGV0ZSB0aGlzLmlkVG9Cb2R5TWFwW3QuaWRdLHRoaXMuZGlzcGF0Y2hFdmVudCh0aGlzLnJlbW92ZUJvZHlFdmVudCl9fWdldEJvZHlCeUlkKHQpe3JldHVybiB0aGlzLmlkVG9Cb2R5TWFwW3RdfWdldFNoYXBlQnlJZCh0KXtjb25zdCBlPXRoaXMuYm9kaWVzO2ZvcihsZXQgcz0wLGk9ZS5sZW5ndGg7czxpO3MrKyl7Y29uc3QgaT1lW3NdLnNoYXBlcztmb3IobGV0IGU9MCxzPWkubGVuZ3RoO2U8cztlKyspe2NvbnN0IHM9aVtlXTtpZihzLmlkPT09dClyZXR1cm4gc319fWFkZE1hdGVyaWFsKHQpe3RoaXMubWF0ZXJpYWxzLnB1c2godCl9YWRkQ29udGFjdE1hdGVyaWFsKHQpe3RoaXMuY29udGFjdG1hdGVyaWFscy5wdXNoKHQpLHRoaXMuY29udGFjdE1hdGVyaWFsVGFibGUuc2V0KHQubWF0ZXJpYWxzWzBdLmlkLHQubWF0ZXJpYWxzWzFdLmlkLHQpfXN0ZXAodCxlLHM9MTApe2lmKHZvaWQgMD09PWUpdGhpcy5pbnRlcm5hbFN0ZXAodCksdGhpcy50aW1lKz10O2Vsc2V7dGhpcy5hY2N1bXVsYXRvcis9ZTtjb25zdCBpPUZvLm5vdygpO2xldCBvPTA7Zm9yKDt0aGlzLmFjY3VtdWxhdG9yPj10JiZvPHMmJih0aGlzLmludGVybmFsU3RlcCh0KSx0aGlzLmFjY3VtdWxhdG9yLT10LG8rKywhKEZvLm5vdygpLWk+MWUzKnQpKTspO3RoaXMuYWNjdW11bGF0b3I9dGhpcy5hY2N1bXVsYXRvciV0O2NvbnN0IG49dGhpcy5hY2N1bXVsYXRvci90O2ZvcihsZXQgdD0wO3QhPT10aGlzLmJvZGllcy5sZW5ndGg7dCsrKXtjb25zdCBlPXRoaXMuYm9kaWVzW3RdO2UucHJldmlvdXNQb3NpdGlvbi5sZXJwKGUucG9zaXRpb24sbixlLmludGVycG9sYXRlZFBvc2l0aW9uKSxlLnByZXZpb3VzUXVhdGVybmlvbi5zbGVycChlLnF1YXRlcm5pb24sbixlLmludGVycG9sYXRlZFF1YXRlcm5pb24pLGUucHJldmlvdXNRdWF0ZXJuaW9uLm5vcm1hbGl6ZSgpfXRoaXMudGltZSs9ZX19aW50ZXJuYWxTdGVwKHQpe3RoaXMuZHQ9dDtjb25zdCBlPXRoaXMuY29udGFjdHMscz1MbyxpPXFvLG89dGhpcy5udW1PYmplY3RzKCksbj10aGlzLmJvZGllcyxyPXRoaXMuc29sdmVyLGE9dGhpcy5ncmF2aXR5LGw9dGhpcy5kb1Byb2ZpbGluZyxjPXRoaXMucHJvZmlsZSxoPUYuRFlOQU1JQztsZXQgdT0tMS8wO2NvbnN0IGQ9dGhpcy5jb25zdHJhaW50cyxwPVRvO2EubGVuZ3RoKCk7Y29uc3QgeT1hLngsbT1hLnksdj1hLno7bGV0IHc9MDtmb3IobCYmKHU9Rm8ubm93KCkpLHc9MDt3IT09bzt3Kyspe2NvbnN0IHQ9blt3XTtpZih0LnR5cGU9PT1oKXtjb25zdCBlPXQuZm9yY2Uscz10Lm1hc3M7ZS54Kz1zKnksZS55Kz1zKm0sZS56Kz1zKnZ9fWZvcihsZXQgdD0wLGU9dGhpcy5zdWJzeXN0ZW1zLmxlbmd0aDt0IT09ZTt0KyspdGhpcy5zdWJzeXN0ZW1zW3RdLnVwZGF0ZSgpO2wmJih1PUZvLm5vdygpKSxzLmxlbmd0aD0wLGkubGVuZ3RoPTAsdGhpcy5icm9hZHBoYXNlLmNvbGxpc2lvblBhaXJzKHRoaXMscyxpKSxsJiYoYy5icm9hZHBoYXNlPUZvLm5vdygpLXUpO2xldCBmPWQubGVuZ3RoO2Zvcih3PTA7dyE9PWY7dysrKXtjb25zdCB0PWRbd107aWYoIXQuY29sbGlkZUNvbm5lY3RlZClmb3IobGV0IGU9cy5sZW5ndGgtMTtlPj0wO2UtPTEpKHQuYm9keUE9PT1zW2VdJiZ0LmJvZHlCPT09aVtlXXx8dC5ib2R5Qj09PXNbZV0mJnQuYm9keUE9PT1pW2VdKSYmKHMuc3BsaWNlKGUsMSksaS5zcGxpY2UoZSwxKSl9dGhpcy5jb2xsaXNpb25NYXRyaXhUaWNrKCksbCYmKHU9Rm8ubm93KCkpO2NvbnN0IGc9SW8seD1lLmxlbmd0aDtmb3Iodz0wO3chPT14O3crKylnLnB1c2goZVt3XSk7ZS5sZW5ndGg9MDtjb25zdCBiPXRoaXMuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RoO2Zvcih3PTA7dyE9PWI7dysrKXAucHVzaCh0aGlzLmZyaWN0aW9uRXF1YXRpb25zW3ddKTtmb3IodGhpcy5mcmljdGlvbkVxdWF0aW9ucy5sZW5ndGg9MCx0aGlzLm5hcnJvd3BoYXNlLmdldENvbnRhY3RzKHMsaSx0aGlzLGUsZyx0aGlzLmZyaWN0aW9uRXF1YXRpb25zLHApLGwmJihjLm5hcnJvd3BoYXNlPUZvLm5vdygpLXUpLGwmJih1PUZvLm5vdygpKSx3PTA7dzx0aGlzLmZyaWN0aW9uRXF1YXRpb25zLmxlbmd0aDt3Kyspci5hZGRFcXVhdGlvbih0aGlzLmZyaWN0aW9uRXF1YXRpb25zW3ddKTtjb25zdCBBPWUubGVuZ3RoO2ZvcihsZXQgdD0wO3QhPT1BO3QrKyl7Y29uc3Qgcz1lW3RdLGk9cy5iaSxvPXMuYmosbj1zLnNpLGE9cy5zajtsZXQgbDtpZihsPWkubWF0ZXJpYWwmJm8ubWF0ZXJpYWwmJnRoaXMuZ2V0Q29udGFjdE1hdGVyaWFsKGkubWF0ZXJpYWwsby5tYXRlcmlhbCl8fHRoaXMuZGVmYXVsdENvbnRhY3RNYXRlcmlhbCxsLmZyaWN0aW9uLGkubWF0ZXJpYWwmJm8ubWF0ZXJpYWwmJihpLm1hdGVyaWFsLmZyaWN0aW9uPj0wJiZvLm1hdGVyaWFsLmZyaWN0aW9uPj0wJiYoaS5tYXRlcmlhbC5mcmljdGlvbixvLm1hdGVyaWFsLmZyaWN0aW9uKSxpLm1hdGVyaWFsLnJlc3RpdHV0aW9uPj0wJiZvLm1hdGVyaWFsLnJlc3RpdHV0aW9uPj0wJiYocy5yZXN0aXR1dGlvbj1pLm1hdGVyaWFsLnJlc3RpdHV0aW9uKm8ubWF0ZXJpYWwucmVzdGl0dXRpb24pKSxyLmFkZEVxdWF0aW9uKHMpLGkuYWxsb3dTbGVlcCYmaS50eXBlPT09Ri5EWU5BTUlDJiZpLnNsZWVwU3RhdGU9PT1GLlNMRUVQSU5HJiZvLnNsZWVwU3RhdGU9PT1GLkFXQUtFJiZvLnR5cGUhPT1GLlNUQVRJQyl7by52ZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCkrby5hbmd1bGFyVmVsb2NpdHkubGVuZ3RoU3F1YXJlZCgpPj0yKm8uc2xlZXBTcGVlZExpbWl0KioyJiYoaS53YWtlVXBBZnRlck5hcnJvd3BoYXNlPSEwKX1pZihvLmFsbG93U2xlZXAmJm8udHlwZT09PUYuRFlOQU1JQyYmby5zbGVlcFN0YXRlPT09Ri5TTEVFUElORyYmaS5zbGVlcFN0YXRlPT09Ri5BV0FLRSYmaS50eXBlIT09Ri5TVEFUSUMpe2kudmVsb2NpdHkubGVuZ3RoU3F1YXJlZCgpK2kuYW5ndWxhclZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKT49MippLnNsZWVwU3BlZWRMaW1pdCoqMiYmKG8ud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZT0hMCl9dGhpcy5jb2xsaXNpb25NYXRyaXguc2V0KGksbywhMCksdGhpcy5jb2xsaXNpb25NYXRyaXhQcmV2aW91cy5nZXQoaSxvKXx8KFJvLmJvZHk9byxSby5jb250YWN0PXMsaS5kaXNwYXRjaEV2ZW50KFJvKSxSby5ib2R5PWksby5kaXNwYXRjaEV2ZW50KFJvKSksdGhpcy5ib2R5T3ZlcmxhcEtlZXBlci5zZXQoaS5pZCxvLmlkKSx0aGlzLnNoYXBlT3ZlcmxhcEtlZXBlci5zZXQobi5pZCxhLmlkKX1mb3IodGhpcy5lbWl0Q29udGFjdEV2ZW50cygpLGwmJihjLm1ha2VDb250YWN0Q29uc3RyYWludHM9Rm8ubm93KCktdSx1PUZvLm5vdygpKSx3PTA7dyE9PW87dysrKXtjb25zdCB0PW5bd107dC53YWtlVXBBZnRlck5hcnJvd3BoYXNlJiYodC53YWtlVXAoKSx0Lndha2VVcEFmdGVyTmFycm93cGhhc2U9ITEpfWZvcihmPWQubGVuZ3RoLHc9MDt3IT09Zjt3Kyspe2NvbnN0IHQ9ZFt3XTt0LnVwZGF0ZSgpO2ZvcihsZXQgZT0wLHM9dC5lcXVhdGlvbnMubGVuZ3RoO2UhPT1zO2UrKyl7Y29uc3Qgcz10LmVxdWF0aW9uc1tlXTtyLmFkZEVxdWF0aW9uKHMpfX1yLnNvbHZlKHQsdGhpcyksbCYmKGMuc29sdmU9Rm8ubm93KCktdSksci5yZW1vdmVBbGxFcXVhdGlvbnMoKTtjb25zdCBCPU1hdGgucG93O2Zvcih3PTA7dyE9PW87dysrKXtjb25zdCBlPW5bd107aWYoZS50eXBlJmgpe2NvbnN0IHM9QigxLWUubGluZWFyRGFtcGluZyx0KSxpPWUudmVsb2NpdHk7aS5zY2FsZShzLGkpO2NvbnN0IG89ZS5hbmd1bGFyVmVsb2NpdHk7aWYobyl7Y29uc3Qgcz1CKDEtZS5hbmd1bGFyRGFtcGluZyx0KTtvLnNjYWxlKHMsbyl9fX1mb3IodGhpcy5kaXNwYXRjaEV2ZW50KE1vKSx3PTA7dyE9PW87dysrKXtjb25zdCB0PW5bd107dC5wcmVTdGVwJiZ0LnByZVN0ZXAuY2FsbCh0KX1sJiYodT1Gby5ub3coKSk7Y29uc3QgRT10aGlzLnN0ZXBudW1iZXIlKHRoaXMucXVhdE5vcm1hbGl6ZVNraXArMSk9PTAsUz10aGlzLnF1YXROb3JtYWxpemVGYXN0O2Zvcih3PTA7dyE9PW87dysrKW5bd10uaW50ZWdyYXRlKHQsRSxTKTtmb3IodGhpcy5jbGVhckZvcmNlcygpLHRoaXMuYnJvYWRwaGFzZS5kaXJ0eT0hMCxsJiYoYy5pbnRlZ3JhdGU9Rm8ubm93KCktdSksdGhpcy50aW1lKz10LHRoaXMuc3RlcG51bWJlcis9MSx0aGlzLmRpc3BhdGNoRXZlbnQoQ28pLHc9MDt3IT09bzt3Kyspe2NvbnN0IHQ9blt3XSxlPXQucG9zdFN0ZXA7ZSYmZS5jYWxsKHQpfWxldCB6PSEwO2lmKHRoaXMuYWxsb3dTbGVlcClmb3Ioej0hMSx3PTA7dyE9PW87dysrKXtjb25zdCB0PW5bd107dC5zbGVlcFRpY2sodGhpcy50aW1lKSx0LnNsZWVwU3RhdGUhPT1GLlNMRUVQSU5HJiYoej0hMCl9dGhpcy5oYXNBY3RpdmVCb2RpZXM9en1jbGVhckZvcmNlcygpe2NvbnN0IHQ9dGhpcy5ib2RpZXMsZT10Lmxlbmd0aDtmb3IobGV0IHM9MDtzIT09ZTtzKyspe2NvbnN0IGU9dFtzXTtlLmZvcmNlLGUudG9ycXVlLGUuZm9yY2Uuc2V0KDAsMCwwKSxlLnRvcnF1ZS5zZXQoMCwwLDApfX19bmV3IG47Y29uc3Qgem89bmV3IFksRm89Z2xvYmFsVGhpcy5wZXJmb3JtYW5jZXx8e307aWYoIUZvLm5vdyl7bGV0IHQ9RGF0ZS5ub3coKTtGby50aW1pbmcmJkZvLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQmJih0PUZvLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQpLEZvLm5vdz0oKT0+RGF0ZS5ub3coKS10fWNvbnN0IENvPXt0eXBlOiJwb3N0U3RlcCJ9LE1vPXt0eXBlOiJwcmVTdGVwIn0sUm89e3R5cGU6Ri5DT0xMSURFX0VWRU5UX05BTUUsYm9keTpudWxsLGNvbnRhY3Q6bnVsbH0sSW89W10sVG89W10sTG89W10scW89W107U28ucHJvdG90eXBlLmVtaXRDb250YWN0RXZlbnRzPSgoKT0+e2NvbnN0IHQ9W10sZT1bXSxzPXt0eXBlOiJiZWdpbkNvbnRhY3QiLGJvZHlBOm51bGwsYm9keUI6bnVsbH0saT17dHlwZToiZW5kQ29udGFjdCIsYm9keUE6bnVsbCxib2R5QjpudWxsfSxvPXt0eXBlOiJiZWdpblNoYXBlQ29udGFjdCIsYm9keUE6bnVsbCxib2R5QjpudWxsLHNoYXBlQTpudWxsLHNoYXBlQjpudWxsfSxuPXt0eXBlOiJlbmRTaGFwZUNvbnRhY3QiLGJvZHlBOm51bGwsYm9keUI6bnVsbCxzaGFwZUE6bnVsbCxzaGFwZUI6bnVsbH07cmV0dXJuIGZ1bmN0aW9uKCl7Y29uc3Qgcj10aGlzLmhhc0FueUV2ZW50TGlzdGVuZXIoImJlZ2luQ29udGFjdCIpLGE9dGhpcy5oYXNBbnlFdmVudExpc3RlbmVyKCJlbmRDb250YWN0Iik7aWYoKHJ8fGEpJiZ0aGlzLmJvZHlPdmVybGFwS2VlcGVyLmdldERpZmYodCxlKSxyKXtmb3IobGV0IGU9MCxpPXQubGVuZ3RoO2U8aTtlKz0yKXMuYm9keUE9dGhpcy5nZXRCb2R5QnlJZCh0W2VdKSxzLmJvZHlCPXRoaXMuZ2V0Qm9keUJ5SWQodFtlKzFdKSx0aGlzLmRpc3BhdGNoRXZlbnQocyk7cy5ib2R5QT1zLmJvZHlCPW51bGx9aWYoYSl7Zm9yKGxldCB0PTAscz1lLmxlbmd0aDt0PHM7dCs9MilpLmJvZHlBPXRoaXMuZ2V0Qm9keUJ5SWQoZVt0XSksaS5ib2R5Qj10aGlzLmdldEJvZHlCeUlkKGVbdCsxXSksdGhpcy5kaXNwYXRjaEV2ZW50KGkpO2kuYm9keUE9aS5ib2R5Qj1udWxsfXQubGVuZ3RoPWUubGVuZ3RoPTA7Y29uc3QgbD10aGlzLmhhc0FueUV2ZW50TGlzdGVuZXIoImJlZ2luU2hhcGVDb250YWN0IiksYz10aGlzLmhhc0FueUV2ZW50TGlzdGVuZXIoImVuZFNoYXBlQ29udGFjdCIpO2lmKChsfHxjKSYmdGhpcy5zaGFwZU92ZXJsYXBLZWVwZXIuZ2V0RGlmZih0LGUpLGwpe2ZvcihsZXQgZT0wLHM9dC5sZW5ndGg7ZTxzO2UrPTIpe2NvbnN0IHM9dGhpcy5nZXRTaGFwZUJ5SWQodFtlXSksaT10aGlzLmdldFNoYXBlQnlJZCh0W2UrMV0pO28uc2hhcGVBPXMsby5zaGFwZUI9aSxvLmJvZHlBPXMuYm9keSxvLmJvZHlCPWkuYm9keSx0aGlzLmRpc3BhdGNoRXZlbnQobyl9by5ib2R5QT1vLmJvZHlCPW8uc2hhcGVBPW8uc2hhcGVCPW51bGx9aWYoYyl7Zm9yKGxldCB0PTAscz1lLmxlbmd0aDt0PHM7dCs9Mil7Y29uc3Qgcz10aGlzLmdldFNoYXBlQnlJZChlW3RdKSxpPXRoaXMuZ2V0U2hhcGVCeUlkKGVbdCsxXSk7bi5zaGFwZUE9cyxuLnNoYXBlQj1pLG4uYm9keUE9cy5ib2R5LG4uYm9keUI9aS5ib2R5LHRoaXMuZGlzcGF0Y2hFdmVudChuKX1uLmJvZHlBPW4uYm9keUI9bi5zaGFwZUE9bi5zaGFwZUI9bnVsbH19fSkoKTtsZXQgUG89e307Y29uc3QgTm89e30sV289e30sVm89e30sa289bmV3IFNvLGpvPXtzdGVwOjEvNjB9LE9vPXt9LF9vPW5ldyBlO2Z1bmN0aW9uIERvKHQscyl7c3dpdGNoKHQpe2Nhc2UiQm94IjpyZXR1cm4gbmV3IGIobmV3IGUoLi4ucy5tYXAoKHQ9PnQvMikpKSk7Y2FzZSJDb252ZXhQb2x5aGVkcm9uIjpjb25zdFt0LGksb109cztyZXR1cm4gbmV3IHYoe3ZlcnRpY2VzOnQubWFwKCgoW3QscyxpXSk9Pm5ldyBlKHQscyxpKSkpLG5vcm1hbHM6bz9vLm1hcCgoKFt0LHMsaV0pPT5uZXcgZSh0LHMsaSkpKTpudWxsLGZhY2VzOml9KTtjYXNlIkN5bGluZGVyIjpyZXR1cm4gbmV3IFplKC4uLnMpO2Nhc2UiSGVpZ2h0ZmllbGQiOnJldHVybiBuZXcgJGUoLi4ucyk7Y2FzZSJQYXJ0aWNsZSI6cmV0dXJuIG5ldyBLZTtjYXNlIlBsYW5lIjpyZXR1cm4gbmV3IFFlO2Nhc2UiU3BoZXJlIjpyZXR1cm4gbmV3IFllKC4uLnMpO2Nhc2UiVHJpbWVzaCI6cmV0dXJuIG5ldyB5cyguLi5zKX19bGV0IEhvLFVvPSExO2Z1bmN0aW9uIEdvKCl7VW89ITAsUG89a28uYm9kaWVzLnJlZHVjZSgoKHQsZSk9Pih7Li4udCxbZS51dWlkXTplfSkpLHt9KX1zZWxmLm9ubWVzc2FnZT10PT57Y29uc3R7b3A6cyx1dWlkOmksdHlwZTpvLHBvc2l0aW9uczpuLHF1YXRlcm5pb25zOnIscHJvcHM6YX09dC5kYXRhO3N3aXRjaChzKXtjYXNlImluaXQiOntjb25zdHtncmF2aXR5OnQsdG9sZXJhbmNlOmUsc3RlcDpzLGl0ZXJhdGlvbnM6aSxhbGxvd1NsZWVwOm8sYnJvYWRwaGFzZTpuLGF4aXNJbmRleDpyLGRlZmF1bHRDb250YWN0TWF0ZXJpYWw6bH09YSxjPXtOYWl2ZUJyb2FkcGhhc2U6RyxTQVBCcm9hZHBoYXNlOkV0fTtrby5hbGxvd1NsZWVwPW8sa28uZ3Jhdml0eS5zZXQodFswXSx0WzFdLHRbMl0pLGtvLnNvbHZlci50b2xlcmFuY2U9ZSxrby5zb2x2ZXIuaXRlcmF0aW9ucz1pLGtvLmJyb2FkcGhhc2U9bmV3KGNbbisiQnJvYWRwaGFzZSJdfHxHKShrbyksa28uYnJvYWRwaGFzZS5heGlzSW5kZXg9bnVsbCE9cj9yOjAsT2JqZWN0LmFzc2lnbihrby5kZWZhdWx0Q29udGFjdE1hdGVyaWFsLGwpLGpvLnN0ZXA9czticmVha31jYXNlInN0ZXAiOntjb25zdCB0PXBlcmZvcm1hbmNlLm5vdygpLzFlMztpZihIbyl7Y29uc3QgZT10LUhvO2tvLnN0ZXAoam8uc3RlcCxlKX1lbHNlIGtvLnN0ZXAoam8uc3RlcCk7SG89dDtjb25zdCBzPWtvLmJvZGllcy5sZW5ndGg7Zm9yKGxldCB0PTA7dDxzO3QrKyl7bGV0IGU9a28uYm9kaWVzW3RdLHM9ZS5wb3NpdGlvbixpPWUucXVhdGVybmlvbjtuWzMqdCswXT1zLngsblszKnQrMV09cy55LG5bMyp0KzJdPXMueixyWzQqdCswXT1pLngscls0KnQrMV09aS55LHJbNCp0KzJdPWkueixyWzQqdCszXT1pLnd9Y29uc3QgaT1bXTtmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyhPbykpe2NvbnN0W3Msb109T29bdF07bGV0IG49UG9bc11bb107biBpbnN0YW5jZW9mIGU/bj1uLnRvQXJyYXkoKTpuIGluc3RhbmNlb2YgaCYmKG4udG9FdWxlcihfbyksbj1fby50b0FycmF5KCkpLGkucHVzaChbdCxuXSl9Y29uc3Qgbz17b3A6ImZyYW1lIixwb3NpdGlvbnM6bixxdWF0ZXJuaW9uczpyLG9ic2VydmF0aW9uczppLGFjdGl2ZTprby5oYXNBY3RpdmVCb2RpZXN9O1VvJiYoby5ib2RpZXM9a28uYm9kaWVzLm1hcCgodD0+dC51dWlkKSksVW89ITEpLHNlbGYucG9zdE1lc3NhZ2Uobyxbbi5idWZmZXIsci5idWZmZXJdKTticmVha31jYXNlImFkZEJvZGllcyI6Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDt0Kyspe2NvbnN0e2FyZ3M6cz1bXSxwb3NpdGlvbjpuPVswLDAsMF0scm90YXRpb246cj1bMCwwLDBdLHNjYWxlOmw9WzEsMSwxXSx2ZWxvY2l0eTpjPVswLDAsMF0sYW5ndWxhclZlbG9jaXR5OnU9WzAsMCwwXSxsaW5lYXJGYWN0b3I6ZD1bMSwxLDFdLGFuZ3VsYXJGYWN0b3I6cD1bMSwxLDFdLHR5cGU6eSxtYXNzOm0sbWF0ZXJpYWw6dixzaGFwZXM6dyxvbkNvbGxpZGU6Zixjb2xsaXNpb25SZXNwb25zZTpnLC4uLnh9PWFbdF0sYj1uZXcgRih7Li4ueCxtYXNzOiJTdGF0aWMiPT09eT8wOm0sdHlwZTp5P0ZbeS50b1VwcGVyQ2FzZSgpXTp2b2lkIDAsbWF0ZXJpYWw6dj9uZXcgbGUodik6dm9pZCAwfSk7Yi51dWlkPWlbdF0sdm9pZCAwIT09ZyYmKGIuY29sbGlzaW9uUmVzcG9uc2U9ZyksIkNvbXBvdW5kIj09PW8/dy5mb3JFYWNoKCgoe3R5cGU6dCxhcmdzOnMscG9zaXRpb246aSxyb3RhdGlvbjpvLG1hdGVyaWFsOm4sLi4ucn0pPT57Y29uc3QgYT1iLmFkZFNoYXBlKERvKHQscyksaT9uZXcgZSguLi5pKTp2b2lkIDAsbz8obmV3IGgpLnNldEZyb21FdWxlciguLi5vKTp2b2lkIDApO24mJihhLm1hdGVyaWFsPW5ldyBsZShuKSksT2JqZWN0LmFzc2lnbihhLHIpfSkpOmIuYWRkU2hhcGUoRG8obyxzKSksYi5wb3NpdGlvbi5zZXQoblswXSxuWzFdLG5bMl0pLGIucXVhdGVybmlvbi5zZXRGcm9tRXVsZXIoclswXSxyWzFdLHJbMl0pLGIudmVsb2NpdHkuc2V0KGNbMF0sY1sxXSxjWzJdKSxiLmFuZ3VsYXJWZWxvY2l0eS5zZXQodVswXSx1WzFdLHVbMl0pLGIubGluZWFyRmFjdG9yLnNldChkWzBdLGRbMV0sZFsyXSksYi5hbmd1bGFyRmFjdG9yLnNldChwWzBdLHBbMV0scFsyXSksa28uYWRkQm9keShiKSxmJiZiLmFkZEV2ZW50TGlzdGVuZXIoImNvbGxpZGUiLCgoe3R5cGU6dCxib2R5OmUsdGFyZ2V0OnMsY29udGFjdDppfSk9Pntjb25zdHtuaTpvLHJpOm4scmo6cn09aTtzZWxmLnBvc3RNZXNzYWdlKHtvcDoiZXZlbnQiLHR5cGU6dCxib2R5OmUudXVpZCx0YXJnZXQ6cy51dWlkLGNvbnRhY3Q6e25pOm8udG9BcnJheSgpLHJpOm4udG9BcnJheSgpLHJqOnIudG9BcnJheSgpLGltcGFjdFZlbG9jaXR5OmkuZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbCgpfSxjb2xsaXNpb25GaWx0ZXJzOntib2R5RmlsdGVyR3JvdXA6ZS5jb2xsaXNpb25GaWx0ZXJHcm91cCxib2R5RmlsdGVyTWFzazplLmNvbGxpc2lvbkZpbHRlck1hc2ssdGFyZ2V0RmlsdGVyR3JvdXA6cy5jb2xsaXNpb25GaWx0ZXJHcm91cCx0YXJnZXRGaWx0ZXJNYXNrOnMuY29sbGlzaW9uRmlsdGVyTWFza319KX0pKX1HbygpO2JyZWFrO2Nhc2UicmVtb3ZlQm9kaWVzIjpmb3IobGV0IHQ9MDt0PGkubGVuZ3RoO3QrKylrby5yZW1vdmVCb2R5KFBvW2lbdF1dKTtHbygpO2JyZWFrO2Nhc2Uic3Vic2NyaWJlIjp7Y29uc3R7aWQ6dCx0eXBlOmV9PWE7T29bdF09W2ksZV07YnJlYWt9Y2FzZSJ1bnN1YnNjcmliZSI6ZGVsZXRlIE9vW2FdO2JyZWFrO2Nhc2Uic2V0UG9zaXRpb24iOlBvW2ldLnBvc2l0aW9uLnNldChhWzBdLGFbMV0sYVsyXSk7YnJlYWs7Y2FzZSJzZXRRdWF0ZXJuaW9uIjpQb1tpXS5xdWF0ZXJuaW9uLnNldEZyb21FdWxlcihhWzBdLGFbMV0sYVsyXSk7YnJlYWs7Y2FzZSJzZXRWZWxvY2l0eSI6UG9baV0udmVsb2NpdHkuc2V0KGFbMF0sYVsxXSxhWzJdKTticmVhaztjYXNlInNldEFuZ3VsYXJWZWxvY2l0eSI6UG9baV0uYW5ndWxhclZlbG9jaXR5LnNldChhWzBdLGFbMV0sYVsyXSk7YnJlYWs7Y2FzZSJzZXRMaW5lYXJGYWN0b3IiOlBvW2ldLmxpbmVhckZhY3Rvci5zZXQoYVswXSxhWzFdLGFbMl0pO2JyZWFrO2Nhc2Uic2V0QW5ndWxhckZhY3RvciI6UG9baV0uYW5ndWxhckZhY3Rvci5zZXQoYVswXSxhWzFdLGFbMl0pO2JyZWFrO2Nhc2Uic2V0TWFzcyI6MCE9PWEmJjA9PT1Qb1tpXS50eXBlJiYoUG9baV0udHlwZT0xKSxQb1tpXS5tYXNzPWEsUG9baV0udXBkYXRlTWFzc1Byb3BlcnRpZXMoKTticmVhaztjYXNlInNldExpbmVhckRhbXBpbmciOlBvW2ldLmxpbmVhckRhbXBpbmc9YTticmVhaztjYXNlInNldEFuZ3VsYXJEYW1waW5nIjpQb1tpXS5hbmd1bGFyRGFtcGluZz1hO2JyZWFrO2Nhc2Uic2V0QWxsb3dTbGVlcCI6UG9baV0uYWxsb3dTbGVlcD1hO2JyZWFrO2Nhc2Uic2V0U2xlZXBTcGVlZExpbWl0IjpQb1tpXS5zbGVlcFNwZWVkTGltaXQ9YTticmVhaztjYXNlInNldFNsZWVwVGltZUxpbWl0IjpQb1tpXS5zbGVlcFRpbWVMaW1pdD1hO2JyZWFrO2Nhc2Uic2V0Q29sbGlzaW9uRmlsdGVyR3JvdXAiOlBvW2ldLmNvbGxpc2lvbkZpbHRlckdyb3VwPWE7YnJlYWs7Y2FzZSJzZXRDb2xsaXNpb25GaWx0ZXJNYXNrIjpjYXNlInNldENvbGxpc2lvbkZpbHRlck1hc2siOlBvW2ldLmNvbGxpc2lvbkZpbHRlck1hc2s9YTticmVhaztjYXNlInNldENvbGxpc2lvblJlc3BvbnNlIjpQb1tpXS5jb2xsaXNpb25SZXNwb25zZT1hO2JyZWFrO2Nhc2Uic2V0Rml4ZWRSb3RhdGlvbiI6UG9baV0uZml4ZWRSb3RhdGlvbj1hO2JyZWFrO2Nhc2UiYXBwbHlGb3JjZSI6UG9baV0uYXBwbHlGb3JjZShuZXcgZSguLi5hWzBdKSxuZXcgZSguLi5hWzFdKSk7YnJlYWs7Y2FzZSJhcHBseUltcHVsc2UiOlBvW2ldLmFwcGx5SW1wdWxzZShuZXcgZSguLi5hWzBdKSxuZXcgZSguLi5hWzFdKSk7YnJlYWs7Y2FzZSJhcHBseUxvY2FsRm9yY2UiOlBvW2ldLmFwcGx5TG9jYWxGb3JjZShuZXcgZSguLi5hWzBdKSxuZXcgZSguLi5hWzFdKSk7YnJlYWs7Y2FzZSJhcHBseUxvY2FsSW1wdWxzZSI6UG9baV0uYXBwbHlMb2NhbEltcHVsc2UobmV3IGUoLi4uYVswXSksbmV3IGUoLi4uYVsxXSkpO2JyZWFrO2Nhc2UiYWRkQ29uc3RyYWludCI6e2NvbnN0W3QscyxuXT1hO2xldCByLHtwaXZvdEE6bCxwaXZvdEI6YyxheGlzQTpoLGF4aXNCOnUsLi4uZH09bjtzd2l0Y2gobD1BcnJheS5pc0FycmF5KGwpP25ldyBlKC4uLmwpOnZvaWQgMCxjPUFycmF5LmlzQXJyYXkoYyk/bmV3IGUoLi4uYyk6dm9pZCAwLGg9QXJyYXkuaXNBcnJheShoKT9uZXcgZSguLi5oKTp2b2lkIDAsdT1BcnJheS5pc0FycmF5KHUpP25ldyBlKC4uLnUpOnZvaWQgMCxvKXtjYXNlIlBvaW50VG9Qb2ludCI6cj1uZXcgSHQoUG9bdF0sbCxQb1tzXSxjLG4ubWF4Rm9yY2UpO2JyZWFrO2Nhc2UiQ29uZVR3aXN0IjpyPW5ldyBRdChQb1t0XSxQb1tzXSx7cGl2b3RBOmwscGl2b3RCOmMsYXhpc0E6aCxheGlzQjp1LC4uLmR9KTticmVhaztjYXNlIkhpbmdlIjpyPW5ldyBlZShQb1t0XSxQb1tzXSx7cGl2b3RBOmwscGl2b3RCOmMsYXhpc0E6aCxheGlzQjp1LC4uLmR9KTticmVhaztjYXNlIkRpc3RhbmNlIjpyPW5ldyBKdChQb1t0XSxQb1tzXSxuLmRpc3RhbmNlLG4ubWF4Rm9yY2UpO2JyZWFrO2Nhc2UiTG9jayI6cj1uZXcgJHQoUG9bdF0sUG9bc10sbik7YnJlYWs7ZGVmYXVsdDpyPW5ldyB6dChQb1t0XSxQb1tzXSxuKX1yLnV1aWQ9aSxrby5hZGRDb25zdHJhaW50KHIpO2JyZWFrfWNhc2UicmVtb3ZlQ29uc3RyYWludCI6a28uY29uc3RyYWludHMuZmlsdGVyKCgoe3V1aWQ6dH0pPT50PT09aSkpLm1hcCgodD0+a28ucmVtb3ZlQ29uc3RyYWludCh0KSkpO2JyZWFrO2Nhc2UiZW5hYmxlQ29uc3RyYWludCI6a28uY29uc3RyYWludHMuZmlsdGVyKCgoe3V1aWQ6dH0pPT50PT09aSkpLm1hcCgodD0+dC5lbmFibGUoKSkpO2JyZWFrO2Nhc2UiZGlzYWJsZUNvbnN0cmFpbnQiOmtvLmNvbnN0cmFpbnRzLmZpbHRlcigoKHt1dWlkOnR9KT0+dD09PWkpKS5tYXAoKHQ9PnQuZGlzYWJsZSgpKSk7YnJlYWs7Y2FzZSJhZGRTcHJpbmciOntjb25zdFt0LHMsb109YTtsZXR7d29ybGRBbmNob3JBOm4sd29ybGRBbmNob3JCOnIsbG9jYWxBbmNob3JBOmwsbG9jYWxBbmNob3JCOmMscmVzdExlbmd0aDpoLHN0aWZmbmVzczp1LGRhbXBpbmc6ZH09bztuPUFycmF5LmlzQXJyYXkobik/bmV3IGUoLi4ubik6dm9pZCAwLHI9QXJyYXkuaXNBcnJheShyKT9uZXcgZSguLi5yKTp2b2lkIDAsbD1BcnJheS5pc0FycmF5KGwpP25ldyBlKC4uLmwpOnZvaWQgMCxjPUFycmF5LmlzQXJyYXkoYyk/bmV3IGUoLi4uYyk6dm9pZCAwO2xldCBwPW5ldyBjZShQb1t0XSxQb1tzXSx7d29ybGRBbmNob3JBOm4sd29ybGRBbmNob3JCOnIsbG9jYWxBbmNob3JBOmwsbG9jYWxBbmNob3JCOmMscmVzdExlbmd0aDpoLHN0aWZmbmVzczp1LGRhbXBpbmc6ZH0pO3AudXVpZD1pO2xldCB5PXQ9PnAuYXBwbHlGb3JjZSgpO1dvW2ldPXksa28uYWRkRXZlbnRMaXN0ZW5lcigicG9zdFN0ZXAiLFdvW2ldKTticmVha31jYXNlInJlbW92ZVNwcmluZyI6a28ucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9zdFN0ZXAiLFdvW2ldKTticmVhaztjYXNlImFkZFJheSI6e2NvbnN0e2Zyb206dCx0bzpzLC4uLm99PWEsbj1uZXcgWSh0P25ldyBlKC4uLnQpOnZvaWQgMCxzP25ldyBlKC4uLnMpOnZvaWQgMCk7by5tb2RlPVlbby5tb2RlLnRvVXBwZXJDYXNlKCldLG8ucmVzdWx0PW5ldyBYLFZvW2ldPSgpPT57bi5pbnRlcnNlY3RXb3JsZChrbyxvKTtjb25zdHtib2R5OmUsc2hhcGU6cixyYXlGcm9tV29ybGQ6YSxyYXlUb1dvcmxkOmwsaGl0Tm9ybWFsV29ybGQ6YyxoaXRQb2ludFdvcmxkOmgsLi4udX09by5yZXN1bHQ7c2VsZi5wb3N0TWVzc2FnZSh7b3A6ImV2ZW50Iix0eXBlOiJyYXloaXQiLHJheTp7ZnJvbTp0LHRvOnMsZGlyZWN0aW9uOm4uZGlyZWN0aW9uLnRvQXJyYXkoKSxjb2xsaXNpb25GaWx0ZXJHcm91cDpuLmNvbGxpc2lvbkZpbHRlckdyb3VwLGNvbGxpc2lvbkZpbHRlck1hc2s6bi5jb2xsaXNpb25GaWx0ZXJNYXNrLHV1aWQ6aX0sYm9keTplP2UudXVpZDpudWxsLHNoYXBlOnI/ey4uLnIsYm9keTplLnV1aWR9Om51bGwscmF5RnJvbVdvcmxkOmEudG9BcnJheSgpLHJheVRvV29ybGQ6bC50b0FycmF5KCksaGl0Tm9ybWFsV29ybGQ6Yy50b0FycmF5KCksaGl0UG9pbnRXb3JsZDpoLnRvQXJyYXkoKSwuLi51fSl9LGtvLmFkZEV2ZW50TGlzdGVuZXIoInByZVN0ZXAiLFZvW2ldKTticmVha31jYXNlInJlbW92ZVJheSI6a28ucmVtb3ZlRXZlbnRMaXN0ZW5lcigicHJlU3RlcCIsVm9baV0pLGRlbGV0ZSBWb1tpXTticmVhaztjYXNlImFkZFJheWNhc3RWZWhpY2xlIjp7Y29uc3RbdCxzLG8sbixyLGxdPWEsYz1uZXcgRWUoe2NoYXNzaXNCb2R5OlBvW3RdLGluZGV4Rm9yd2FyZEF4aXM6bixpbmRleFJpZ2h0QXhpczpyLGluZGV4VXBBeGlzOmx9KTtjLndvcmxkPWtvO2ZvcihsZXQgdD0wO3Q8by5sZW5ndGg7dCsrKXtjb25zdCBpPW9bdF07aS5kaXJlY3Rpb25Mb2NhbD1uZXcgZSguLi5pLmRpcmVjdGlvbkxvY2FsKSxpLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbD1uZXcgZSguLi5pLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbCksaS5heGxlTG9jYWw9bmV3IGUoLi4uaS5heGxlTG9jYWwpLGMuYWRkV2hlZWwoaSksUG9bc1t0XV19Tm9baV09e3ZlaGljbGU6Yyx3aGVlbHM6cyxwcmVTdGVwOigpPT57Tm9baV0udmVoaWNsZS51cGRhdGVWZWhpY2xlKGtvLmR0KX0scG9zdFN0ZXA6KCk9Pntmb3IobGV0IHQ9MDt0PE5vW2ldLnZlaGljbGUud2hlZWxJbmZvcy5sZW5ndGg7dCsrKXtOb1tpXS52ZWhpY2xlLnVwZGF0ZVdoZWVsVHJhbnNmb3JtKHQpO2NvbnN0IGU9Tm9baV0udmVoaWNsZS53aGVlbEluZm9zW3RdLndvcmxkVHJhbnNmb3JtLHM9UG9bTm9baV0ud2hlZWxzW3RdXTtzLnBvc2l0aW9uLmNvcHkoZS5wb3NpdGlvbikscy5xdWF0ZXJuaW9uLmNvcHkoZS5xdWF0ZXJuaW9uKX19fSxrby5hZGRFdmVudExpc3RlbmVyKCJwcmVTdGVwIixOb1tpXS5wcmVTdGVwKSxrby5hZGRFdmVudExpc3RlbmVyKCJwb3N0U3RlcCIsTm9baV0ucG9zdFN0ZXApO2JyZWFrfWNhc2UicmVtb3ZlUmF5Y2FzdFZlaGljbGUiOmtvLnJlbW92ZUV2ZW50TGlzdGVuZXIoInByZVN0ZXAiLE5vW2ldLnByZVN0ZXApLGtvLnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvc3RTdGVwIixOb1tpXS5wb3N0U3RlcCksTm9baV0udmVoaWNsZS53b3JsZD1udWxsLE5vW2ldLnZlaGljbGU9bnVsbCxkZWxldGUgTm9baV07YnJlYWs7Y2FzZSJzZXRSYXljYXN0VmVoaWNsZVN0ZWVyaW5nVmFsdWUiOntjb25zdFt0LGVdPWE7Tm9baV0udmVoaWNsZS5zZXRTdGVlcmluZ1ZhbHVlKHQsZSk7YnJlYWt9Y2FzZSJhcHBseVJheWNhc3RWZWhpY2xlRW5naW5lRm9yY2UiOntjb25zdFt0LGVdPWE7Tm9baV0udmVoaWNsZS5hcHBseUVuZ2luZUZvcmNlKHQsZSk7YnJlYWt9Y2FzZSJzZXRSYXljYXN0VmVoaWNsZUJyYWtlIjp7Y29uc3RbdCxlXT1hO05vW2ldLnZlaGljbGUuc2V0QnJha2UodCxlKTticmVha319fX0oKTsKCg==",z=null,R=!1,function(b){return n=n||x(Y,z,R),new Worker(n,b)});function K({children:G,step:X=1/60,gravity:u=[0,-10,0],tolerance:W=.001,iterations:p=5,allowSleep:a=!1,broadphase:s="Naive",axisIndex:y=0,defaultContactMaterial:V={contactEquationStiffness:1e6},size:x=1e3}){const{gl:Y,invalidate:z}=L(),[R]=l((()=>new S)),[n]=l({}),[K]=l((()=>({positions:new Float32Array(3*x),quaternions:new Float32Array(4*x)}))),[o]=l({}),[N]=l({}),k=d({}),H=Z((()=>()=>{0!==K.positions.byteLength&&0!==K.quaternions.byteLength&&R.postMessage({op:"step",...K},[K.positions.buffer,K.quaternions.buffer])}),[]),C=d(!1);m((()=>{var b,G,l;null!=(b=Y.xr)&&b.isPresenting&&!C.current&&Y.xr.getSession().requestAnimationFrame(H),null!=(G=Y.xr)&&G.isPresenting||!C.current||requestAnimationFrame(H),C.current=null==(l=Y.xr)?void 0:l.isPresenting})),c((()=>(R.postMessage({op:"init",props:{gravity:u,tolerance:W,step:X,iterations:p,broadphase:s,allowSleep:a,axisIndex:y,defaultContactMaterial:V}}),R.onmessage=b=>{switch(b.data.op){case"frame":b.data.bodies&&(k.current=b.data.bodies.reduce(((G,l)=>({...G,[l]:b.data.bodies.indexOf(l)})),{})),K.positions=b.data.positions,K.quaternions=b.data.quaternions,b.data.observations.forEach((([b,G])=>N[b](G))),Y.xr&&Y.xr.isPresenting?Y.xr.getSession().requestAnimationFrame(H):requestAnimationFrame(H),b.data.active&&z();break;case"event":switch(b.data.type){case"collide":o[b.data.target]({...b.data,target:n[b.data.target],body:n[b.data.body]});break;case"rayhit":o[b.data.ray.uuid]({...b.data,body:b.data.body?n[b.data.body]:null})}}},H(),()=>R.terminate())),[]);const v=Z((()=>({worker:R,bodies:k,refs:n,buffers:K,events:o,subscriptions:N})),[R,k,n,K,o,N]);return b.createElement(h.Provider,{value:v},G)}const o=new p;function N(b,G,l){return G.args=l(G.args),b.userData=G.userData||{},b.position.set(...G.position||[0,0,0]),b.rotation.set(...G.rotation||[0,0,0]),G}function k(b,G,l){void 0!==G&&(b.position.fromArray(l.positions,3*G),b.quaternion.fromArray(l.quaternions,4*G))}let H=0;function C(b,G,l,c){const W=d(null),L=c||W,{worker:a,bodies:V,buffers:x,refs:Y,events:z,subscriptions:R}=X(h);u((()=>{L.current||(L.current=new p);const d=L.current,Z=a;let c,X=[d.uuid];return d instanceof s?(d.instanceMatrix.setUsage(y),X=new Array(d.count).fill(0).map(((b,G)=>d.uuid+"/"+G)),c=X.map(((b,Z)=>{const c=N(o,G(Z),l);return o.updateMatrix(),d.setMatrixAt(Z,o.matrix),d.instanceMatrix.needsUpdate=!0,c}))):c=[N(d,G(0),l)],c.forEach(((b,G)=>{Y[X[G]]=d,b.onCollide&&(z[X[G]]=b.onCollide,b.onCollide=!0)})),Z.postMessage({op:"addBodies",type:b,uuid:X,props:c}),()=>{c.forEach(((b,G)=>{delete Y[X[G]],b.onCollide&&delete z[X[G]]})),Z.postMessage({op:"removeBodies",uuid:X})}}),[]),m((()=>{if(L.current&&x.positions.length&&x.quaternions.length)if(L.current instanceof s)for(let b=0;b<L.current.count;b++){const G=V.current[L.current.uuid+"/"+b];void 0!==G&&(k(o,G,x),o.updateMatrix(),L.current.setMatrixAt(b,o.matrix)),L.current.instanceMatrix.needsUpdate=!0}else k(L.current,V.current[L.current.uuid],x)}));const n=Z((()=>{const b=b=>void 0!==b?L.current.uuid+"/"+b:L.current.uuid,G=(G,l,d)=>L.current&&a.postMessage({op:G,uuid:b(l),props:d}),l=(b,l)=>d=>{const Z=H++;return R[Z]=d,G("subscribe",l,{id:Z,type:b}),()=>{delete R[Z],G("unsubscribe",l,Z)}},d=(b,G)=>b+G.charAt(0).toUpperCase()+G.slice(1),Z=(b,Z)=>({set:(l,c,X)=>G(d("set",b),Z,[l,c,X]),copy:({x:l,y:c,z:X})=>G(d("set",b),Z,[l,c,X]),subscribe:l(b,Z)}),c=(b,Z)=>({set:l=>G(d("set",b),Z,l),subscribe:l(b,Z)});function X(b){return{position:Z("position",b),rotation:Z("quaternion",b),velocity:Z("velocity",b),angularVelocity:Z("angularVelocity",b),linearFactor:Z("linearFactor",b),angularFactor:Z("angularFactor",b),mass:c("mass",b),linearDamping:c("linearDamping",b),angularDamping:c("angularDamping",b),allowSleep:c("allowSleep",b),sleepSpeedLimit:c("sleepSpeedLimit",b),sleepTimeLimit:c("sleepTimeLimit",b),collisionFilterGroup:c("collisionFilterGroup",b),collisionFilterMask:c("collisionFilterMask",b),collisionResponse:c("collisionResponse",b),fixedRotation:c("fixedRotation",b),userData:c("userData",b),applyForce(l,d){G("applyForce",b,[l,d])},applyImpulse(l,d){G("applyImpulse",b,[l,d])},applyLocalForce(l,d){G("applyLocalForce",b,[l,d])},applyLocalImpulse(l,d){G("applyLocalImpulse",b,[l,d])}}}const u={};return{...X(void 0),at:b=>u[b]||(u[b]=X(b))}}),[]);return[L,n]}function v(b,G){return C("Plane",b,(()=>[]),G)}function M(b,G){return C("Box",b,(b=>b||[1,1,1]),G)}function F(b,G){return C("Cylinder",b,(b=>b),G)}function t(b,G){return C("Heightfield",b,(b=>b),G)}function i(b,G){return C("Particle",b,(()=>[]),G)}function J(b,G){return C("Sphere",b,(b=>[null!=b?b:1]),G)}function Q(b,G){return C("Trimesh",b,(b=>[b[0].map((b=>b instanceof V?[b.x,b.y,b.z]:b)),b[1]]),G)}function U(b,G){return C("ConvexPolyhedron",b,(b=>[b[0].map((b=>b instanceof V?[b.x,b.y,b.z]:b)),b[1],b[2]&&b[2].map((b=>b instanceof V?[b.x,b.y,b.z]:b))]),G)}function T(b,G){return C("Compound",b,(b=>b||[]),G)}function P(b,G,l,u={},W=[]){const{worker:L}=X(h),m=a.generateUUID(),p=d(null),s=d(null);G=null==G?p:G,l=null==l?s:l,c((()=>{if(G.current&&l.current)return L.postMessage({op:"addConstraint",uuid:m,type:b,props:[G.current.uuid,l.current.uuid,u]}),()=>L.postMessage({op:"removeConstraint",uuid:m})}),W);const y=Z((()=>({enable:()=>L.postMessage({op:"enableConstraint",uuid:m}),disable:()=>L.postMessage({op:"disableConstraint",uuid:m})})),W);return[G,l,y]}function B(b,G,l,d=[]){return P("PointToPoint",b,G,l,d)}function e(b,G,l,d=[]){return P("ConeTwist",b,G,l,d)}function I(b,G,l,d=[]){return P("Distance",b,G,l,d)}function j(b,G,l,d=[]){return P("Hinge",b,G,l,d)}function w(b,G,l,d=[]){return P("Lock",b,G,l,d)}function g(b,G,Z,u=[]){const{worker:W,events:L}=X(h),[m]=l((()=>a.generateUUID())),p=d(null),s=d(null);return b=null==b?p:b,G=null==G?s:G,c((()=>{if(b.current&&G.current)return W.postMessage({op:"addSpring",uuid:m,props:[b.current.uuid,G.current.uuid,Z]}),L[m]=()=>{},()=>{W.postMessage({op:"removeSpring",uuid:m}),delete L[m]}}),u),[b,G]}function E(b,G,d,Z=[]){const{worker:u,events:W}=X(h),[L]=l((()=>a.generateUUID()));c((()=>(W[L]=d,u.postMessage({op:"addRay",uuid:L,props:{mode:b,...G}}),()=>{u.postMessage({op:"removeRay",uuid:L}),delete W[L]})),Z)}function O(b,G,l=[]){E("Closest",b,G,l)}function D(b,G,l=[]){E("Any",b,G,l)}function r(b,G,l=[]){E("All",b,G,l)}function A(b,G){const l=G||d(null),{worker:c}=X(h);u((()=>{var G;l.current||(l.current=new p);const d=c;let Z=[l.current.uuid];const X=b();return d.postMessage({op:"addRaycastVehicle",uuid:Z,props:[null==(G=X.chassisBody.current)?void 0:G.uuid,X.wheels.map((b=>{var G;return null==(G=b.current)?void 0:G.uuid})),X.wheelInfos,(null==X?void 0:X.indexForwardAxis)||2,(null==X?void 0:X.indexRightAxis)||0,(null==X?void 0:X.indexUpAxis)||1]}),()=>{d.postMessage({op:"removeRaycastVehicle",uuid:Z})}}),[]);const W=Z((()=>{const b=(b,G)=>l.current&&c.postMessage({op:b,uuid:l.current.uuid,props:G});return{setSteeringValue(G,l){b("setRaycastVehicleSteeringValue",[G,l])},applyEngineForce(G,l){b("applyRaycastVehicleEngineForce",[G,l])},setBrake(G,l){b("setRaycastVehicleBrake",[G,l])}}}),[]);return[l,W]}function f(G){return b.createElement(W,{fallback:null},b.createElement(K,G))}export{f as Physics,h as context,M as useBox,T as useCompoundBody,e as useConeTwistConstraint,U as useConvexPolyhedron,F as useCylinder,I as useDistanceConstraint,t as useHeightfield,j as useHingeConstraint,w as useLockConstraint,i as useParticle,v as usePlane,B as usePointToPointConstraint,r as useRaycastAll,D as useRaycastAny,O as useRaycastClosest,A as useRaycastVehicle,J as useSphere,g as useSpring,Q as useTrimesh};
